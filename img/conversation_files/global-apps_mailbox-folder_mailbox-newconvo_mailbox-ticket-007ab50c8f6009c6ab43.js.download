(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1577:function(t,e,i){(function(t,e){window;var s,n=(s=i(23))&&s.__esModule?s:{default:s};var o=13,a=27,l=9,u=38,r=40;!function(t){var i=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function s(t,e,s){t=t||"";var n="("+(s=s||"").replace(i,"\\$1")+")";return t.replace(new RegExp(n,"gi"),"<strong>$1</strong>")}function h(e,i){this.el=t(e),this.el.attr("autocomplete","off"),this.elId=i.id||Math.floor(1048576*Math.random()).toString(16),this.suggestions=[],this.data=[],this.badQueries=[],this.selectedIndex=-1,this.currentValue=this.el.val(),this.intervalId=0,this.cachedResponse=[],this.onChangeInterval=null,this.onChange=null,this.escapes=[],this.ignoreValueChange=!1,this.serviceUrl=i.serviceUrl,this.isLocal=!1,this.options={autoSubmit:!1,minChars:1,maxHeight:300,maxItems:100,noCache:!0,deferRequestBy:0,width:0,highlight:!0,onSearchStart:t.noop,onSearchComplete:t.noop,onSearchError:t.noop,params:{},fnFormatResult:s,delimiter:/[,;]{1,}/,zIndex:9999},this.initialize(i.id),this.setOptions(i),this.el.data("autocomplete",this)}t.fn.autocomplete=function(e,i){var s;return"string"==typeof e?"function"==typeof(s=this.data("autocomplete"))[e]&&s[e](i):s=new h(this.get(0)||t("<input />"),e),s},h.prototype={killerFn:null,initialize:function(e){var i=this;this.autocompleteId=e,this.killerFn=function(e){0===t(e.target).parents(".autocomplete").size()&&(i.killSuggestions(),i.disableKillerFn())},this.options.width||(this.options.width=this.el.outerWidth()),this.mainContainerId="container-"+e,t('<div id="'+this.mainContainerId+'" style="position:absolute;z-index:9999;"><div class="autocomplete-w1"><div class="autocomplete" id="'+this.autocompleteId+'" style="display:none; width:300px;"></div></div></div>').appendTo("body"),this.container=t("#"+this.autocompleteId),this.fixPosition(),this.el.keydown((function(t){i.onKeyPress(t)})),window.opera&&this.el.keypress((function(t){i.onKeyPress(t)})),this.el.focus((function(){i.fixPosition()})),this.el.change((function(t){i.onValueChanged()})),this.el.keyup((function(t){i.onKeyUp(t)})),this.el.blur((function(){i.abortPromise(),i.enableKillerFn(),i.hide()}))},extendOptions:function(e){t.extend(this.options,e)},setOptions:function(e){var i=this.options;this.extendOptions(e),(i.lookup||i.isLocal)&&(this.isLocal=!0,t.isArray(i.lookup)&&(i.lookup={suggestions:i.lookup,data:[]})),t("#"+this.mainContainerId).css({zIndex:i.zIndex}),this.container.css({maxHeight:i.maxHeight+"px",width:i.width})},clearCache:function(){this.cachedResponse=[],this.badQueries=[]},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},fixPosition:function(){var e=this.el.offset();t("#"+this.mainContainerId).css({top:e.top+this.el.outerHeight()+"px",left:e.left+"px"})},enableKillerFn:function(){t(document).bind("click",this.killerFn)},disableKillerFn:function(){t(document).unbind("click",this.killerFn)},killSuggestions:function(){var t=this;t.stopKillSuggestions(),t.intervalId=window.setInterval((function(){t.hide(),t.stopKillSuggestions()}),300)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},onValueChanged:function(){this.change(this.selectedIndex)},onKeyPress:function(t){if(!this.disabled&&this.enabled){switch(t.which){case a:return this.el.val(this.currentValue),!1;case l:case o:if(-1===this.selectedIndex)return void this.hide();if(this.select(this.selectedIndex),t.keyCode===l)return;break;case u:this.moveUp();break;case r:this.moveDown()}t.stopImmediatePropagation()}},onKeyUp:function(t){if(!this.disabled&&t.which!==r&&t.which!==u){var e=this;clearInterval(this.onChangeInterval),this.currentValue!==this.el.val()&&(this.options.deferRequestBy>0?this.onChangeInterval=setInterval((function(){e.onValueChange.call(e)}),this.options.deferRequestBy):this.onValueChange())}},onValueChange:function(){clearInterval(this.onChangeInterval),this.currentValue=this.el.val();var t=this.getQuery(this.currentValue);this.selectedIndex=-1,this.ignoreValueChange?this.ignoreValueChange=!1:""===t||t.length<this.options.minChars?this.hide():this.getSuggestions(t)},getQuery:function(e){var i=this.options.delimiter;if(!i)return t.trim(e);var s=e.split(i);return t.trim(s[s.length-1])},getSuggestionsLocal:function(t){var i,s={suggestions:[],data:[]},n=this.options.lookup;i=t?t.toLowerCase():t;for(var o=0;o<n.suggestions.length;o++){var a=n.suggestions[o],l=e.unescape(a.name);(l.indexOf(i)>-1||l.indexOf(t)>-1)&&(s.suggestions.push(a.name),s.data.push(a),this.data.push(a))}return s},getSuggestions:function(i){var s=this.isLocal?this.getSuggestionsLocal(i):this.cachedResponse[i],n=this;!1!==n.options.onSearchStart.call(n.el,n.options.params)&&(s&&t.isArray(s.suggestions)?(this.suggestions=s.suggestions,this.data=s.data,this.suggest(),n.options.onSearchComplete.call(n.el,i,s.suggestions)):this.isBadQuery(i)?n.options.onSearchComplete.call(n.el,i,[]):((n=this).options.params.q=i,this.abortPromise(),this.promise=t.get(this.serviceUrl,e.extend({},n.options.params,{dataType:"json"}),(function(t,e,s){if(HS.Utils.Ajax.checkRedirect(s,e),n.options.onSearchComplete.call(n.el,i,t),!t)return n.hide();n.processResponse.call(n,t,n.options.params.q)}),"text").fail((function(t,e,s){n.options.onSearchError.call(n.el,i,t,e,s)}))))},getSuggestionsLength:function(){return Math.min(this.suggestions.length,this.options.maxItems)},abortPromise:function(){this.promise&&this.promise.abort&&this.promise.abort(),delete this.promise},isBadQuery:function(t){for(var e=this.badQueries.length;e--;)if(0===t.indexOf(this.badQueries[e]))return!0;return!1},hide:function(){HS.stack.closed("autocomplete-"+this.autocompleteId),this.enabled=!1,this.selectedIndex=-1,this.container.hide()},suggest:function(){if(0!==this.suggestions.length){var e=this,i=this.getSuggestionsLength(),s=this.options.fnFormatResult,n=this.getQuery(this.currentValue),o=function(t){return function(){e.activate(t)}},a=function(i){return function(){e.select(i),"FORM"===e.el.parent()[0].tagName.toUpperCase()?(e.el.parent().trigger("submit"),setTimeout((function(){e.el.focus()}),400)):(e.el.trigger(t.Event("keydown",{which:13})).trigger(t.Event("keyup",{which:13})),setTimeout((function(){e.el.focus()}),200))}};this.container.hide().empty();for(var l=0;l<i;l++){var u=this.suggestions[l],r=t((e.selectedIndex===l?'<div class="selected"':"<div")+' title="'+Handlebars.Utils.escapeExpression(u)+'">'+s(u,this.data[l],n)+"</div>");r.mouseover(o(l)),r.on("mousedown",a(l)),this.container.append(r)}if(this.enabled=!0,this.container.show(),this.el.on("click",(function(t){t.stopPropagation()})),this.container.on("click",(function(t){t.stopPropagation()})),t("html").on("click",(function(){e.hide()})),this.escapes.length)for(i=this.escapes.length,l=0;l<i;l++)this.escapes[l]>-1&&(HS.stack.removeFromStack(this.escapes[l]),this.escapes[l]=null,this.escapes.splice(l,1));this.escapes.push(HS.stack.opened("autocomplete-"+this.autocompleteId,(function(){e.hide(),t("#tag").val("")}),null))}else this.hide()},processResponse:function(t,e){try{var i=JSON.parse(t)}catch(o){return}if(0===i.items.length)return this.hide(),!1;if(e===this.getQuery(this.currentValue)){var s,n=i.items.length;for(this.suggestions=[],this.data=[],s=0;s<n;s++)this.suggestions.push(i.items[s].name),this.data.push(i.items[s]);this.options.noCache||(this.cachedResponse[e]=i,0===this.suggestions.length&&this.badQueries.push(e)),this.suggest()}},activate:function(e){var i,s=this.container.children();return-1!==this.selectedIndex&&s.length>this.selectedIndex&&t(s.get(this.selectedIndex)).removeClass("selected"),this.selectedIndex=e,-1!==this.selectedIndex&&s.length>this.selectedIndex?(i=s.get(this.selectedIndex),t(i).addClass("selected"),i):null},deactivate:function(t,e){t.className="",this.selectedIndex===e&&(this.selectedIndex=-1)},select:function(t){var e,i=this.suggestions[t];i&&(this.el.val(i),this.options.autoSubmit&&(e=this.el.parents("form")).length>0&&e.get(0).submit(),this.hide(),this.onSelect(t))},change:function(e){var i,s,n=this.suggestions[e],o=this,a=o.options.onChange;n?(i=o.suggestions[e],s=o.data[e],o.el.val(o.getValue(i))):(i="",s=-1),t.isFunction(a)&&a(i,s,o.el)},moveUp:function(){0===this.selectedIndex?(this.container.children().get(0).className="",this.selectedIndex=-1,this.el.val(this.currentValue)):-1!==this.selectedIndex&&this.adjustScroll(this.selectedIndex-1)},moveDown:function(){this.selectedIndex!==this.getSuggestionsLength()-1&&this.adjustScroll(this.selectedIndex+1)},adjustScroll:function(t){var e=this.activate(t).offsetTop,i=this.container.scrollTop(),s=i+this.options.maxHeight-25;e<i?this.container.scrollTop(e):e>s&&this.container.scrollTop(e-this.options.maxHeight+25),this.el.val(this.getValue(this.suggestions[t]))},onSelect:function(e){var i=this,s=i.options.onSelect,n=i.suggestions[e],o=i.data[e];i.el.val(i.getValue(n)),t.isFunction(s)&&s.call(i,n,o,i.el)},getValue:function(t){t=n.default.unescapeHTML(t);var e=this.options.delimiter,i=this.currentValue,s=i.split(e);return e&&1!==s.length?i.substr(0,i.length-s[s.length-1].length)+t:t}}}(t)}).call(this,i(8),i(1))},223:function(t,e){window;Object.defineProperty(e,"__esModule",{value:!0}),e.canEditDocsArticle=function(){var t=hsGlobal.features.isEditDocsContentPermissionsEnabled,e=hsGlobal.memberPermissions.editDocsContent;return!t||e},e.canPerformBulkActions=function(){var t=hsGlobal.memberPermissions,e=t.deleteConversations,i=t.editConversationDetails,s=t.manageTagsInConversations;return e||i||s}},5570:function(t,e,i){(function(t,s){window;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=h(i(5)),o=h(i(5707)),a=h(i(293));i(1577);var l=h(i(18)),u=h(i(6)),r=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}var c=u.default.ItemView.extend({template:o.default,ui:{tagLink:"#tagLink",tagMenu:"#tagMain",tagInput:"#tag",tagPopup:"#tagPopup"},events:{"click #tagLink":"open","click #tagPopop":"onPopupClick","click #tag":"onPopupClick","keyup #tagPopop":"onPopupKeyUpDown","keydown #tagPopop":"onPopupKeyUpDown","keyup #tag":"tagInputKeyUp","keydown #tag":"tagInputKeyDown","keypress #tag":"tagInputKeyPress"},cache:[],initialize:function(t){t.ticketTags&&(this.ticketTags=t.ticketTags),this.listenTo(t.keyboard,"tag",this.open)},onClose:function(){n.default.Plugins.Keyboard.Utils.unpause(),n.default.Utils.LocalStorage.stopListening("Tags-List")},onRender:function(){this.getTagList();var t=this;n.default.Utils.LocalStorage.listenKeyChange("Tags-List",(function(e,i){"deleted"===i?t.getTagList():t.updateAutocompleteTags(n.default.Utils.LocalStorage.get("Tags-List"))})),n.default.Utils.Main.initTooltips(this.ui.tagLink)},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},open:function(t){t&&(t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation()),this.disabled||(this.ui.tagInput.val(""),n.default.Controller.PubSub.publish("User:Dropdown:CloseAll",null),this.$el.toggleClass("open"),this.clearTimeout("focus"),this.$el.hasClass("open")?(n.default.Plugins.Keyboard.Utils.pause(),this.setTimeout("focus",(function(){this.ui.tagInput.focus(),n.default.Plugins.Keyboard.Utils.unpause()}),1),n.default.stack.closed("Tag-Widget"),n.default.stack.opened("Tag-Widget",$.proxy((function(){this.$el.length&&$.contains(document,this.$el[0])&&(this.$el.removeClass("open"),this.ui.tagInput.blur(),!$.browser.msie||9!==parseInt($.browser.version,10)&&10!==parseInt($.browser.version,10)?this.$("a:first").focus().blur():$("input[type=text]:first").focus().blur(),this.$el.focus(),n.default.stack.closed("Tag-Widget"))}),this),null)):(n.default.stack.closed("Tag-Widget"),n.default.Plugins.Keyboard.Utils.unpause(),this.ui.tagInput.blur(),this.$el.focus()))},onPopupClick:function(t){return t.stopImmediatePropagation(),t.stopPropagation(),this.ui.tagInput.trigger("focus"),!1},onPopupKeyUpDown:function(t){27!==t.which&&t.stopImmediatePropagation()},getTagList:function(){n.default.Utils.Main.getTags($.proxy(this.getTagsCB,this))},getTagsCB:function(e){if(this.ui.tagInput&&this.ui.tagInput.autocomplete){var i=t.sortBy(e,"name");this.autocomplete=this.ui.tagInput.autocomplete({id:"tags-ac",delimiter:/(,|;)\s*/,minChars:1,lookup:i})}},pruneExistingTags:function(e,i,s,n){e=t.reject(e,(function(e){var n=t.findWhere(i,{id:e});return n&&t.contains(s,n)}));var o=t.reject(n.split(","),$.proxy((function(t){return this.ticketTags.existingTag(t)}),this));return n=o.join(","),i=t.difference(i,s),n},addTicketTags:function(e,i,s){var n=t.filter(e,$.proxy((function(t){return this.ticketTags.existingTag(t.name,t.slug)}),this));n.length==e.length?this.ui.tagInput.select():(n.length&&n.length<e.length&&(s=this.pruneExistingTags(i,e,n,s)),this.ui.tagInput.attr("disabled","disabled"),this.ticketTags.addTags(e,s,$.proxy(this.tagsAddedCB,this),$.proxy(this.failCB,this)))},addTags:function(){n.default.Plugins.Keyboard.Utils.pause(),$(document).one("keyup",(function(){n.default.Plugins.Keyboard.Utils.unpause()})),this.ticketTags||n.default.stack.close("Tag-Widget");var e=r.default.clean(this.ui.tagInput.val());if(0===e.length)return!1;var i=t.reject(e.split(","),(function(t){return r.default.isBlank(t)}));e=(i=t.map(i,(function(t){return r.default.trim(t)}))).join(",");var s=n.default.Utils.LocalStorage.get("Tags-List")||[],o=[],a=[];t.each(i,$.proxy((function(e){var i=e,u=r.default.slugify(e)||e,h=t.find(s,(function(t){var i=r.default.slugify(e),s=r.default.slugify(t.name);return!r.default.isBlank(i)&&s==i||e===t.name||n.default.Utils.String.equalsIgnoreCase(r.default.escapeHTML(e),t.name)}));if(h){i=h.id||h.name;var c={id:h.id,name:h.name,slug:h.slug||u,color:h.color}}else!0,e=l.default.Utils.escapeExpression(e),s.push({name:e,slug:u}),c={name:e,slug:u};o.push(i),a.push(c),n.default.Utils.LocalStorage.set("Tags-List",s)}),this)),this.ticketTags?this.addTicketTags(a,o,e):this.trigger("tags-added",o,e,$.proxy(this.tagsAddedCB,this),$.proxy(this.failCB,this))},failCB:function(){this.ui.tagInput.removeAttr("disabled")},tagsAddedCB:function(t){n.default.Plugins.Keyboard.Utils.unpause(),this.ui.tagInput.removeAttr("disabled"),this.ui.tagInput.focus(),this.ui.tagInput.val(""),this.trigger("tagged")},updateAutocompleteTags:function(t){this.autocomplete&&this.autocomplete.setOptions&&this.autocomplete.setOptions({lookup:t})},tagInputKeyUp:function(t){13===t.which&&(this.addTags(),t.preventDefault())},tagInputKeyDown:function(t){13===t.which&&t.preventDefault()},isOpen:function(){return this.$el.hasClass("open")}});s.mixin(c,a.default);var d=c;e.default=d}).call(this,i(1),i(70))},5707:function(t,e,i){var s=i(4);t.exports=(s.default||s).template({compiler:[8,">= 4.3.0"],main:function(t,e,i,s,n){return'<a class="dropdown-toggle" data-toggle="dropdown" href="#tagMenu" rel="tooltip" data-placement="bottom" data-original-title="Tag (t)" id="tagLink" tabindex="-1"><i class="icon-tag"></i></a>\n<ul class="dropdown-menu" id="tagMain">\n    <li id="tagPopup">\n        <input type="text" name="tag" id="tag" autocomplete="off">\n    </li>\n</ul>'},useData:!0})}}]);
//# sourceMappingURL=global-apps~mailbox-folder~mailbox-newconvo~mailbox-ticket-007ab50c8f6009c6ab43.js.map