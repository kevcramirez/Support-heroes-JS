(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{105:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(18)),o=l(n(203)),a=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){s(t)&&(t=2),s(n)&&(n=!0);var r=parseFloat(e)>=0,l=n?"$":"";return e=Math.abs(e),e=o.default.formatMoney(e,l,t),a.default.endsWith(e,".00")&&(e=e.replace(".00","")),r||(e="("+e+")"),e}function s(e){return"object"===i(e)||void 0===e}r.default.registerHelper("formatMoney",u);var c=u;t.default=c},1560:function(e,t,n){(function(e,r){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n(5)),a=l(n(623));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(t){this.$el=$(t.el),e.extend(this,r.Events);var n=$(this.$el),l=n.data("copyMessage"),i=n.data("loadingText");n.click((function(e){e.metaKey||e.ctrlKey||e.preventDefault()})),this.clipboard=new a.default(this.$el[0]),this.clipboard.on("success",e.bind((function(e){i?(n.button("loading"),setTimeout((function(){n.button("reset")}),2500)):l&&o.default.Utils.Main.success(l),this.trigger("copy",e.text)}),this))};i.prototype.destroy=function(){this.stopListening(),this.clipboard.destroy()};var u=i;t.default=u}).call(this,n(1),n(11))},1561:function(e,t,n){(function(e){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(176))&&r.__esModule?r:{default:r};var a=0,l={},i={initialize:function(){this.listenTo(this,"before:close",this.clearDebounce)},debounce:function(e,t,n){var r=(0,o.default)(e,t,n);return l[++a]=r,r},clearDebounce:function(){e.each(l,(function(e,t){e.flush(),delete l[t]}))}};t.default=i}).call(this,n(1))},1563:function(e,t,n){(function(e){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(18)),o=a(n(307));function a(e){return e&&e.__esModule?e:{default:e}}function l(t,n){t||(t="(no subject)");var a=[],l=n;if(n&&n.length){var i="name";n[0][i]||(i="tag"),l=e.sortBy(n,(function(e){var t=e[i];if(t&&t.toLowerCase)return t.toLowerCase()})),$.each(l,(function(e,t){var n=t[i];if(n)if("color"in t){var r=(0,o.default)(t.color);a.push('<span class="tag js-tag '+r+'">'+n+"</span>")}else a.push('<span class="tag js-tag">'+n+"</span>")}))}return a.length>0?new r.default.SafeString(a.join("")+"&nbsp;"+r.default.Utils.escapeExpression(t)):t}r.default.registerHelper("tagsSubject",l);var i=l;t.default=i}).call(this,n(1))},1566:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return r.default.Utils.String.possessive(e)}o(n(18)).default.registerHelper("possessive",a);var l=a;t.default=l},1567:function(e,t){window;function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={countriesSelector:function(e){var t=e.selects,r=(t=void 0===t?{}:t).countries,o=void 0===r?{}:r;return Object.keys(o).reduce((function(e,t){return 2!==t.length?e:[].concat(n(e),[{id:t,label:o[t],value:t}])}),[])},phonesSelector:function(e){var t=e.selects,r=(t=void 0===t?{}:t).phone,o=void 0===r?{}:r;return Object.keys(o).reduce((function(e,t){return[].concat(n(e),[{id:t,label:o[t],value:t}])}),[])}};t.default=o},1569:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5)),o=c(n(8)),a=c(n(1)),l=c(n(20)),i=c(n(6)),u=c(n(1713)),s=c(n(987));function c(e){return e&&e.__esModule?e:{default:e}}var d=i.default.Behavior.extend({constructor:function(e){a.default.extend(this,l.default.Events),a.default.extend(this,a.default.omit(e,"behaviorClass")),i.default.Behavior.prototype.constructor.apply(this,arguments)},onClose:function(){r.default.Utils.Main.clearPromises(this.promises)},getData:function(e){return a.default.extend(App.filtersModel.toJSON(),e)},getConvoItemsCollection:function(e){return new s.default([],e)},onDrilldown:function(e){e=a.default.defaults(e,{title:"Conversations",url:this.url||this.options.url,titleHtml:!1,extraParam:!1,isWaitingSinceEnabled:this.isWaitingSinceEnabled}),r.default.Utils.Main.cursorLoading();var t=this.getData(e.extraParams);e.staticData=t;var n=e.modifyRequestData,l=this.getConvoItemsCollection(e);r.default.Utils.Main.clearPromises(this.promises),this.promises=[l.goTo(1,{modifyRequestData:n,data:t,success:function(){l.paginate(l,arguments)},skipCursor:!0})];var i=e.previewModel;i&&this.promises.push(i.fetch()),r.default.Utils.Main.cursorLoading(),o.default.when.apply(o.default,this.promises).done(o.default.proxy((function(){i&&(i.listModel=l.findWhere({id:i.get("id")})),this.onLoad(l,e)}),this)).always(r.default.Utils.Main.cursorDefault).fail(o.default.proxy((function(e,t){"abort"!=t&&(this.view.previewing=!1,r.default.Utils.Main.error("Unable to load conversation preview",{timeout:3e3}))}),this)),App.trigger("promise:start",this.promises)},onLoad:function(e,t){if(0==e.length){var n=new i.default.ItemView({template:function(){return"<h3>No Conversations Found</h3>"}});App.modalRegion.wrapAndShow(n,{header:t.title,headerHtml:t.titleHtml})}else App.modalRegion.show(new u.default(a.default.extend({},t,{collection:e,hideCustomerCol:this.hideCustomerCol,isWaitingSinceEnabled:t.isWaitingSinceEnabled})),"modal-xwide");r.default.Utils.Main.initPopovers()}});t.default=d},1570:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.transformCustomer=t.default=t.customerSelector=void 0;var r,o=n(333),a=n(957),l=n(117),i=(r=n(734))&&r.__esModule?r:{default:r},u=n(958),s=["id"];function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){f(e,t,n[t])}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=e.conversations&&e.conversations.page?d({},e.conversations,{results:e.conversations.results?(e.conversations.results||[]).map((function(e){return d({},e,{time:n.isWaitingSinceEnabled?e.waitingSince:e.modifiedAt})})):null,facets:{mailboxid:e.conversations.mailboxes},page:parseInt(e.conversations.page,10),pages:parseInt(e.conversations.pages,10),total:parseInt(e.conversations.total,10)}):e.conversations||{},d({},e,{conversations:t,customerName:(0,u.makeCustomerName)(e),socialProfiles:(e.socialProfiles||[]).map((function(e){return d({},e,{type:function(){var t=e.type.toLowerCase();switch(t){case"aboutme":return"about-me";case"forsquare":return"foursquare";case"googleplus":return"google-plus";case"linkedin":return"linked-in";case"flickr":return"flicker";default:return t.replace(/\./g,"-")}}()})})).sort((function(e,t){return e.type<t.type?-1:e.type>t.type?1:0}))})};t.transformCustomer=p;var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.customerProfile)return{};var t=e.customerProfile,n=t.conflicts,r=t.customer;return p(d({},r,{chats:b(r.chats),conflicts:n,emails:b(O(r.emails)),phones:b(O(r.phones)),socialProfiles:b(r.socialProfiles),websites:b(O(r.websites))}),e.features)};t.customerSelector=m;var h=(0,l.createSelector)([m,i.default.defaultAvatarUrlSelector],(function(e,t){return d({},e,{defaultAvatarUrl:t})})),v=(0,a.createDeepEqualSelector)([function(e){return e.customerProfile.hasLoaded},function(e){return e.customerProfile.isLoading},function(e){return e.customerProfile.isPreloaded}],(function(e,t,n){return{loading:t,loaded:e,preloaded:n}})),y=(0,a.createDeepEqualSelector)([function(e){return e.customerProfile.conflicts}],(function(e){return{conflicts:e}})),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return d({_id:e.id},c(e,s))}))},g=(0,a.createDeepEqualSelector)([h,v,function(e){return o.customerProfileApi.errorSelector(e)},y],(function(e,t,n){return d({data:{customer:e},error:n},t)})),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((function(e,t){return e.id-t.id}))},w={customerSelector:m,hasCustomerProfileSelector:function(e){return!!e.customerProfile&&!!e.customerProfile.customer},isMergeModalOpenSelector:function(e){return e.customerProfile.isMergeModalOpen},loadingSelector:v,mailboxesSelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mailboxes||[]},resolverSelector:g};t.default=w},1571:function(e,t,n){var r,o;window;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingUI=void 0;var a,l,i=(0,((r=n(34))&&r.__esModule?r:{default:r}).default)("div")(o||(a=["\n  position: relative;\n\n  &:after {\n    background: linear-gradient(\n      to bottom,\n      rgba(255, 255, 255, 0) 0%,\n      rgba(255, 255, 255, 1) 100%\n    );\n    bottom: 0;\n    content: '';\n    left: 0;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"],l||(l=a.slice(0)),o=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));t.LoadingUI=i},1573:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'    <td class="waitingSince js-waiting-since js-waiting-or-updated"></td>\n'},3:function(e,t,n,r,o){return'    <td class="lastUpd js-last-updated js-waiting-or-updated"></td>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isWaitingSinceEnabled"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?a:""},useData:!0})},1574:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(1575),a=(r=n(1))&&r.__esModule?r:{default:r};var l={initialize:function(){this.on("dom:refresh",this.renderComponents,this),this.on("close",this.tearDownComponents,this)},renderComponents:function(){var e=this;this.tearDownComponents();var t=a.default.result(this,"components");this._components=Object.keys(t).map((function(n){var r=e.$(n)[0],a=t[n];if(r&&a)return o.ReactDOM.render(a.apply(e),r),r})).filter((function(e){return void 0!==e}))},tearDownComponents:function(){this._components&&(this._components.forEach((function(e){o.ReactDOM.unmountComponentAtNode(e)})),delete this._components)}},i=Object.assign({},l,{components:{".js-waiting-or-updated":function(){var e=this,t={data:this.model.toJSON(),isWaitingSinceEnabled:this.isWaitingSinceEnabled,timezone:hsGlobal.timezone,timeFormat:1==hsGlobal.timeFormat?"h:mma":"H:mm",onClick:function(t){e.trigger("waiting-since-clicked",t)}};return o.React.createElement(o.WaitingSince,t)}}});t.default=i},1580:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(333),a=n(957),l=n(117),i=(r=n(734))&&r.__esModule?r:{default:r};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(0,l.createSelector)([function(e){return e.customers.customers.results},i.default.defaultAvatarUrlSelector],(function(e,t){return e.map((function(e){return e.defaultAvatarUrl=t,e}))})),c=(0,a.createDeepEqualSelector)([function(e){return e.customers.hasLoaded},function(e){return e.customers.isFiltered},function(e){return e.customers.isLoading}],(function(e,t,n){return{filtered:t,loading:n,loaded:e}})),d={resolverSelector:(0,a.createDeepEqualSelector)([function(e){return e.customerProfile.customer.conflicts},s,function(e){var t=e.customers.customers,n=t.count;return{page:t.page,pages:t.pages,perPage:t.rows,total:n}},c,function(e){return o.customersApi.errorSelector(e,"get")}],(function(e,t,n,r,o){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){u(e,t,n[t])}))}return e}({data:{conflicts:e,customers:t,pagination:n},error:o},r)}))};t.default=d},1581:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={errorSelector:function(e,t){var n=e.customersApi;return n[t]?n[t].error:void 0}};t.default=n},1582:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={errorSelector:function(e){var t=e.customerProfileApi;return t?t.error:void 0}};t.default=n},1583:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.customerProfileApiDeleteSelector=void 0;var r=n(117),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customerProfileApiDelete,n=void 0===t?{}:t;return n};t.customerProfileApiDeleteSelector=o;var a={isDeletingCustomerSelector:(0,r.createSelector)([o],(function(e){return e.isFetching})),customerProfileApiDeleteSelector:o};t.default=a},1584:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.customerProfileApiConversationsAccessSelector=void 0;var r=n(117),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customerProfileApiConversationsAccess,n=void 0===t?{}:t;return n};t.customerProfileApiConversationsAccessSelector=o;var a={customerProfileApiConversationsAccessSelector:o,isFetchingConversationsAccessibleSelector:(0,r.createSelector)([o],(function(e){return e.isFetching})),isConversationsAccessibleSelector:(0,r.createSelector)([o],(function(e){return e.conversationsAccessible}))};t.default=a},1585:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.featuresSelector=t.default=void 0;var r=n(117),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.features,n=void 0===t?{}:t;return n};t.featuresSelector=o;var a={featuresSelector:o,isCustomerPropertiesEnabledSelector:(0,r.createSelector)([o],(function(e){return e.isCustomerPropertiesEnabled||!1})),isWaitingSinceEnabledSelector:(0,r.createSelector)([o],(function(e){return e.isWaitingSinceEnabled||!1}))};t.default=a},1586:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={mailboxesSelector:function(e){var t=e.mailboxes;return void 0===t?[]:t},mailboxIdsSelector:function(e){var t=e.mailboxes;return(void 0===t?[]:t).map((function(e){return e.id})).join(",")}};t.default=n},1587:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.permissionsSelector=t.default=void 0;var r=n(117),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.permissions,n=void 0===t?{}:t;return n};t.permissionsSelector=o;var a={canDeleteCustomerSelector:(0,r.createSelector)([o],(function(e){return e.deleteCustomer||!1})),canUpdateCustomerSelector:(0,r.createSelector)([o],(function(e){return e.updateCustomer||!1})),permissionsSelector:o};t.default=a},1588:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getApiCustomerClient=void 0;var r,o=(r=n(1589))&&r.__esModule?r:{default:r},a=n(473);t.getApiCustomerClient=function(){return(0,a.getApiClient)({client:"customer",config:o.default})}},1589:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cache:{mockName:"__SB_CUSTOMER__",mockType:"memory",name:"__HS_CUSTOMER__",type:"memory",version:1,ttl:0}}},1590:function(e,t){window;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getApiCacheOptions=void 0;t.getApiCacheOptions=function(e,t){var r=t.cache,o=r.mockName,a=r.mockType,l={name:r.name,ttl:r.ttl,type:r.type,version:r.version};return e?function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&o.push.apply(o,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach((function(t){n(e,t,r[t])}))}return e}({},l,{name:o,type:a}):l}},1591:function(e,t,n){var r={"./customer/api.customer.client.mock":1592,"./customerConflicts/api.customerConflicts.client.mock":1609,"./customerMerge/api.customerMerge.client.mock":1610,"./profile/api.profile.client.mock":1611,"./properties/api.properties.client.mock":1623,"./search/api.search.client.mock":1624};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1591},1592:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.useMockEndpoints=t.defaultOptions=t.createApiClient=void 0;var r,o=(r=n(136))&&r.__esModule?r:{default:r},a=n(960);function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={delayResponse:300};t.defaultOptions=u;t.createApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=(0,a.createApiClient)(),i=l({},u,n),c=new o.default(r,i);return s(c),r};var s=function(e){e.onPost().reply((function(e){return Promise.resolve([200,{}])}))};t.useMockEndpoints=s},1593:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_PHONE_ICON=t.TYPE_PHONE=t.TYPE_EMAIL_ICON=t.TYPE_EMAIL=t.TYPE_CHAT_ICON=t.TYPE_CHAT=t.TYPES=void 0;t.TYPE_CHAT="chat";t.TYPE_EMAIL="email";t.TYPE_PHONE="phone";var n=["chat","email","phone"];t.TYPES=n;t.TYPE_CHAT_ICON="chat-small";t.TYPE_EMAIL_ICON="envelope";t.TYPE_PHONE_ICON="call"},1594:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_URL=void 0;t.BASE_URL="/customer"},1595:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_URL=void 0;t.BASE_URL="/api/v1"},1596:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_URL=void 0;t.BASE_URL="/api/v1"},1597:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CUSTOMER_SUCCEEDED=t.GET_CUSTOMER_REQUESTED=t.GET_CUSTOMER_FAILED=t.BASE_URL=void 0;t.BASE_URL="/api/v1/customers";t.GET_CUSTOMER_REQUESTED="CUSTOMER_PROFILE_API_GET_CUSTOMER_PROFILE_REQUESTED";t.GET_CUSTOMER_SUCCEEDED="CUSTOMER_PROFILE_API_GET_CUSTOMER_PROFILE_SUCCEEDED";t.GET_CUSTOMER_FAILED="CUSTOMER_PROFILE_API_GET_CUSTOMER_PROFILE_FAILED"},1598:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CUSTOMER_CONVERSATIONS_SUCCEEDED=t.GET_CUSTOMER_CONVERSATIONS_REQUESTED=t.GET_CUSTOMER_CONVERSATIONS_FAILED=t.BASE_URL=void 0;t.BASE_URL="/api/v1/customers";t.GET_CUSTOMER_CONVERSATIONS_REQUESTED="CUSTOMER_PROFILE_API_GET_CONVERSATIONS_REQUESTED";t.GET_CUSTOMER_CONVERSATIONS_SUCCEEDED="CUSTOMER_PROFILE_API_GET_CONVERSATIONS_SUCCEEDED";t.GET_CUSTOMER_CONVERSATIONS_FAILED="CUSTOMER_PROFILE_API_GET_CONVERSATIONS_FAILED"},1599:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CUSTOMER_CONVERSATIONS_ACCESS_SUCCEEDED=t.GET_CUSTOMER_CONVERSATIONS_ACCESS_REQUESTED=t.GET_CUSTOMER_CONVERSATIONS_ACCESS_FAILED=t.BASE_URL=void 0;t.BASE_URL="/api/v1/customers";t.GET_CUSTOMER_CONVERSATIONS_ACCESS_REQUESTED="CUSTOMER_PROFILE_API_GET_CONVERSATIONS_ACCESS_REQUESTED";t.GET_CUSTOMER_CONVERSATIONS_ACCESS_SUCCEEDED="CUSTOMER_PROFILE_API_GET_CONVERSATIONS_ACCESS_SUCCEEDED";t.GET_CUSTOMER_CONVERSATIONS_ACCESS_FAILED="CUSTOMER_PROFILE_API_GET_CONVERSATIONS_ACCESS_FAILED"},1600:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.DELETE_CUSTOMER_SUCCEEDED=t.DELETE_CUSTOMER_REQUESTED=t.DELETE_CUSTOMER_FAILED=void 0;t.DELETE_CUSTOMER_REQUESTED="CUSTOMER_PROFILE_API_DELETE_REQUESTED";t.DELETE_CUSTOMER_SUCCEEDED="CUSTOMER_PROFILE_API_DELETE_SUCCEEDED";t.DELETE_CUSTOMER_FAILED="CUSTOMER_PROFILE_API_DELETE_FAILED"},1601:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_EMAILS=t.UPDATE_CONVERSATIONS=t.OPEN_MERGE_MODAL=t.LOADING=t.LOADED=t.CLOSE_MERGE_MODAL=void 0;t.CLOSE_MERGE_MODAL="CLOSE_MERGE_MODAL";t.OPEN_MERGE_MODAL="CUSTOMER_PROFILE_OPEN_MERGE_MODAL";t.LOADING="CUSTOMER_PROFILE_LOADING";t.LOADED="CUSTOMER_PROFILE_LOADED";t.UPDATE_CONVERSATIONS="CUSTOMER_PROFILE_UPDATE_CONVERSATIONS";t.UPDATE_EMAILS="UPDATE_EMAILS"},1602:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.DELETE_CUSTOMER_PHOTO_SUCCEEDED=t.DELETE_CUSTOMER_PHOTO_REQUESTED=t.DELETE_CUSTOMER_PHOTO_FAILED=void 0;t.DELETE_CUSTOMER_PHOTO_REQUESTED="CUSTOMER_PROFILE_API_DELETE_CUSTOMER_PHOTO_REQUESTED";t.DELETE_CUSTOMER_PHOTO_SUCCEEDED="CUSTOMER_PROFILE_API_DELETE_CUSTOMER_PHOTO_SUCCEEDED";t.DELETE_CUSTOMER_PHOTO_FAILED="CUSTOMER_PROFILE_API_DELETE_CUSTOMER_PHOTO_FAILED"},1603:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.GET_CUSTOMERS_SUCCEEDED=t.GET_CUSTOMERS_REQUESTED=t.GET_CUSTOMERS_FAILED=t.COUNT_CUSTOMERS_SUCCEEDED=t.COUNT_CUSTOMERS_REQUESTED=t.COUNT_CUSTOMERS_FAILED=t.BASE_URL=void 0;t.BASE_URL="/api/v0/customers/search";t.COUNT_CUSTOMERS_REQUESTED="CUSTOMERS_API_COUNT_CUSTOMERS_REQUESTED";t.COUNT_CUSTOMERS_SUCCEEDED="CUSTOMERS_API_COUNT_CUSTOMERS_SUCCEEDED";t.COUNT_CUSTOMERS_FAILED="CUSTOMERS_API_COUNT_CUSTOMERS_FAILED";t.GET_CUSTOMERS_REQUESTED="CUSTOMERS_API_GET_CUSTOMERS_REQUESTED";t.GET_CUSTOMERS_SUCCEEDED="CUSTOMERS_API_GET_CUSTOMERS_SUCCEEDED";t.GET_CUSTOMERS_FAILED="CUSTOMERS_API_GET_CUSTOMERS_FAILED"},1604:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_PROPERTY_ENTRY=t.UPDATE_PROPERTY=t.LOADING=t.LOADED=t.FILTERED=void 0;t.FILTERED="CUSTOMERS_FILTERED";t.LOADING="CUSTOMERS_LOADING";t.LOADED="CUSTOMERS_LOADED";t.UPDATE_PROPERTY="CUSTOMERS_UPDATE_PROPERTY";t.UPDATE_PROPERTY_ENTRY="CUSTOMERS_UPDATE_PROPERTY_ENTRY"},1605:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_URL=void 0;t.BASE_URL="/api/v1/customers"},1606:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_URL=t.TYPE_TEXT=t.TYPE_NUMBER=t.TYPE_DROPDOWN=t.TYPE_DATE=t.TYPE_BOOL=t.TYPES=t.SOURCE_BEACON_LABEL=t.SOURCE_BEACON_2=t.SOURCE_BEACON=t.SOURCE_API_LABEL=t.SOURCE_API=void 0;t.SOURCE_API="api";t.SOURCE_API_LABEL="API";t.SOURCE_BEACON="beacon";t.SOURCE_BEACON_2="beacon-v2";t.SOURCE_BEACON_LABEL="In-App Beacon";t.TYPE_BOOL="bool";t.TYPE_DATE="date";t.TYPE_DROPDOWN="dropdown";t.TYPE_NUMBER="number";t.TYPE_TEXT="text";t.TYPE_URL="url";var n=["bool","date","number","text","url"];t.TYPES=n},1607:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.PREV=t.NEXT=void 0;t.NEXT="next";t.PREV="prev"},1608:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT=t.PROFILE=void 0;t.ROOT="/";t.PROFILE="/:id/:tab?"},1609:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.useMockEndpoints=t.defaultOptions=t.createApiClient=void 0;var r,o=(r=n(136))&&r.__esModule?r:{default:r},a=n(961);function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={delayResponse:300};t.defaultOptions=u;t.createApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=(0,a.createApiClient)(),i=l({},u,n),c=new o.default(r,i);return s(c),r};var s=function(e){e.onGet().reply(200)};t.useMockEndpoints=s},1610:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.useMockEndpoints=t.defaultOptions=t.createApiClient=void 0;var r,o=(r=n(136))&&r.__esModule?r:{default:r},a=n(962);function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={delayResponse:300};t.defaultOptions=u;t.createApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=(0,a.createApiClient)(),i=l({},u,n),c=new o.default(r,i);return s(c),r};var s=function(e){e.onPost().reply(200)};t.useMockEndpoints=s},1611:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.useMockEndpoints=t.defaultOptions=t.createApiClient=void 0;var r,o=(r=n(136))&&r.__esModule?r:{default:r},a=n(963),l=n(1612),i=n(1613);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){d(e,t,n[t])}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={delayResponse:300};t.defaultOptions=f;t.createApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=(0,a.createApiClient)(),l=c({},f,n),i=new o.default(r,l);return p(i),r};var p=function(e){e.onGet().reply((function(e){var t=u((0,l.getSlugs)(e),2),n=t[0],r=t[1],o=(0,l.getParams)(e);return 1===r?new Promise((function(e){i.mockProfileApi.get(n[0]).then((function(t){e([200,t])}))})):2===r&&"conversations"===n[1]?new Promise((function(e){i.mockProfileApi.getConversations(n[0],o).then((function(t){e([200,t])}))})):new Promise((function(e){return e([404])}))})),e.onPatch().reply(204),e.onDelete().reply(204)};t.useMockEndpoints=p},1612:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getSlugs=t.getParams=void 0;var n=["ts"];function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.getSlugs=function(e){var t=e.baseURL,n=e.url.replace(t,"").split("/").filter((function(e){return!!e}));return[n,n.length]};t.getParams=function(e){var t=e.params;t.ts;return r(t,n)}},1613:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.mockProfileApi=void 0;var r=n(1614),o=n(1621);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){var t=e.conversations,n=void 0===t?[]:t,r=e.params,o=void 0===r?{}:r,l=o.mailboxes,i=o.page,u=void 0===i?1:i,s=o.perPage,c=void 0===s?50:s,d=o.sortField,f=o.sortOrder,p={mailboxid:[]};n.forEach((function(e){var t=!1;p.mailboxid=p.mailboxid.map((function(n){return n.id===e.mailboxid?(t=!0,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},n,{count:n.count+1})):n})),!t&&e.mailboxid&&p.mailboxid.push({id:e.mailboxid,count:1})}));var m=function(e,t){var n=t.mailboxes,r=void 0===n?"":n;if(!r)return e;var o=r.split(",").map((function(e){return parseInt(e,10)}));return e.filter((function(e){var t=e.mailboxid;return o.includes(t)}))}(n,{mailboxes:l}),h=m.length;return{conversations:{count:h,page:u,pages:Math.ceil(m.length/c),results:function(e,t){var n=t.count,r=t.page,o=t.perPage;if(n<=o)return e;var a=(r-1)*o,l=a+o,i=l>n?n:l;return e.slice(a,i)}(function(e,t){var n=t.sortField,r=t.sortOrder;return n&&r&&["asc","desc"].includes(r)?e.sort((function(e,t){var o=e[n],a=t[n];return"string"==typeof o&&"asc"===r?o.localeCompare(a):"string"==typeof a?a.localeCompare(o):"asc"===r?o-a:a-o})):e}(m,{sortField:d,sortOrder:f}),{count:h,page:u,perPage:c}),facets:p}}},i={get:function(e){var t=parseInt(e,10),n=(0,r.makeCustomer)(t);return new Promise((function(e){return e({customer:n})}))},getConversations:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=parseInt(e,10),a=(0,r.makeCustomer)(n),i=(0,o.makeConversationsForCustomer)(a);return new Promise((function(e){return e(l({conversations:i,params:t}))}))}};t.mockProfileApi=i},1614:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.makeCustomers=t.makeCustomer=t.Schema=void 0;var r=n(296),o=n(1615),a=n(1619),l=n(958),i=n(964),u=["mailbox","mailboxId","score","ticketCount"];function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){c(e,t,n[t])}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var f=(0,r.compose)(o.CustomerCoreSchema,a.CustomerSearchSchema);t.Schema=f;var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"core";if("core"===t){e.mailbox,e.mailboxId,e.score;var n=e.ticketCount,r=d(e,u);return s({},r,{conversations:{count:n}})}return{id:e.id,customerName:(0,l.makeCustomerName)(e),customerEmails:e.emails.map((function(e){return e.value})),firstName:e.firstName,lastName:e.lastName,gender:e.gender,organization:e.organization,jobTitle:e.jobTitle,createdAt:e.createdAt,modifiedAt:e.updatedAt,lastSeenAt:e.lastSeenAt,ticketCount:e.ticketCount,photoType:e.photoType,score:e.score,companyId:e.companyId,thumbnailURL:e.photoUrl,mailbox:e.mailbox,mailboxId:e.mailboxId,phone:e.phones.map((function(e){return e.value}))}};t.makeCustomers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"core":n;return Array(e).fill(0).map((function(e,t){var n=t+1;return s({},f.seed(n).generate(),{id:n})})).map(i.stripPrivateFields).map((function(e){return p(e,r)}))};t.makeCustomer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mode,r=void 0===n?"core":n,o=s({},f.seed(e).generate(),{id:e});return p((0,i.stripPrivateFields)(o),r)}},1615:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerCoreSchema=void 0;var r=n(296),o=n(1616);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=["Facebook","Twitter","LinkedIn","Flickr","About.Me"],i=(0,r.createSpec)({_city:r.faker.address.city(),_country:r.faker.address.country(),_emails:Array(5).fill(0).map((function(){return{id:r.faker.random.number(),value:r.faker.internet.email(),location:r.faker.random.arrayElement(["Home","Work","Other"])}})),_firstName:r.faker.name.firstName(),_jobTitle:r.faker.name.jobTitle(),_lastName:r.faker.name.lastName(),_metaData:[{id:r.faker.random.number(),type:1,value:r.faker.lorem.paragraph()}],_notes:r.faker.lorem.paragraph(),_numProperties:r.faker.random.number({min:0,max:100}),_organization:r.faker.company.companyName(),_phones:Array(5).fill(0).map((function(){return{id:r.faker.random.number(),value:r.faker.phone.phoneNumber(),type:r.faker.random.arrayElement(["Home","Work","Other"])}})),_photoTypes:r.faker.helpers.shuffle(["facebook","twitter","linkedin"]),_photoUrl:r.faker.internet.avatar(),_random2:r.faker.random.number({min:0,max:1}),_random5:r.faker.random.number({min:0,max:4}),_random10:r.faker.random.number({min:0,max:9}),_socials:Array(5).fill(0).map((function(){return{id:r.faker.random.number(),value:r.faker.internet.url()}})),_socialProfiles:Array(5).fill(0).map((function(e,t){return{id:r.faker.random.number(),value:r.faker.internet.url(),type:l[t]}})),_state:r.faker.address.stateAbbr(),_websites:Array(5).fill(0).map((function(){return{id:r.faker.random.number(),value:r.faker.internet.url()}})),_hour:r.faker.random.number({min:1,max:12}),_minute:r.faker.random.number({min:0,max:59}),_amPm:r.faker.random.arrayElement(["am","pm"]),id:r.faker.random.number(),emails:(0,r.derived)((function(e){var t=e._emails,n=e._random5;return 0===n?[]:t.slice(0,n)})),firstName:(0,r.derived)((function(e){var t=e._firstName;return 9===e._random10?null:t})),lastName:(0,r.derived)((function(e){var t=e._lastName;return 9===e._random10?null:t})),jobTitle:(0,r.derived)((function(e){var t=e._jobTitle;return 4===e._random5?null:t})),location:(0,r.derived)((function(e){var t=e._city,n=e._country,r=e._random2,o=e._state;return"United States"===n||1===r?"".concat(t,", ").concat(o,", USA"):"".concat(t,", ").concat(n)})),organization:(0,r.derived)((function(e){var t=e._organization;return 1===e._random2?null:t})),photoType:(0,r.derived)((function(e){return e._photoTypes[0]})),photoUrl:(0,r.derived)((function(e){var t=e._photoUrl;return 9===e._random10?null:t})),properties:(0,r.derived)((function(e){var t=e.id,n=e._numProperties;return 9===e._random10?[]:(0,o.makeProperties)(n,t)})),phones:(0,r.derived)((function(e){var t=e._phones,n=e._random5;return 0===n?[]:t.slice(0,n)})),socialProfiles:(0,r.derived)((function(e){var t=e._socialProfiles,n=e._random5;return 0===n?[]:t.slice(0,n).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},e,{url:e.value})}))})),websites:(0,r.derived)((function(e){var t=e._websites,n=e._random5;return 0===n?[]:t.slice(0,n)})),createdAt:r.faker.date.past(),lastSeenAt:r.faker.date.past(),updatedAt:r.faker.date.past(),metaData:(0,r.derived)((function(e){var t=e._metaData;return 1===e._random2?[]:t})),notes:(0,r.derived)((function(e){var t=e._notes;return 4===e._random5?"":t})),time:(0,r.derived)((function(e){var t=e._hour,n=e._minute,r=e._amPm,o=n<10?"0".concat(n):n;return"".concat(t,":").concat(o).concat(r)}))});t.CustomerCoreSchema=i},1616:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.makeProperties=void 0;var r=n(1617),o=n(964);t.makeProperties=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array(e).fill(0).map((function(e,n){return(0,o.stripPrivateFields)(r.Schema.seed(parseInt("".concat(n+1).concat(t),10)).generate())}))}},1617:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.Schema=void 0;var r=n(296),o=["bool","date","number","text","url"],a=(0,r.createSpec)({_beaconId:r.faker.random.uuid(),_beaconName:r.faker.company.bsNoun(),_name:r.faker.company.catchPhraseNoun(),_valueBool:r.faker.random.boolean(),_valueDate:r.faker.date.recent(),_valueNumber:r.faker.random.number(),_valueText:r.faker.random.words(),_valueUrl:r.faker.internet.url(),lastUpdated:r.faker.date.recent(),name:(0,r.derived)((function(e){var t=e._name;return t.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1,e.length)})).join(" ")})),slug:(0,r.derived)((function(e){var t=e._name;return t.split(" ").map((function(e,t){return 0===t?e.toLowerCase():e.slice(0,1).toUpperCase()+e.slice(1,e.length)})).join("")})),source:{beaconId:(0,r.derived)((function(e){var t=e._beaconId;return e._valueBool?t:void 0})),beaconName:(0,r.derived)((function(e){var t=e._beaconName;return e._valueBool?t:void 0})),name:"api"},type:r.faker.random.arrayElement(o),value:(0,r.derived)((function(e){var t=e.type,n=e._valueBool,r=e._valueDate,o=e._valueNumber,a=e._valueText,l=e._valueUrl;switch(t){case"bool":return n;case"date":return r;case"number":return o;case"url":return l;default:return a}}))});t.Schema=a},1618:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.stripPrivateFields=void 0;t.stripPrivateFields=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return 0!==n.indexOf("_")&&(t[n]=e[n]),t}),{})}},1619:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.CustomerSearchSchema=void 0;var r=n(296),o=(0,n(965).makeMailboxes)(5),a=(0,r.createSpec)({_mailboxCount:r.faker.random.number({min:1,max:o.length-1}),_mailboxes:r.faker.helpers.shuffle(o),mailbox:(0,r.derived)((function(e){var t=e._mailboxes,n=e._mailboxCount;return t.slice(0,n)})),mailboxId:(0,r.derived)((function(e){var t=e._mailboxes,n=e._mailboxCount;return t.slice(0,n).map((function(e){return e.id}))})),score:r.faker.random.number(),ticketCount:r.faker.random.number({min:0,max:1e3})});t.CustomerSearchSchema=a},1620:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Schema=void 0;var r=n(296),o=(0,r.createSpec)({id:r.faker.random.number(),name:r.faker.company.companyName()});t.Schema=o;var a=o;t.default=a},1621:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConversationsForCustomer=t.makeConversations=t.default=t.Schema=t.ExtendedSchema=void 0;var r=n(296),o=n(1622),a=(0,r.createSpec)({});t.ExtendedSchema=a;var l=(0,r.compose)(o.Schema,a);t.Schema=l;var i=l.seed(2).generate();t.default=i;t.makeConversations=function(e){for(var t=[],n=0;n<e;n++)t.push(l.seed(e+n+1).generate());return t};t.makeConversationsForCustomer=function(e){for(var t=[],n=e.conversations.count,r=0;r<n;r++)t.push(l.seed(e.id+r).generate());return t}},1622:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.Schema=void 0;var r,o=n(296),a=n(86),l=n(965),i=(r=n(624))&&r.__esModule?r:{default:r};var u=(0,l.makeMailboxes)(5),s=Array(25).fill(null).map((function(e,t){return t})),c=o.faker.random.number({min:1,max:4}),d=(0,i.default)(c),f=(0,o.createSpec)({_mailbox:o.faker.random.arrayElement(u),assigned:o.faker.name.findName(),assignedAvatarUrl:o.faker.internet.avatar(),assignedid:o.faker.random.number(),attachments:o.faker.random.boolean(),className:d,closedAt:o.faker.date.past(),customFields:[],customerEmail:o.faker.internet.email(),customerName:o.faker.name.findName(),customerid:o.faker.random.number(),id:o.faker.random.number(),lastThreadSentByUser:o.faker.name.findName(),mailboxid:(0,o.derived)((function(e){return e._mailbox.id})),modifiedAt:o.faker.date.past(),number:o.faker.random.number(),preview:o.faker.lorem.paragraph(),score:o.faker.random.number(),status:c,subject:o.faker.lorem.sentence(),tagid:[],threadCount:o.faker.random.arrayElement(s),type:o.faker.random.arrayElement(a.CONVERSATIONS.TYPES),waitingSince:o.faker.date.past(),waitingSinceType:0});t.Schema=f},1623:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.useMockEndpoints=t.defaultOptions=t.createApiClient=void 0;var r,o=(r=n(136))&&r.__esModule?r:{default:r},a=n(966);function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={delayResponse:300};t.defaultOptions=u;t.createApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=(0,a.createApiClient)(),i=l({},u,n),c=new o.default(r,i);return s(c),r};var s=function(e){e.onPatch().reply(204),e.onDelete().reply(204)};t.useMockEndpoints=s},1624:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.useMockEndpoints=t.getData=t.defaultOptions=t.createApiClient=void 0;var r,o=(r=n(136))&&r.__esModule?r:{default:r},a=n(967),l=n(1625),i=n(86);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={delayResponse:300};t.defaultOptions=c;t.createApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=(0,a.createApiClient)(),l=u({},c,n),i=new o.default(r,l);return p(i),r};var d=function(e){var t=e.data;return JSON.parse(t)};t.getData=d;var f=new l.MockSearchApi({searchOptions:{keys:[{name:"customerName",weight:.6},{name:"customerEmails",weight:.2},{name:"jobTitle",weight:.1},{name:"organization",weight:.1}]}}),p=function(e){e.onPost().reply((function(e){var t=d(e),n={query:t.query||i.PARAMS.DEFAULT_QUERY,page:t.page||i.PARAMS.DEFAULT_PAGE,mailboxes:t.mailboxes||i.PARAMS.DEFAULT_MAILBOX_IDS,sortField:t.query?t.sortField:t.sortField||i.PARAMS.DEFAULT_SORT_FIELD,sortOrder:t.query?t.sortOrder:t.sortOrder||i.PARAMS.DEFAULT_SORT_ORDER};return t.sortExpressions&&(n.sortExpressions=t.sortExpressions,delete n.sortField,delete n.sortOrder),new Promise((function(e){f.execute(n).then((function(t){e([200,{customers:t}])}))}))}))};t.useMockEndpoints=p},1625:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.mockSearchApiAdapter=t.defaultSearchOptions=t.defaultPaginationOptions=t.MockSearchApi=void 0;var r,o=(r=n(1757))&&r.__esModule?r:{default:r},a=n(86);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){c(e,t,n[t])}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=[],m=null,h=null;function v(){p.length>0&&h&&(m=new o.default(p,h))}var y={resetRecords:function(){return p=[]},setRecords:function(e){p=e,v()}};t.mockSearchApiAdapter=y;var b={shouldSort:!0,threshold:.1,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1};t.defaultSearchOptions=b;var g={count:0,page:1,pages:1,rows:50};t.defaultPaginationOptions=g;var O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.paginationOptions,r=void 0===n?{}:n,o=t.searchOptions,a=void 0===o?{}:o;d(this,e),this.paginationOptions=s({},g,r),h=s({},b,a),v()}var t,n,r;return t=e,(n=[{key:"search",value:function(e){return new Promise((function(t){if(!e)return t(p);for(;void 0===u(m.search););return t(m.search(e))}))}},{key:"filterMailboxes",value:function(e,t){if(""===t)return e;var n=t.split(",");return e.filter((function(e){return e.mailboxId.filter((function(e){return n.includes(e.toString())})).length>0}))}},{key:"paginate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length<=t.rows)return e;var n=(t.page-1)*t.rows,r=n+t.rows,o=r>e.length?e.length:r;return e.slice(n,o)}},{key:"updatePagination",value:function(e,t){return s({},t,{count:e.length,pages:Math.ceil(e.length/t.rows)})}},{key:"sort",value:function(e,t,n,r){if(!t&&!n&&!r)return e;r||(r="".concat(t," ").concat(n));var o=r.split(",").map((function(e){return e.trim().split(" ")})).reverse();return e.sort((function(e,t){return o.reduce((function(n,r){var o=l(r,2),i=o[0],u=o[1],s="lastSeenAt"===i?new Date(e[i]):e[i],c="lastSeenAt"===i?new Date(t[i]):t[i];return s<c?u===a.PARAMS.SORT_ORDER_ASCENDING?-1:1:s>c?u===a.PARAMS.SORT_ORDER_ASCENDING?1:-1:n}),0)}))}},{key:"execute",value:function(e){var t=this,n=e.query,r=e.page,o=e.sortExpressions,a=e.sortField,l=e.sortOrder,i=e.mailboxes,u=s({},this.paginationOptions,{page:r});return new Promise((function(e){t.search(n).then((function(n){var r=t.filterMailboxes(n,i),c=t.sort(r,a,l,o),d=t.paginate(c,u),f=s({},t.updatePagination(c,u),{results:d});return e(f)}))}))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.MockSearchApi=O},1626:function(e,t,n){var r={"./customer/api.customer.client":960,"./customerConflicts/api.customerConflicts.client":961,"./customerMerge/api.customerMerge.client":962,"./profile/api.profile.client":963,"./properties/api.properties.client":966,"./search/api.search.client":967};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=1626},1627:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getApiCustomerConflictsClient=void 0;var r,o=(r=n(1628))&&r.__esModule?r:{default:r},a=n(473);t.getApiCustomerConflictsClient=function(){return(0,a.getApiClient)({client:"customerConflicts",config:o.default})}},1628:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cache:{mockName:"__SB_CUSTOMER_CONFLICTS__",mockType:"memory",name:"__HS_CUSTOMER_CONFLICTS__",type:"memory",version:1,ttl:0}}},1629:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getApiCustomerMergeClient=void 0;var r,o=(r=n(1630))&&r.__esModule?r:{default:r},a=n(473);t.getApiCustomerMergeClient=function(){return(0,a.getApiClient)({client:"customerMerge",config:o.default})}},1630:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cache:{mockName:"__SB_CUSTOMER_MERGE__",mockType:"memory",name:"__HS_CUSTOMER_MERGE__",type:"memory",version:1,ttl:0}}},1631:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getApiProfileClient=void 0;var r,o=(r=n(1632))&&r.__esModule?r:{default:r},a=n(473);t.getApiProfileClient=function(){return(0,a.getApiClient)({client:"profile",config:o.default})}},1632:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cache:{mockName:"__SB_CUSTOMER_PROFILE__",mockType:"memory",name:"__HS_CUSTOMER_PROFILE__",type:"memory",version:1,ttl:0}}},1633:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getApiSearchClient=void 0;var r,o=(r=n(1634))&&r.__esModule?r:{default:r},a=n(473);t.getApiSearchClient=function(){return(0,a.getApiClient)({client:"search",config:o.default})}},1634:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cache:{mockName:"__SB_CUSTOMER_LIST__",mockType:"memory",name:"__HS_CUSTOMER_LIST__",type:"memory",version:1,ttl:1e4}}},1635:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getApiPropertiesClient=void 0;var r,o=(r=n(1636))&&r.__esModule?r:{default:r},a=n(473);t.getApiPropertiesClient=function(){return(0,a.getApiClient)({client:"properties",config:o.default})}},1636:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={cache:{mockName:"__SB_CUSTOMER_PROPERTIES__",mockType:"memory",name:"__HS_CUSTOMER_PROPERTIES__",type:"memory",version:1,ttl:0}}},1637:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.customersApi=t.buildSortExpressions=t.buildParams=void 0;var r,o=(r=n(124))&&r.__esModule?r:{default:r},a=n(86),l=n(363),i=["mailboxes","query","sortField","sortOrder"];function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=function(e){var t=e.sortField,n=e.sortOrder;return t===a.PARAMS.SORT_FIELD_NAME?"firstName ".concat(n,",lastName ").concat(n):""};t.buildSortExpressions=d;var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mailboxes,n=e.query,r=e.sortField,o=e.sortOrder,l=c(e,i),s=u({},l,{mailboxes:t||a.PARAMS.DEFAULT_MAILBOX_IDS,query:n||a.PARAMS.DEFAULT_QUERY,sortField:n?r:r||a.PARAMS.DEFAULT_SORT_FIELD,sortOrder:n?o:o||a.PARAMS.DEFAULT_SORT_ORDER}),f=d(s);return f&&(s.sortExpressions=f,delete s.sortField,delete s.sortOrder),s};t.buildParams=f;var p={fail:function(e){return{type:a.CUSTOMERS_API.GET_CUSTOMERS_FAILED,payload:{error:e}}},success:function(e){return{type:a.CUSTOMERS_API.GET_CUSTOMERS_SUCCEEDED,payload:{data:e}}},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,i){var u=i.customersApi,s=f(e),c=s.query||s.mailboxes;return n({type:a.CUSTOMERS_API.GET_CUSTOMERS_REQUESTED}),n(l.customers.loading(!0)),u.getCustomers(s,t).then((function(e){var t=e.data;return n(p.success(t)),n(l.customers.filtered(c)),n(l.customers.loaded(t)),n(l.customers.loading(!1)),t})).catch((function(e){o.default.isCancel(e)||(n(p.fail(e)),n(l.customers.filtered(!1)),n(l.customers.loading(!1)))}))}}},m={getCustomers:p.get};t.customersApi=m},1638:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.customers=void 0;var r=n(86),o={filtered:function(e){return{type:r.CUSTOMERS.FILTERED,payload:{isFiltered:!!e}}},loading:function(e){return{type:r.CUSTOMERS.LOADING,payload:{isLoading:!!e}}},loaded:function(e){return{type:r.CUSTOMERS.LOADED,payload:{data:e}}},updateProperty:function(e){var t=e.customerId,n=e.property,o=e.slug,a=e.value,l=e.values;return function(e){return e({type:r.CUSTOMERS.UPDATE_PROPERTY,payload:{customerId:t,property:n,slug:o,value:a,values:l}})}}};t.customers=o},1639:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.customerProfileApiConversations=void 0;var r=n(86),o=n(968),a={fail:function(e){return{type:r.CUSTOMER_PROFILE_API_CONVERSATIONS.GET_CUSTOMER_CONVERSATIONS_FAILED,payload:{error:e}}},success:function(e){return{type:r.CUSTOMER_PROFILE_API_CONVERSATIONS.GET_CUSTOMER_CONVERSATIONS_SUCCEEDED,payload:{data:e}}},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,l,i){var u=i.customersApi;return n({type:r.CUSTOMER_PROFILE_API_CONVERSATIONS.GET_CUSTOMER_CONVERSATIONS_REQUESTED}),e.id&&(e.id=parseInt(e.id,10)),e.sortField=e.sortField||"time",e.sortOrder=e.sortOrder||"asc",u.getCustomerProfileConversations(e,t).then((function(t){var r=t.data;return n(o.customerProfile.updateConversations(e.id,r)),n(a.success(r)),r})).catch((function(e){return n(a.fail(e)),e}))}}},l={getCustomerProfileConversations:a.get};t.customerProfileApiConversations=l},1640:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.customerProfileApiConversationsAccess=void 0;var r=n(86),o={fail:function(e){return{type:r.CUSTOMER_PROFILE_API_CONVERSATIONS_ACCESS.GET_CUSTOMER_CONVERSATIONS_ACCESS_FAILED,payload:{error:e}}},success:function(e){return{type:r.CUSTOMER_PROFILE_API_CONVERSATIONS_ACCESS.GET_CUSTOMER_CONVERSATIONS_ACCESS_SUCCEEDED,payload:{data:e}}},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a,l){var i=l.customersApi;return n({type:r.CUSTOMER_PROFILE_API_CONVERSATIONS_ACCESS.GET_CUSTOMER_CONVERSATIONS_ACCESS_REQUESTED}),i.getCustomerProfileConversationsAccess(e,t).then((function(e){var t=e.data;return n(o.success(t)),t})).catch((function(e){return n(o.fail(e)),e}))}}},a={getCustomerProfileConversationsAccess:o.get};t.customerProfileApiConversationsAccess=a},1641:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.customerProfileApi=void 0;var r=n(86),o=n(363),a={fail:function(e){return{type:r.CUSTOMER_PROFILE_API.GET_CUSTOMER_FAILED,payload:{error:e}}},success:function(e){return{type:r.CUSTOMER_PROFILE_API.GET_CUSTOMER_SUCCEEDED,payload:{data:e}}},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,l,i){var u=i.customersApi,s={id:e.id};return n({type:r.CUSTOMER_PROFILE_API.GET_CUSTOMER_REQUESTED}),n(o.customerProfile.loading(!0)),u.getCustomerProfile(s,t).then((function(e){var t=e.data;return n(a.success(t)),n(o.customerProfile.loaded(t)),t})).catch((function(e){return n(a.fail(e)),e})).then((function(e){return n(o.customerProfile.loading(!1)),e}))}}},l={getCustomerProfile:a.get};t.customerProfileApi=l},1642:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCustomerProfileApi=void 0;var r=l(n(124)),o=l(n(5)),a=n(86);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.data,n=e.status;if(t&&t.error&&t.error.message)return t.error.message;switch(n){case 403:return"You don't have permission to delete this contact.";default:return"Oops. Something went wrong."}}var u={deleteCustomerProfile:{delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(l,u,s){var c=s.customersApi;return l({type:a.CUSTOMER_PROFILE_API_DELETE.DELETE_CUSTOMER_REQUESTED}),c.deleteCustomerProfile(e,t).then((function(){l({type:a.CUSTOMER_PROFILE_API_DELETE.DELETE_CUSTOMER_SUCCEEDED}),o.default.Utils.Main.success("Customer profile deleted"),n.replace("/")})).catch((function(e){if(l({type:a.CUSTOMER_PROFILE_API_DELETE.DELETE_CUSTOMER_FAILED}),!r.default.isCancel(e)){var t=i(e.response);o.default.Utils.Main.error(t)}}))}}}.delete};t.deleteCustomerProfileApi=u},1643:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.customerProfilePhotoDeleteApi=void 0;var r=n(86),o={fail:function(e){return{type:r.CUSTOMER_PROFILE_PHOTO_DELETE_API.DELETE_CUSTOMER_PHOTO_FAILED,payload:{error:e}}},success:function(e){return{type:r.CUSTOMER_PROFILE_PHOTO_DELETE_API.DELETE_CUSTOMER_PHOTO_SUCCEEDED}},delete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a,l){var i=l.customersApi,u={id:e.id};return n({type:r.CUSTOMER_PROFILE_PHOTO_DELETE_API.DELETE_CUSTOMER_PHOTO_REQUESTED}),i.deleteCustomerProfilePhoto(u,t).then((function(){return n(o.success()),e})).catch((function(e){return n(o.fail(e)),e}))}}},a={deleteCustomerProfilePhoto:o.delete};t.customerProfilePhotoDeleteApi=a},1644:function(e,t){window;function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.convertPropertyErrorMessage=void 0;t.convertPropertyErrorMessage=function(e,t,r,o){if(e.includes("can not be assigned to '/".concat(t,"' which requires type: url")))return"Please enter a valid URL";if(e.includes("can not be assigned to '/".concat(t,"' which requires type: number")))return"Please enter a whole number";if(["Must be less than or equal to 9223372036854775807","Must be greater than or equal to -9223372036854775808"].includes(e))return"That looks a little large! Numbers should be less than 19 integers";if(e.includes("Size must be between")){var a=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},l=r&&r.length?"".concat(r," properties "):"",i="";if(!o||!o.length)return a(i="".concat(l,"cannot be blank"));try{var u=n(e.split(" and "),2),s=(u[0],u[1]);return a(i="".concat(l,"must be less than ").concat(s," character").concat(1===parseInt(s,10)?"":"s"))}catch(c){return i}}return e.includes("can not be assigned to '/".concat(t,"' which requires type: date"))?"Please enter a valid date (yyyy-mm-dd)":e.replace(/\.$/,"")}},1645:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CustomerInfo=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),a=f(n(2)),l=f(n(12)),i=f(n(970)),u=f(n(1647)),s=f(n(1650)),c=n(735),d=["canUpdate","customerId","firstName","lastName","fallbackImage","description","image","isAvatarActive","isAvatarDeletable","onDeleteAvatarClick","isDeletingAvatar","offEdit","onEdit","patchCustomerProfile"];function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(s,e);var t,n,r,a=b(s);function s(){var e;h(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(O(e=a.call.apply(a,[this].concat(n))),"state",{animationEnded:!1}),P(O(e),"handleRemoveAnimationEnd",(function(){e.setState({animationEnded:!0})})),P(O(e),"handleActionClick",(function(t){var n=e.props.onDeleteAvatarClick;e.state.animationEnded||n&&n(t)})),e}return t=s,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.image!==this.props.image&&e.image&&!this.props.isDeletingAvatar&&this.setState({animationEnded:!1})}},{key:"render",value:function(){var e=this.props,t=e.canUpdate,n=e.customerId,r=e.firstName,a=e.lastName,s=e.fallbackImage,f=(e.description,e.image),p=e.isAvatarActive,h=e.isAvatarDeletable,v=(e.onDeleteAvatarClick,e.isDeletingAvatar),y=e.offEdit,b=e.onEdit,g=e.patchCustomerProfile,O=m(e,d),w=!!f&&h,P=t||r||a;return o.default.createElement(c.CustomerInfoUI,{align:"top",gap:"xl","data-cy":"Customers.CustomerInfo"},o.default.createElement(c.AvatarItemUI,null,o.default.createElement(c.AvatarUI,{actionable:w,active:p,onActionClick:this.handleActionClick,size:"xl",image:f,fallbackImage:s,"data-testid":"Avatar","data-cy":"Avatar",removingAvatarAnimation:v,onRemoveAnimationEnd:this.handleRemoveAnimationEnd,className:(0,l.default)(v&&"is-deleting")})),o.default.createElement(c.DetailsUI,null,o.default.createElement(i.default,{customerId:n},o.default.createElement(c.EditableFieldCompositeUI,{className:P?!t&&"is-disabled":"is-hidden",placeholder:"Add a name",size:"lg"},o.default.createElement(c.EditableFieldUI,{"data-cy":"CustomerInfo.firstName",disabled:!t,autoComplete:"off",label:"First Name",name:"firstName",type:"text",placeholder:"First Name",value:r,onInputBlur:y,onInputFocus:b,validate:g}),o.default.createElement(c.EditableFieldUI,{"data-cy":"CustomerInfo.LastName",disabled:!t,autoComplete:"off",label:"Last Name",name:"lastName",type:"text",placeholder:"Last Name",value:a,onInputBlur:y,onInputFocus:b,validate:g}))),o.default.createElement(u.default,O)))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.PureComponent);t.CustomerInfo=_,P(_,"propTypes",{canUpdate:a.default.bool,customerId:a.default.number,firstName:a.default.string,lastName:a.default.string,hideLastSeen:a.default.bool,image:a.default.string,fallbackImage:a.default.string,offEdit:a.default.func,onEdit:a.default.func,patchCustomerProfile:a.default.func,isAvatarActive:a.default.bool,isAvatarDeletable:a.default.bool,onDeleteAvatarClick:a.default.func,isDeletingAvatar:a.default.bool}),P(_,"defaultProps",{canUpdate:!0,fallbackImage:"",firstName:"",lastName:"",image:"",offEdit:function(){},onDeleteAvatarClick:function(){},onEdit:function(){},patchCustomerProfile:function(){},isAvatarActive:!1,isAvatarDeletable:!0,isDeletingAvatar:!1}),P(_,"Skeleton",s.default);var E=_;t.default=E},1646:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CustomerChangeGuard=void 0;var o,a=(o=n(0))&&o.__esModule?o:{default:o};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(c,e);var t,n,r,o=s(c);function c(){return l(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"shouldComponentUpdate",value:function(e){return e.customerId!==this.props.customerId}},{key:"render",value:function(){return a.default.createElement(a.default.Fragment,null,this.props.children)}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.default.Component);t.CustomerChangeGuard=f;var p=f;t.default=p},1647:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1648))&&r.__esModule?r:{default:r}).default;t.default=o},1648:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LocationTime=void 0;var o=d(n(28)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=d(n(2)),i=d(n(17)),u=n(1649),s=n(747);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(c,e);var t,n,r,l=h(c);function c(){return f(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"getForecastIcon",value:function(){var e,t=this.props.time;t.includes("pm")?((e=t.replace("pm","").split(":"))[0]=parseInt(e[0],10),e[0]=12===e[0]?"00":e[0]+12):e=t.replace("am","").split(":");var n=(0,i.default)().set({hour:e[0],minute:e[1]}),r=(0,i.default)().set({hour:8,minute:0}),o=(0,i.default)().set({hour:20,minute:0}),l=n.isBetween(r,o,"minute")?"sun":"moon";return a.default.createElement(u.IconUI,{"data-testid":"ForecastIcon","data-cy":"Customers.LocationTime.ForecastIcon",name:"time-day-".concat(l),size:"24",inline:!0})}},{key:"renderLocation",value:function(){var e=this.props.location;if(!e)return null;var t=e.replace("United States","USA"),n=t.length>35?"".concat(t.substring(0,35),"..."):t;return a.default.createElement(u.FlexyItemUI,{"data-cy":"Customers.LocationTime.Location"},a.default.createElement(u.TextUI,{size:12,weight:500,title:t},n))}},{key:"renderTime",value:function(){var e=this.props.time;return e?a.default.createElement(u.FlexyItemUI,null,this.getForecastIcon(),a.default.createElement(u.TextUI,{size:12,weight:500,"data-cy":"Customers.LocationTime.Time"},e)):null}},{key:"renderLastSeen",value:function(){var e=this.props,t=e.hideLastSeen,n=e.lastSeen;return t||!n?null:a.default.createElement(u.FlexyItemUI,{"data-testid":"LastSeen","data-cy":"Customers.LocationTime.LastSeen"},a.default.createElement(u.TextUI,{size:12,weight:500},"Last seen ",(0,s.formatDate)(n,{sentenceCase:!1})))}},{key:"render",value:function(){return a.default.createElement(u.LocationTimeUI,{"data-cy":"Customers.LocationTime"},a.default.createElement(o.default,{gap:"lg"},this.renderLocation(),this.renderTime(),this.renderLastSeen(),a.default.createElement(o.default.Block,null)))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);t.LocationTime=g,b(g,"propTypes",{hideLastSeen:l.default.bool,location:l.default.string,time:l.default.string,lastSeen:l.default.oneOfType([l.default.number,l.default.string,l.default.instanceOf(Date)])}),b(g,"defaultProps",{});var O=g;t.default=O},1649:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TextUI=t.LocationTimeUI=t.IconUI=t.FlexyItemUI=void 0;var r,o,a,l,i=f(n(27)),u=f(n(28)),s=f(n(25)),c=f(n(34)),d=n(9);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=(0,c.default)("div")(r||(r=p(["\n  margin: 3px 0 0 0;\n  min-height: 20px;\n  display: inline-flex;\n  align-items: center;\n"])));t.LocationTimeUI=m;var h=(0,c.default)(u.default.Item)(o||(o=p(["\n  display: inline-flex;\n  align-items: center;\n"])));t.FlexyItemUI=h;var v=(0,c.default)(i.default)(a||(a=p(["\n  color: ",";\n  margin-right: 4px;\n\n  &.is-iconName-time-day-sun {\n    path[stroke='currentColor'] {\n      fill: transparent;\n    }\n  }\n"])),(0,d.getColor)("grey.700"));t.IconUI=v;var y=(0,c.default)(s.default)(l||(l=p(["\n  color: ",";\n"])),(0,d.getColor)("charcoal.500"));t.TextUI=y},1650:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(202))&&o.__esModule?o:{default:o},l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=n(735);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,o=f(u);function u(){return s(this,u),o.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return l.default.createElement(i.CustomerInfoUI,{align:"top",gap:"xl","data-cy":"Customers.CustomerInfo"},l.default.createElement(i.AvatarItemUI,null,l.default.createElement(a.default.Avatar,{size:"xl",withAnimations:!0})),l.default.createElement(i.DetailsUI,null,l.default.createElement(i.HeadingUI,{size:"md","data-cy":"Customers.CustomerInfo.Name"},l.default.createElement(a.default.Heading,{width:"40%",withAnimations:!0})),l.default.createElement(a.default.Text,{width:"70%",withAnimations:!0})))}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(l.PureComponent);t.default=h},1651:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SocialButton=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),a=s(n(2)),l=s(n(12)),i=n(1652),u=["className"];function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(s,e);var t,n,r,a=v(s);function s(){return p(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.className,n=f(e,u);return o.default.createElement(i.SocialButtonUI,d({theme:"grey",filled:!0,size:"sm",className:(0,l.default)("c-CustomersSocialBtn",t),"data-testid":"SocialButton","data-cy":"Customers.SocialButton"},n))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.PureComponent);t.SocialButton=O,g(O,"propTypes",{className:a.default.string,icon:a.default.string}),g(O,"defaultProps",{icon:null});var w=O;t.default=w},1652:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.SocialButtonUI=void 0;var r=l(n(167)),o=l(n(7)),a=n(9);function l(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)(r.default).withConfig({displayName:"SocialButtoncss__SocialButtonUI",componentId:"sc-1ecqs40-0"})(["&&&{width:24px;height:24px;min-width:24px;padding:0;--buttonMainColor:",";--buttonBackgroundColor:",";--buttonBorderColor:",";--buttonBackgroundColorHover:",";--buttonBorderColorHover:",";}"],(0,a.getColor)("grey.600"),(0,a.getColor)("grey.600"),(0,a.getColor)("grey.600"),(0,a.getColor)("grey.800"),(0,a.getColor)("grey.800"));t.SocialButtonUI=i},1653:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1654))&&r.__esModule?r:{default:r}).default;t.default=o},1654:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DeletePhotoConfirmDialogWithContext=void 0;var o,a=(o=n(2))&&o.__esModule?o:{default:o},l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=n(1655),u=n(248);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,n,r,o=m(a);function a(){var e;d(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=o.call.apply(o,[this].concat(n))),"handleConfirm",(function(){var t=e.props.onConfirm;t&&t()})),b(v(e),"handleOnClose",(function(){var t=e.props.onDismiss;t&&t()})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.hsdsScope;return l.default.createElement(i.ModalUI,{isOpen:t,onClose:this.handleOnClose,wrapperClassName:n,closeIcon:!1},l.default.createElement(i.ModalBodyUI,null,l.default.createElement(i.HeadingUI,{size:"md"},"Delete the customers avatar?"),l.default.createElement(i.TextUI,null,"Once deleted, it cannot be replaced."),l.default.createElement(i.ActionsUI,null,l.default.createElement(i.ButtonUI,{theme:"red",size:"lg","data-cy":"ConfirmButton",onClick:this.handleConfirm},"Delete"),l.default.createElement(i.ButtonUI,{theme:"grey",size:"lg",linked:!0,"data-cy":"CancelButton",onClick:this.handleOnClose},"Cancel"))))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(l.PureComponent);b(g,"propTypes",{isOpen:a.default.bool.isRequired,onConfirm:a.default.func.isRequired,onDismiss:a.default.func.isRequired,hsdsScope:a.default.string}),b(g,"defaultProps",{isOpen:!1,onConfirm:function(){},onDismiss:function(){},hsdsScope:""});var O=function(e){var t=l.default.useContext(u.GlobalContext),n=t?t.getCurrentScope():null;return l.default.createElement(g,c({},e,{hsdsScope:n}))};t.DeletePhotoConfirmDialogWithContext=O;var w=O;t.default=w},1655:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TextUI=t.ModalUI=t.ModalBodyUI=t.HeadingUI=t.ButtonUI=t.ActionsUI=void 0;var r,o,a,l,i,u,s=b(n(71)),c=b(n(22)),d=b(n(25)),f=b(n(62)),p=b(n(34)),m=n(9),h=n(111),v=n(745),y=n(374);function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=(0,p.default)(c.default)(r||(r=g(["\n  cursor: pointer;\n"])));t.ButtonUI=O;var w=(0,p.default)("div")(o||(o=g(["\n  margin: 20px 0 0 0;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n\n  "," + ","{\n    margin-left:20px;\n  }\n"])),O,O);t.ActionsUI=w;var P=(0,p.default)(f.default.Body)(a||(a=g(["\n  min-width: 334px;\n  padding: 10px;\n  text-align: center;\n"])));t.ModalBodyUI=P;var _=(0,p.default)(d.default)(l||(l=g(["\n  color: ",";\n"])),(0,m.getColor)("charcoal.200"));t.TextUI=_;var E=(0,p.default)(s.default)(i||(i=g(["\n  color: ",";\n  margin-bottom: 8px;\n"])),(0,m.getColor)("charcoal.500"));t.HeadingUI=E;var C=(0,p.default)(f.default)(u||(u=g(["\n  align-items: baseline;\n  padding: 10vh 0 30px 0;\n\n  ",", "," {\n    width: 340px;\n    max-width: 340px;\n  }\n\n  "," {\n    background-color: ",";\n  }\n"])),y.InnerWrapperUI,y.CardUI,v.OverlayUI,(0,h.rgba)((0,m.getColor)("blue.800"),.8));t.ModalUI=C},1656:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=d(n(202)),a=d(n(28)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=d(n(969)),u=n(956),s=n(971);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(d,e);var t,n,r,c=h(d);function d(){return f(this,d),c.apply(this,arguments)}return t=d,(n=[{key:"render",value:function(){return l.default.createElement(s.HeaderUI,{"data-cy":"test"},l.default.createElement(a.default,{gap:"xl",align:"top"},l.default.createElement(a.default.Block,null,l.default.createElement(i.default.Skeleton,null))),l.default.createElement(u.CustomerBio,{bio:[l.default.createElement(o.default.Text,{key:"bio1",width:"100%",withAnimations:!0}),l.default.createElement(o.default.Text,{key:"bio2",width:"100%",withAnimations:!0})]}))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(l.PureComponent);t.default=b},1657:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Navigation=void 0;var o=c(n(475)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=c(n(2)),i=c(n(24)),u=n(1658);n(86);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(s,e);var t,n,r,l=m(s);function s(){return d(this,s),l.apply(this,arguments)}return t=s,(n=[{key:"renderConvosTabContent",value:function(){var e=this.props.totalConversations;return null===e?"Conversations":"".concat("Conversations"," (").concat((0,i.default)(e,0),")")}},{key:"render",value:function(){return a.default.createElement(u.NavigationUI,{"data-testid":"CustomersNavigation","data-cy":"Customers.Navigation"},a.default.createElement(o.default,{size:"xs"},a.default.createElement(u.NavItemUI,{key:"profile","data-testid":"CustomersNavigationProfile","data-cy":"Customers.Navigation.Profile",to:"/".concat(this.props.profileId)},"Profile"),a.default.createElement(u.NavItemUI,{key:"conversation","data-testid":"CustomersNavigationConversations","data-cy":"Customers.Navigation.Conversations",to:"/".concat(this.props.profileId,"/conversations")},this.renderConvosTabContent())))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.Component);t.Navigation=b,y(b,"propTypes",{tab:l.default.string,profileId:l.default.string,totalConversations:l.default.number}),y(b,"defaultProps",{totalConversations:null});var g=b;t.default=g},1658:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationUI=t.NavItemUI=void 0;var r,o,a=s(n(475)),l=s(n(34)),i=n(9),u=n(739);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=(0,l.default)(a.default.Item)(r||(r=c(["\n  .c-NavItemContent {\n    padding-left: 20px;\n    padding-right: 20px;\n  }\n  .c-NavItemLink {\n    padding: 0;\n  }\n"])));t.NavItemUI=d;var f=(0,l.default)("div")(o||(o=c(["\n  border-bottom: 1px solid ",";\n\n  li {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  .c-Toolbar.is-placement-top {\n    border-bottom: 0;\n  }\n  .c-Toolbar.is-size-sm {\n    padding-top: 0;\n    padding-bottom: 0;\n\n    .c-Nav {\n      margin-bottom: 0;\n    }\n  }\n\n  ","\n"])),(0,i.getColor)("border"),(0,u.makePaddingStyles)({top:0,bottom:0}));t.NavigationUI=f},1659:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EditProfileTabSkeleton=t.EditProfileTab=void 0;var o=b(n(202)),a=b(n(28)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=b(n(2)),u=b(n(1660)),s=b(n(1667)),c=b(n(1669)),d=b(n(1689)),f=b(n(1691)),p=b(n(1693)),m=b(n(1696)),h=b(n(975)),v=n(332);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){P(n,e);var t=E(n);function n(e){var r;return g(this,n),(r=t.call(this,e)).editProfileTabRef=l.default.createRef(),r}return w(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocusEmail,r=t.canUpdate,o=t.className,a=t.countries,i=t.customer,y=t.isCustomerPropertiesEnabled,b=t.offEdit,g=t.onEdit,O=t.deleteCustomerProfileEntry,w=t.patchCustomerProfile,P=t.patchCustomerProfileByDelete,_=t.patchCustomerProfileEntry,E=t.patchCustomerProperty,C=t.phones,j=t.showWebsites,x=t.highlightedProp;return l.default.createElement(v.EditProfileTabUI,{className:o,"data-testid":"EditProfileTab","data-cy":"CustomerProfile.EditProfileTab",ref:function(t){return e.editProfileTabRef.current=t}},l.default.createElement(v.FlexyTopUI,{align:"top"},l.default.createElement(v.FieldColumnUI,null,l.default.createElement(s.default,{"data-cy":"CustomerProfile.EditProfileTab.CompanyField",autoComplete:"off",canUpdate:r,onCommit:P,onInputBlur:b,onInputFocus:g,value:i.organization,validate:w}),l.default.createElement(d.default,{"data-cy":"CustomerProfile.EditProfileTab.EmailField",autoComplete:"off",autoFocusEmail:n,canUpdate:r,onCommit:O,onInputBlur:b,onInputFocus:g,value:i.emails,validate:_}),j&&l.default.createElement(l.default.Fragment,null,l.default.createElement(h.default,{autoComplete:"off",canUpdate:r,"data-testid":"WebsiteField","data-cy":"CustomerProfile.EditProfileTab.WebSiteField",label:"Website",multipleValues:!0,name:"websites",onCommit:O,onInputBlur:b,onInputFocus:g,value:i.websites,validate:_}),l.default.createElement(p.default,{autoComplete:"off",canUpdate:r,customerId:i.id,"data-cy":"CustomerProfile.EditProfileTab.NotesField",onCommit:P,onInputBlur:b,onInputFocus:g,value:i.notes,validate:w}))),l.default.createElement(v.SpacerUI,null),l.default.createElement(v.FieldColumnUI,null,l.default.createElement(f.default,{"data-cy":"CustomerProfile.EditProfileTab.JobTitleField",autoComplete:"off",canUpdate:r,onCommit:P,onInputBlur:b,onInputFocus:g,value:i.jobTitle,validate:w}),l.default.createElement(m.default,{"data-cy":"CustomerProfile.EditProfileTab.PhoneField",autoComplete:"off",canUpdate:r,onCommit:O,onInputBlur:b,onInputFocus:g,phones:C,value:i.phones,validate:_}),j&&l.default.createElement(u.default,{address:i.address,canUpdate:r,"data-cy":"CustomerProfile.EditProfileTab.AddressFields",countries:a,onCommit:P,onInputBlur:b,onInputFocus:g,validate:w}))),!j&&l.default.createElement(v.FieldRowUI,{align:"top"},l.default.createElement(v.FieldColumnUI,null,l.default.createElement(p.default,{"data-cy":"CustomerProfile.EditProfileTab.NotesField",autoComplete:"off",canUpdate:r,customerId:i.id,onCommit:P,onInputBlur:b,onInputFocus:g,value:i.notes,validate:w}))),y&&l.default.createElement(c.default,{canUpdate:r,properties:i.properties,validate:E,highlightedProp:x}))}}]),n}(l.Component);t.EditProfileTab=S,x(S,"propTypes",{autoFocusEmail:i.default.bool,canUpdate:i.default.bool,className:i.default.string,countries:i.default.array,customer:i.default.object,offEdit:i.default.func,onEdit:i.default.func,deleteCustomerProfileEntry:i.default.func,isCustomerPropertiesEnabled:i.default.bool,patchCustomerProfile:i.default.func,patchCustomerProfileByDelete:i.default.func,patchCustomerProfileEntry:i.default.func,patchCustomerProperty:i.default.func,phones:i.default.array,showWebsites:i.default.bool}),x(S,"defaultProps",{autoFocusEmail:!1,canUpdate:!0,className:"",countries:[],customer:{},isCustomerPropertiesEnabled:!1,offEdit:function(){},onEdit:function(){},deleteCustomerProfileEntry:function(){},patchCustomerProfile:function(){},patchCustomerProfileEntry:function(){},patchCustomerProperty:function(){},phones:[],showWebsites:!1});var M=S;t.default=M;var k=function(e){P(n,e);var t=E(n);function n(){return g(this,n),t.apply(this,arguments)}return w(n,[{key:"renderField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:"50%"},t=e.width;return l.default.createElement("div",null,l.default.createElement(o.default.Text,{style:{marginBottom:15},width:t}),l.default.createElement(o.default.Control,{size:"md",style:{marginBottom:40}}))}},{key:"render",value:function(){return l.default.createElement(v.EditProfileTabUI,{"data-testid":"EditProfileTabSkeleton",className:this.props.className},l.default.createElement(a.default,{align:"top"},l.default.createElement(v.FieldColumnUI,null,this.renderField(),this.renderField(),this.props.showWebsites&&this.renderField()),l.default.createElement(v.SpacerUI,null),l.default.createElement(v.FieldColumnUI,null,this.renderField(),this.renderField(),this.props.showWebsites&&this.renderField())),!this.props.showWebsites&&l.default.createElement(a.default,{align:"top"},l.default.createElement(v.FieldColumnUI,null,this.renderField({width:"21%"}))))}}]),n}(l.default.PureComponent);t.EditProfileTabSkeleton=k},1660:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1661))&&r.__esModule?r:{default:r}).default;t.default=o},1661:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AddressFields=void 0;var o=g(n(621)),a=g(n(28)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=g(n(2)),u=g(n(12)),s=n(224),c=g(n(1662)),d=g(n(1664)),f=n(1666),p=g(n(970)),m=n(955),h=n(294),v=g(n(129)),y=["canUpdate","countries","onCommit","validate"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){M(e,t,n[t])}))}return e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(b,e);var t,n,r,i=C(b);function b(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),M(x(t=i.call(this,e)),"state",{address:{},isFormVisible:!1}),M(x(t),"componentDidMount",(function(){if(t._isMounted=!0,t.addressFormNode){var e=t.addressFormNode.querySelector(".EditableTextarea__Textarea");e&&(t.addressLinesElement=e,t.addressLinesElement.addEventListener("blur",t.handleBlurLines,!1),t.addressLinesElement.addEventListener("focus",t.handleFocusLines,!1))}})),M(x(t),"UNSAFE_componentWillMount",(function(){document.addEventListener("mousedown",t.handleClick,!1)})),M(x(t),"componentWillUnmount",(function(){t._isMounted=!1,document.removeEventListener("mousedown",t.handleClick,!1),t.addressLinesElement&&(t.addressLinesElement.removeEventListener("blur",t.handleBlurLines,!1),t.addressLinesElement.removeEventListener("focus",t.handleFocusLines,!1))})),M(x(t),"handleFocusLines",(function(){setTimeout((function(){return t.isEditingLines=!0}),1)})),M(x(t),"handleBlurLines",(function(){setTimeout((function(){return t.isEditingLines=!1}),2)})),M(x(t),"handleClick",(function(e){t.state.isFormVisible&&!t.addressFormNode.contains(e.target)&&t.toggleVisibility()})),M(x(t),"handleCommit",(function(){var e;if(arguments.length){var n=arguments.length<=0?void 0:arguments[0],r=n.data.operation,o=n.name;if("DELETE"===r){var a=(0,m.getProperty)(o),l=a.split("/");if(l.length){var i=l[1],u="lines"===i?[]:"";t.safeSetState({address:P({},t.state.address,M({},i,u))})}}}return(e=t.props).onCommit.apply(e,arguments)})),M(x(t),"handleEscape",(function(){var e=t.state.isFormVisible,n=x(t),r=n.dropdownIsOpen,o=n.isEditingLines;if(!e||r||o)return x(t);if(t.addressFormNode){var a=t.addressFormNode.querySelectorAll(":focus");if(a.length)for(var l=0;l<a.length;l++){a[l].classList.contains("ButtonToggler")&&t.safeSetState({isFormVisible:!1,noAnimate:!1})}else t.safeSetState({isFormVisible:!1,noAnimate:!1})}})),M(x(t),"handleValidate",(function(){var e;if(arguments.length){var n=arguments.length<=0?void 0:arguments[0],r=n.name,o=n.value,a=(0,m.getProperty)(r),l=a.split("/");if(l.length>1){var i=l[1],u="lines"===i?o.split("\n"):o;t.safeSetState({address:P({},t.state.address,M({},i,u))})}}return(e=t.props).validate.apply(e,arguments)})),M(x(t),"maybeEscape",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.event;n&&n.shiftKey&&n.keyCode===v.default.TAB&&t.safeSetState({isFormVisible:!1,noAnimate:!1})})),M(x(t),"toggleVisibility",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"address/lines",r=t.state.isFormVisible;r&&!t.dropdownIsOpen&&(e&&e.preventDefault()&&e.stopPropagation(),t.safeSetState({noAnimate:!1,isFormVisible:!1})),r||(e&&e.preventDefault()&&e.stopPropagation(),t.safeSetState({isFormVisible:!0},(function(){var e;if(setTimeout((function(){t.state.isFormVisible&&t.safeSetState({noAnimate:!0})}),300),"address/country"!==n){var r=t.addressFormNode.querySelectorAll("input,textarea");if(r)for(var o=0;o<r.length;o++){var a=r[o];if(a.id.includes(n))return a.setSelectionRange&&a.setSelectionRange(a.value.length,a.value.length),void a.focus()}}else(e=t.addressFormNode.querySelector(".DropListToggler"))&&e.focus()})))})),t.state.address=e.address,t}return t=b,(n=[{key:"safeSetState",value:function(e,t){this._isMounted&&this.setState(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.canUpdate,r=t.countries,i=(t.onCommit,t.validate,w(t,y)),m=this.state.address,h=(m=void 0===m?{}:m).city,b=void 0===h?"":h,g=m.country,P=void 0===g?"":g,_=m.lines,E=void 0===_?[]:_,C=m.state,j=void 0===C?"":C,x=m.postalCode,S=void 0===x?"":x,M=this.state,k=M.isFormVisible,T=M.noAnimate,A=(0,u.default)(!k&&"is-hidden",T&&"no-animate"),U=(0,u.default)(k&&"is-hidden",!I(this.state.address)&&"is-placeholder");return l.default.createElement(s.EditableFieldMaskUI,null,l.default.createElement("div",null,l.default.createElement(f.LabelUI,{id:"address-fields-address-form-label"},"Address")),l.default.createElement("div",{ref:function(t){return e.addressFormNode=t}},l.default.createElement(f.AddressFormUI,{"aira-labelledby":"address-fields-address-form-label",className:A,"data-testid":"AddressFieldsAddressForm","data-cy":"AddressFields.AddressForm",id:"address-fields-address-form"},l.default.createElement(p.default,null,l.default.createElement(a.default,{gap:"xl",style:{marginBottom:"21px"}},l.default.createElement(a.default.Block,null,l.default.createElement(d.default,O({innerRef:function(t){return e.linesFieldNode=t},name:"address/lines",label:"Address",onInputKeyDown:this.maybeEscape,placeholder:"Address",ref:function(t){return e.addressLinesNode=t},validate:this.handleValidate,value:E.join("\n")},i)))),l.default.createElement(a.default,{gap:"xl",style:{marginBottom:"21px"}},l.default.createElement(a.default.Block,null,l.default.createElement(d.default,O({"data-testid":"AddressFieldCity",innerRef:function(t){return e.addressFieldCityNode=t},label:"City",onCommit:this.handleCommit,name:"address/city",placeholder:"City",validate:this.handleValidate,value:b},i))),l.default.createElement(a.default.Block,null,l.default.createElement(d.default,O({label:"State",onCommit:this.handleCommit,name:"address/state",placeholder:"State",validate:this.handleValidate,value:j},i))),l.default.createElement(a.default.Block,null,l.default.createElement(d.default,O({label:"Postal Code",onCommit:this.handleCommit,name:"address/postalCode",placeholder:"Postal Code",validate:this.handleValidate,value:S},i)))),!!r.length&&l.default.createElement(a.default,{gap:"xl"},l.default.createElement(a.default.Block,null,l.default.createElement(c.default,{countries:r,onOpenedStateChange:function(t){return e.dropdownIsOpen=t},value:P,validate:this.handleValidate})))))),n?l.default.createElement(f.AddressPreviewUI,{"data-testid":"AddressPreviewUI",className:U},this.renderAddressPreview()):l.default.createElement(f.ReadOnlyAddressPreviewUI,{"data-testid":"ReadOnlyAddressPreviewUI",className:U},this.renderReadOnlyAddressPreview()),l.default.createElement(o.default,{handler:this.handleEscape,keyCode:v.default.ESCAPE,type:"keydown"}))}},{key:"renderAddressPreview",value:function(){return I(this.state.address)?l.default.createElement("div",{"data-cy":"AddressFields.Preview.WithAddress"},l.default.createElement("button",{"aria-controls":"address-fields-address-form",className:"is-hidden","data-cy":"AddressFields.PreviewButton",onClick:function(e){return e.preventDefault()},onFocus:this.toggleVisibility,type:"button"}),this.renderAddress()):l.default.createElement("div",{"data-cy":"AddressFields.Preview.WithoutAddress"},l.default.createElement("button",{"aria-controls":"address-fields-address-form","data-cy":"AddressFields.PreviewButton",onClick:this.toggleVisibility,onFocus:this.toggleVisibility,type:"button"},l.default.createElement("span",null,"Add address")))}},{key:"renderReadOnlyAddressPreview",value:function(){return I(this.state.address)?l.default.createElement("div",{"data-cy":"AddressFields.Preview.WithAddress"},this.renderAddress()):l.default.createElement("div",{"data-cy":"AddressFields.Preview.WithoutAddress"},l.default.createElement("span",null,(0,h.getPlaceholder)({canUpdate:!1,hasValue:!1})))}},{key:"renderAddress",value:function(){var e=this.state.address;return l.default.createElement("div",null,this.renderAddressLines(e),this.renderAddressCity(e),this.renderAddressCountry(e))}},{key:"renderAddressLines",value:function(e){var t=this,n=e.lines;return n&&n.filter((function(e){return!!e})).length?l.default.createElement("div",null,n.map((function(e,n){return l.default.createElement(f.TextUI,{"data-cy":"AddressFields.PreviewControl.Address.line",key:n,onClick:function(e){return t.toggleVisibility(e,"address/lines")}},e)}))):null}},{key:"renderAddressCity",value:function(e){var t=this,n=e.city,r=void 0===n?"":n,o=e.state,a=void 0===o?"":o,i=e.postalCode,u=[{name:"address/city",value:r},{name:"address/state",value:a},{name:"address/postalCode",value:void 0===i?"":i}].filter((function(e){return!!e.value}));return u.length?l.default.createElement(f.FlexTextUI,null,u.map((function(e,n){var r=e.name,o=e.value;return l.default.createElement("div",{role:"button",tabIndex:"0","data-testid":"AddressFieldsPreview-".concat(r.replace("address/","")),"data-cy":"AddressFields.PreviewControl.Address.".concat(r.replace("address/","")),key:r,onClick:function(e){return t.toggleVisibility(e,r)},onKeyPress:function(e){return t.toggleVisibility(e,r)}},"".concat(o).concat(n<u.length-1?", ":""))}))):null}},{key:"renderAddressCountry",value:function(e){var t=this,n=e.country;if(!n)return null;var r=this.props.countries.filter((function(e){return e.id===n}));return r.length?l.default.createElement(f.TextUI,{"data-testid":"foo","data-cy":"AddressFields.PreviewControl.Address.country",onClick:function(e){return t.toggleVisibility(e,"address/country")}},r[0].label):null}}])&&_(t.prototype,n),r&&_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),b}(l.Component);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.values(e).filter((function(e){return Array.isArray(e)?!!e.join(""):!!e}));return!!t.length}t.AddressFields=k,M(k,"defaultProps",{address:{},countries:[],customerId:0,onCommit:function(){},onInputBlur:function(){},onInputFocus:function(){},validate:function(){return Promise.resolve({isValid:!0})}}),M(k,"propTypes",{address:i.default.shape({city:i.default.string,country:i.default.string,lines:i.default.arrayOf(i.default.string),postalCode:i.default.string,state:i.default.string}),canUpdate:i.default.bool,countries:i.default.arrayOf(i.default.shape({id:i.default.string,label:i.default.string,value:i.default.string})),customerId:i.default.number,onCommit:i.default.func,onInputBlur:i.default.func,onInputFocus:i.default.func,validate:i.default.func});var T=k;t.default=T},1662:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=O;var o=p(n(27)),a=p(n(138)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=p(n(12)),u=p(n(2)),s=p(n(166)),c=n(1663),d=["text","isActive","onClick"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var b="Choose a country...",g=(0,l.forwardRef)((function(e,t){var n=e.text,r=void 0===n?"":n,a=e.isActive,u=void 0!==a&&a,f=e.onClick,p=void 0===f?s.default:f,m=y(e,d);return l.default.createElement(c.CountryTogglerUI,v({"aria-label":"toggle menu","aria-haspopup":"true","aria-expanded":u,ref:t,className:(0,i.default)("DropListToggle","CountryButton",u&&"is-active",r!==b&&"with-value"),"data-cy":"DropList.ButtonToggler","data-testid":"DropList.ButtonToggler",onClick:p,type:"button"},m),l.default.createElement("span",null,r),l.default.createElement(o.default,{name:"caret-down",size:"14"}))}));function O(e){var t=e.countries,n=void 0===t?[]:t,r=e.onOpenedStateChange,o=void 0===r?s.default:r,i=e.validate,u=void 0===i?s.default:i,c=e.value,d=void 0===c?"":c,f=n.find((function(e){return e.value===d})),p=m((0,l.useState)(f?f.label:b),2),h=p[0],v=p[1];return l.default.createElement(a.default,{tippyOptions:{appendTo:function(){return document.getElementById("address-fields-address-form")},offset:[0,10]},items:[{id:"",label:b,value:""}].concat(n),onOpenedStateChange:o,onSelect:function(e){var t=e.value,n=e.label;v(n),u({name:"address/country",value:t}).catch((function(){HS.Utils.Main.error("Unable to save changes to address",{timeout:3e3})}))},selection:f,toggler:l.default.createElement(g,{text:h}),variant:"combobox"})}g.propTypes={isActive:u.default.bool,onClick:u.default.func,text:u.default.string},O.propTypes={countries:u.default.array,onOpenedStateChange:u.default.func,validate:u.default.func,value:u.default.string}},1663:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.CountryTogglerUI=void 0;var r,o=(r=n(7))&&r.__esModule?r:{default:r},a=n(9);var l=(0,o.default)("button").withConfig({displayName:"CountryDropdowncss__CountryTogglerUI",componentId:"sc-1rkvldp-0"})(["box-sizing:border-box;position:relative;width:100%;height:23px;line-height:25px;padding:0;pointer-events:auto;border:0;border-bottom:1px solid #c6d0d8;border-radius:0;background-color:#fff;color:",";font-size:14px;text-align:left;&.with-value{color:",";.c-Icon{color:",";}}&:hover{border-bottom:1px solid ",";.c-Icon{color:",";}}&:focus,&.is-active:hover,&.is-active{border-bottom:2px solid ",";}.c-Icon{position:absolute;right:0;top:8px;}"],(0,a.getColor)("charcoal.200"),(0,a.getColor)("charcoal.800"),(0,a.getColor)("charcoal.200"),(0,a.getColor)("blue.500"),(0,a.getColor)("blue.500"),(0,a.getColor)("blue.500"));t.CountryTogglerUI=l},1664:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AddressField=void 0;var o=u(n(0)),a=u(n(2)),l=n(1665),i=["autoComplete","name"];function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,a=m(u);function u(){return d(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.autoComplete,n=e.name,r=c(e,i),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){y(e,t,n[t])}))}return e}({autoComplete:t.toString(),floatingLabels:!0,name:n},r);return"address/lines"===n?o.default.createElement(l.EditableTextareaUI,s({id:n},a)):o.default.createElement(l.EditableFieldUI,a)}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(o.default.Component);t.AddressField=b,y(b,"propTypes",{autoComplete:a.default.bool,label:a.default.string,name:a.default.string,onCommit:a.default.func,onInputBlur:a.default.func,onInputFocus:a.default.func,placeholder:a.default.string,renderFieldsAsBlocks:a.default.bool,validate:a.default.func}),y(b,"defaultProps",{autoComplete:!1,label:"",name:"",onCommit:function(){},onInputBlur:function(){},onInputFocus:function(){},placeholder:"",renderFieldsAsBlocks:!0});var g=b;t.default=g},1665:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.EditableTextareaUI=t.EditableFieldUI=void 0;var r,o,a=s(n(986)),l=s(n(295)),i=s(n(34)),u=n(9);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var d=(0,i.default)(l.default)(r||(r=c(["\n  margin-bottom: 0;\n  pointer-events: auto;\n\n  &.with-floatingLabels .FieldInput__inputWrapper::before {\n    top: -2px;\n  }\n\n  .FieldActions {\n    display: none;\n  }\n\n  .FieldMask__value,\n  .FieldMask__value.with-placeholder {\n    border-bottom: 1px solid #c6d0d8;\n    width: 100%;\n\n    .is-placeholder {\n      color: ",";\n    }\n  }\n\n  &:hover .FieldMask__value,\n  &:hover .FieldMask__value.with-placeholder {\n    border-bottom: 1px solid "," !important;\n    width: 100% !important;\n  }\n\n  &:hover .is-empty .FieldMask__value,\n  &:hover .is-empty .FieldMask__value.with-placeholder {\n    border-bottom: 1px solid "," !important;\n  }\n\n  .FieldInput__focusIndicator {\n    bottom: -0.5px;\n  }\n\n  .no-animate & .FieldInput__focusIndicator {\n    transition: none;\n  }\n"])),(0,u.getColor)("charcoal.200"),(0,u.getColor)("charcoal.200"),(0,u.getColor)("blue.500"));t.EditableFieldUI=d;var f=(0,i.default)(a.default)(o||(o=c(["\n  margin-bottom: 0;\n  min-height: 22px;\n  pointer-events: auto;\n\n  &.with-floatingLabels .with-placeholder .EditableTextarea__Mask.field {\n    top: 0;\n  }\n\n  &.with-floatingLabels textarea:not(:empty) + .EditableTextarea__Mask.field {\n    top: -2px;\n  }\n\n  &.with-floatingLabels textarea:not(:empty) {\n    margin-top: 1px;\n  }\n\n  .is-readonly .EditableTextarea__Textarea {\n    cursor: text;\n  }\n\n  .is-readonly .EditableTextarea__Textarea::placeholder {\n    opacity: 0;\n  }\n\n  .EditableTextarea__Textarea::placeholder {\n    color: "," !important;\n    opacity: 1;\n  }\n\n  .EditableTextarea__Mask {\n    border-bottom-color: transparent !important;\n    width: 100% !important;\n  }\n\n  .with-placeholder .EditableTextarea__Mask {\n    color: "," !important;\n  }\n\n  .no-animate & .EditableTextarea__ResizableTextarea,\n  .no-animate & .EditableTextarea__ResizableTextarea.is-readonly {\n    border-bottom: 1px solid "," !important;\n\n    &:hover {\n      border-bottom: 1px solid "," !important;\n    }\n\n    &:after {\n      transition: none;\n    }\n  }\n\n  .EditableTextarea__ResizableTextarea.is-readonly {\n    border-bottom: 1px solid "," !important;\n\n    &:hover {\n      border-bottom: 1px solid "," !important;\n    }\n\n    &.with-placeholder:hover {\n      border-bottom-color: "," !important;\n    }\n  }\n"])),(0,u.getColor)("grey.800"),(0,u.getColor)("charcoal.200"),(0,u.getColor)("grey.600"),(0,u.getColor)("charcoal.200"),(0,u.getColor)("grey.600"),(0,u.getColor)("charcoal.200"),(0,u.getColor)("blue.500"));t.EditableTextareaUI=f},1666:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TextUI=t.ReadOnlyAddressPreviewUI=t.LabelUI=t.FlexTextUI=t.AddressPreviewUI=t.AddressFormUI=void 0;var r,o,a,l,i,u,s,c=(r=n(34))&&r.__esModule?r:{default:r},d=n(9),f=n(224);function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=(0,c.default)("div")(o||(o=p(["\n  margin-top: 22px;\n\n  &.is-hidden {\n    display: none;\n  }\n\n  .EditableTextarea__Mask span {\n    border-bottom: none !important;\n  }\n"])));t.AddressFormUI=m;var h=(0,c.default)(f.MaskValueUI)(a||(a=p(["\n  display: block;\n  height: auto;\n  line-height: 20px;\n  pointer-events: auto;\n\n  &.is-hidden {\n    display: none;\n  }\n\n  &.is-placeholder {\n    border-bottom: none;\n    color: ",";\n    cursor: pointer;\n\n    button {\n      display: block;\n      width: 100%;\n    }\n\n    span {\n      border-bottom: 1px dashed ",";\n      display: inline-block;\n      line-height: 20px;\n    }\n\n    &:hover {\n      border-bottom: none;\n\n      span {\n        border-bottom-color: ",";\n      }\n    }\n  }\n\n  &:hover {\n    border-bottom: 1px dashed ",";\n  }\n\n  button {\n    background-color: transparent;\n    border: none;\n    color: currentColor;\n    line-height: inherit;\n    font-size: 14px;\n    margin: 0;\n    overflow: visible;\n    padding: 0;\n    text-align: left;\n\n    &:focus {\n      outline: 1px dotted ",";\n    }\n\n    &.is-hidden {\n      position: absolute;\n      width: 1px;\n      height: 1px;\n      padding: 0;\n      margin: -1px;\n      overflow: hidden;\n      clip: rect(0, 0, 0, 0);\n      border: 0;\n    }\n  }\n"])),(0,d.getColor)("charcoal.300"),(0,d.getColor)("charcoal.200"),(0,d.getColor)("blue.500"),(0,d.getColor)("charcoal.200"),(0,d.getColor)("charcoal.200"));t.AddressPreviewUI=h;var v=(0,c.default)("span")(l||(l=p(["\n  display: block;\n  line-height: 20px;\n  font-size: 14px;\n\n  &.is-placeholder {\n    span {\n      line-height: 25px;\n    }\n  }\n"])));t.ReadOnlyAddressPreviewUI=v;var y=(0,c.default)("div")(i||(i=p(["\n  display: flex;\n\n  > div {\n    cursor: text;\n    padding-left: 5px;\n\n    &:first-child {\n      padding-left: 0;\n    }\n\n    &:last-child {\n      flex-grow: 1;\n    }\n  }\n"])));t.FlexTextUI=y;var b=(0,c.default)("div")(u||(u=p(["\n  cursor: text;\n"])));t.TextUI=b;var g=(0,c.default)(f.LabelTextUI)(s||(s=p(["\n  display: block;\n  line-height: 18px;\n"])));t.LabelUI=g},1667:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1668))&&r.__esModule?r:{default:r}).default;t.default=o},1668:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CompanyField=void 0;var o=d(n(295)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=d(n(2)),i=n(294),u=n(332),s=["canUpdate","value"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,n,r,l=y(c);function c(){return m(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.canUpdate,n=e.value,r=p(e,s),l=(0,i.getPlaceholder)({canUpdate:t,defaultPlaceholder:"Add company",hasValue:n});return a.default.createElement(u.EditableFieldWrapperUI,null,a.default.createElement(o.default,f({"data-cy":"CustomerProfile.CompanyField",disabled:!t,value:n,name:"organization",label:"Company",maxlength:"60",renderFieldsAsBlocks:!0,placeholder:l},r)))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);t.CompanyField=w,O(w,"propTypes",{canUpdate:l.default.bool,value:l.default.string}),O(w,"defaultProps",{canUpdate:!0,value:""});var P=w;t.default=P},1669:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1670))&&r.__esModule?r:{default:r}).default;t.default=o},1670:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CustomPropertyFields=void 0;var r=l(n(0)),o=l(n(1671)),a=n(1688);function l(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){var t=e.canUpdate,n=void 0===t||t,l=e.column,s=e.properties,c=void 0===s?[]:s,d=e.validate,f=e.highlightedProp;if(!c.length)return null;var p=u(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.l2r,r=void 0===n||n,o=e.sort((function(e,t){return e.name.localeCompare(t.name,void 0,{numeric:!0,sensitivity:"base"})})),a=o.filter((function(e,t){return t%2==0})),l=o.filter((function(e,t){return t%2!=0}));return r?[a,l]:[l,a]}(c,!l),2),m=p[0],h=p[1],v=m.length?m.map((function(e){return r.default.createElement(o.default,i({key:e.slug,canUpdate:n,validate:d},e,{highlightedProp:f}))})):null,y=h.length?h.map((function(e){return r.default.createElement(o.default,i({key:e.slug,canUpdate:n,validate:d},e,{highlightedProp:f}))})):null;switch(l){case"l":return r.default.createElement(a.ColumnUI,null,v);case"r":return r.default.createElement(a.ColumnUI,null,y);default:return r.default.createElement(a.RowUI,{align:"top"},v&&r.default.createElement(a.ColumnUI,{className:"property-column"},v),y&&r.default.createElement(a.ColumnUI,{className:"property-column"},y))}};t.CustomPropertyFields=c;var d=c;t.default=d},1671:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1672))&&r.__esModule?r:{default:r}).default;t.default=o},1672:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(2)),o=c(n(0)),a=n(86),l=c(n(973)),i=c(n(1676)),u=c(n(1679)),s=c(n(1685));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.name,n=e.options,r=void 0===n?[]:n,c=e.slug,d=e.type,f=e.validate,p=e.value,m=e.highlightedProp,h=e.canUpdate,v=void 0===h||h;switch(d){case a.CUSTOM_PROPERTIES.TYPE_BOOL:return o.default.createElement(i.default,{name:t,slug:c,type:d,value:p,validate:f});case a.CUSTOM_PROPERTIES.TYPE_DATE:return o.default.createElement(u.default,{canUpdate:v,name:t,slug:c,type:d,validate:f,value:p,isHighlighted:m===c});case a.CUSTOM_PROPERTIES.TYPE_DROPDOWN:return o.default.createElement(s.default,{canUpdate:v,disabled:!v,label:t,onSelect:function(e){return f({slug:c,type:d,value:e})},items:r.map((function(e){var t=e.id;return{label:e.label,value:t}})),type:d,value:p,isHighlighted:m===c});case a.CUSTOM_PROPERTIES.TYPE_NUMBER:case a.CUSTOM_PROPERTIES.TYPE_TEXT:case a.CUSTOM_PROPERTIES.TYPE_URL:return o.default.createElement(l.default,{canUpdate:v,name:t,slug:c,type:d,validate:f,value:p,isHighlighted:m===c});default:return null}}d.propTypes={canUpdate:r.default.bool,name:r.default.string.isRequired,options:r.default.arrayOf(r.default.shape({id:r.default.string.isRequired,label:r.default.string.isRequired})),slug:r.default.string.isRequired,type:r.default.oneOf(Object.values(a.CUSTOM_PROPERTIES)),validate:r.default.func.isRequired,value:r.default.oneOfType([r.default.bool,r.default.number,r.default.string])};var f=d;t.default=f},1673:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=m(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=m(n(17)),i=n(974),u=n(86),s=m(n(975)),c=n(976),d=n(294),f=n(1675);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t=e.canUpdate,n=void 0===t||t,r=e.name,o=e.onDeleteDate,p=void 0===o?function(){}:o,m=e.slug,y=e.type,b=e.validate,g=e.value,O=e.isHighlighted,w=void 0!==O&&O,P=v((0,a.useState)(g),2),_=P[0],E=P[1],C=y===u.CUSTOM_PROPERTIES.TYPE_URL,j=y===u.CUSTOM_PROPERTIES.TYPE_DATE,x=(0,a.useRef)(null);function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,n=void 0===t?{}:t;e.name;if("DELETE"===n.operation){var r="";E(r),b({slug:m,type:y,value:r}),j&&p()}}function M(){return y===u.CUSTOM_PROPERTIES.TYPE_DATE?(e=g)&&"function"==typeof e.getMonth?(0,l.default)(g).format("YYYY-MM-DD"):g:y===u.CUSTOM_PROPERTIES.TYPE_NUMBER&&"number"==typeof _?String(_):_;var e}function k(e){var t=e.name,n=e.value;return b({name:t,slug:m,type:y,value:n}).then((function(e){var r=e&&e.isValid,o=y===u.CUSTOM_PROPERTIES.TYPE_NUMBER&&n&&-1!==n.indexOf("+");if(!r||!o)return e;var l=n.replace("+","");return n===l?(0,a.useCallback)((function(){return E(l)}),[])():setTimeout((function(){E(l)}),0),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},e,{name:t,value:l})}))}(0,a.useEffect)((function(){w&&(0,i.scrollIntoView)(x)}));var I=y===C?a.default.createElement(s.default,{autoComplete:"off",label:r,name:(0,c.createInputName)(r),onCommit:S,placeholder:(0,c.createInputPlaceholder)(y),typeClass:"is-type-url",validate:k,value:M()}):a.default.createElement(f.EditableFieldUI,{disabled:!n,label:r,name:(0,c.createInputName)(r),onCommit:S,placeholder:(0,d.getPlaceholder)({canUpdate:n,defaultPlaceholder:(0,c.createInputPlaceholder)(y),hasValue:_}),renderFieldsAsBlocks:!0,validate:k,value:M()});return a.default.createElement(f.BasePropertyFieldUI,{ref:x,className:"is-type-".concat(y," ").concat(w?"is-highlighted":""),"data-testid":"CustomPropertyField.Value"},I)}b.propTypes={canUpdate:o.default.bool,onDeleteDate:o.default.func,name:o.default.string.isRequired,slug:o.default.string.isRequired,type:o.default.oneOf([u.CUSTOM_PROPERTIES.TYPE_DATE,u.CUSTOM_PROPERTIES.TYPE_NUMBER,u.CUSTOM_PROPERTIES.TYPE_TEXT,u.CUSTOM_PROPERTIES.TYPE_URL]),validate:o.default.func.isRequired,value:o.default.oneOfType([o.default.number,o.default.string,o.default.object]),isHighlighted:o.default.bool};var g=b;t.default=g},1674:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WebSiteField=void 0;var o=d(n(295)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=d(n(2)),i=n(294),u=n(332),s=["canUpdate","dataTestId","label","multipleValues","name","typeClass","value"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,n,r,l=y(c);function c(){return m(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.canUpdate,n=e.dataTestId,r=e.label,l=e.multipleValues,c=e.name,d=e.typeClass,m=e.value,h=p(e,s),v={},y=(0,i.getPlaceholder)({canUpdate:t,defaultPlaceholder:"Add ".concat(r),hasValue:m});return m&&m.length>0&&(v.value=m),a.default.createElement(u.EditableFieldWrapperUI,{className:d,"data-testid":n},a.default.createElement(o.default,f({type:"url",name:c,label:r,multipleValues:l,renderFieldsAsBlocks:!0,placeholder:y,actions:{name:"link"},disabled:!t},v,h)))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);t.WebSiteField=w,O(w,"propTypes",{canUpdate:l.default.bool,value:l.default.array}),O(w,"defaultProps",{value:void 0});var P=w;t.default=P},1675:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.EditableFieldUI=t.BasePropertyFieldUI=void 0;var r,o,a=u(n(295)),l=u(n(34)),i=n(9);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=(0,l.default)("div")(r||(r=s(["\n  &.is-highlighted {\n    box-shadow: 0 0 0 10px white, 0 0 0 12px #1292ee;\n\n    label > span {\n      color: ",";\n    }\n  }\n"])),(0,i.getColor)("charcoal.600"));t.BasePropertyFieldUI=c;var d=(0,l.default)(a.default)(o||(o=s(["\n  .field-disabled {\n    .FieldMask__value,\n    .is-placeholder {\n      color: ",";\n    }\n  }\n"])),(0,i.getColor)("charcoal.800"));t.EditableFieldUI=d},1676:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1677))&&r.__esModule?r:{default:r}).default;t.default=o},1677:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(25)),a=f(n(477)),l=f(n(129)),i=n(224),u=f(n(2)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),c=n(1678);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=e.name,n=e.slug,r=e.type,u=e.validate,d=e.value,f=void 0!==d&&d,m=p((0,s.useState)(f),2),h=m[0],v=m[1],y=h?"Yes":"No";function b(){var e=!h;v(e),u({slug:n,type:r,value:e})}return s.default.createElement(c.SwitchUI,null,s.default.createElement(i.LabelTextUI,null,t),s.default.createElement("div",{className:"switch-wrapper is-type-bool","data-testid":"CustomPropertyField.Value"},s.default.createElement(a.default,{checked:h,onChange:b,size:"sm"}),s.default.createElement(o.default,{role:"button",tabIndex:"0",className:"switch-label",onClick:b,onKeyDown:function(e){e.keyCode!==l.default.ENTER&&e.keyCode!==l.default.SPACE||(e.preventDefault(),b())}},y)))}h.propTypes={name:u.default.string.isRequired,slug:u.default.string.isRequired,type:u.default.oneOf(["bool"]).isRequired,value:u.default.oneOfType([u.default.bool]),validate:u.default.func.isRequired};var v=h;t.default=v},1678:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.SwitchUI=void 0;var r,o=n(224);var a=(0,((r=n(7))&&r.__esModule?r:{default:r}).default)(o.EditableFieldUI).withConfig({displayName:"BoolPropertyFieldcss__SwitchUI",componentId:"ahwkcr-0"})([".switch-wrapper{display:flex;margin-top:10px;}.switch-label{cursor:pointer;margin-left:12px;}"]);t.SwitchUI=a},1679:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1680))&&r.__esModule?r:{default:r}).default;t.default=o},1680:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=f(n(27)),a=f(n(17)),l=f(n(2)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),u=n(1681),s=f(n(973)),c=f(n(1682));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){return e?new Date(e).toISOString():""}function v(e){var t=e.canUpdate,n=void 0===t||t,r=e.name,l=e.slug,d=e.type,f=e.validate,m=e.value,v=e.isHighlighted,y=void 0!==v&&v,b=p((0,i.useState)(!1),2),g=b[0],O=b[1],w=m?h(m):"",P=p((0,i.useState)(w),2),_=P[0],E=P[1],C=p((0,i.useState)(m),2),j=C[0],x=C[1],S=p((0,i.useState)(!0),2),M=S[0],k=S[1],I=(0,i.useCallback)((function(){var e=f.apply(void 0,arguments);return e.then((function(e){k(e.isValid)})),e}),[f]);return(0,i.useEffect)((function(){var e=r.split(" ").join("_");function t(t){var n=t.target;g&&function(e,t){return!(/Datepickercss__/.test(e.classList)||/Datepickercss__/.test(e.parentElement.classList)||e.name&&e.name.includes(t)||e.dateTime)}(n,e)&&O(!1)}function n(t){if(9===t.keyCode||13===t.keyCode)if(t.target.classList.contains("c-DatepickerDay"))O(!1),t.target.blur();else if(t.target.id.includes(e))return O(!1),E(h(t.target.value)),x(t.target.value),I({name:r,slug:l,type:d,value:t.target.value})}return document.body.addEventListener("click",t),document.body.addEventListener("keydown",n),function(){document.body.removeEventListener("click",t),document.body.removeEventListener("keydown",n)}}),[g,r,l,d,I]),i.default.createElement(u.DatePickerFieldUI,{onFocus:function(e){var t=e.target.classList;t.contains("c-DatepickerDay")||t.contains("with-placeholder")||g||O(!0)}},i.default.createElement("div",null,i.default.createElement(s.default,{canUpdate:n,onDeleteDate:function(){E(null),x(null)},name:r,slug:l,type:d,validate:I,value:j,isHighlighted:y}),n&&i.default.createElement(u.DatePickerChevronUI,{isOpen:g,isEmpty:!j&&M},i.default.createElement(o.default,{name:"chevron-down"}))),g&&i.default.createElement(c.default,{onDateChange:function(e){var t=e.startDate;if(t){var n=(0,a.default)(t).format("YYYY-MM-DD"),o=h(t);return x(n),E(o),O(!1),I({name:r,slug:l,type:d,value:n})}},startDate:_}))}v.propTypes={canUpdate:l.default.bool,name:l.default.string.isRequired,slug:l.default.string.isRequired,type:l.default.oneOf(["date"]),validate:l.default.func.isRequired,value:l.default.string,isHighlighted:l.default.bool};var y=v;t.default=y},1681:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.DatePickerFieldUI=t.DatePickerChevronUI=void 0;var r,o,a,l=(r=n(34))&&r.__esModule?r:{default:r};function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var u=(0,l.default)("div")(o||(o=i(["\n  position: relative;\n\n  & .FieldInput__input {\n    background-color: transparent;\n  }\n"])));t.DatePickerFieldUI=u;var s=(0,l.default)("span")(a||(a=i(["\n  display: ",";\n  position: absolute;\n  top: 26px;\n  ",";\n  z-index: 0;\n  font-size: 14px;\n  color: #748494;\n  transition-property: left, right;\n  transition-duration: 0.2s;\n"])),(function(e){return e.isEmpty?"block":"none"}),(function(e){return e.isOpen?"right: 0px":"left: 93px"}));t.DatePickerChevronUI=s},1682:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1683))&&r.__esModule?r:{default:r}).default;t.default=o},1683:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n(1759)),a=u(n(0)),l=u(n(2)),i=n(1684);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h,v,y,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,l=f(u);function u(){return s(this,u),l.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.onDateChange,n=e.startDate;return a.default.createElement(i.DatePickerWrapperUI,null,a.default.createElement(o.default,{onDateChange:t,startDate:n}))}}])&&c(t.prototype,n),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a.default.PureComponent);t.default=b,y={onDateChange:function(){},startDate:null},(v="defaultProps")in(h=b)?Object.defineProperty(h,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[v]=y,b.propTypes={onDateChange:l.default.func.isRequired,startDate:l.default.string}},1684:function(e,t,n){var r,o;window;Object.defineProperty(t,"__esModule",{value:!0}),t.DatePickerWrapperUI=void 0;var a,l,i=(0,((r=n(34))&&r.__esModule?r:{default:r}).default)("div")(o||(a=["\n  position: absolute;\n  top: 47px;\n  z-index: 3;\n"],l||(l=a.slice(0)),o=Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(l)}}))));t.DatePickerWrapperUI=i},1685:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1686))&&r.__esModule?r:{default:r}).default;t.default=o},1686:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownPropertyField=S,t.default=void 0;var o=g(n(27)),a=g(n(138)),l=g(n(295)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),u=g(n(2)),s=g(n(12)),c=g(n(166)),d=n(224),f=n(974),p=n(976),m=n(294),h=n(332),v=n(1687),y=["text","disabled","isActive","onClick"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function O(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var j=[{label:"Clear value",value:"",className:"clear-value-item"},{type:"divider"}],x=(0,i.forwardRef)((function(e,t){var n=e.text,r=void 0===n?"":n,a=e.disabled,l=void 0!==a&&a,u=e.isActive,d=void 0!==u&&u,f=e.onClick,p=void 0===f?c.default:f,m=C(e,y);return i.default.createElement(v.TriggerUI,E({"aria-label":"toggle menu","aria-haspopup":"true","aria-expanded":d,className:(0,s.default)("DropListToggler",d&&"is-active"),"data-cy":"DropList.ButtonToggler","data-testid":"DropList.ButtonToggler",disabled:l,onClick:p,ref:t},m),i.default.createElement(v.TriggerContainerUI,null,i.default.createElement("div",null,r),i.default.createElement(o.default,{name:"chevron-down"})))}));function S(e){var t=e.canUpdate,n=void 0===t||t,r=e.disabled,o=void 0!==r&&r,u=e.dropListProps,y=void 0===u?{}:u,b=e.label,g=e.items,P=e.onSelect,_=void 0===P?c.default:P,C=e.type,S=e.value,M=e.isHighlighted,k=void 0!==M&&M,I=g.find((function(e){return e.value===S})),T=w((0,i.useState)(I),2),A=T[0],U=T[1],D=(0,i.useRef)(null);return(0,i.useEffect)((function(){k&&(0,f.scrollIntoView)(D)})),i.default.createElement(v.WrapperUI,{className:(0,s.default)("DropdownPropertyField",o&&"is-disabled",k&&"is-highlighted"),"data-testid":"DropdownPropertyField",ref:D},n?i.default.createElement(i.default.Fragment,null,i.default.createElement(v.LabelUI,null,i.default.createElement(d.LabelTextUI,null,b)),i.default.createElement(a.default,E({autoSetComboboxAt:15,items:A?[].concat(j,O(g)):g,onSelect:function(e){U(e.value?e:null),_(e.value)},toggler:n&&i.default.createElement(x,{disabled:o,isEmpty:!(null!=A&&A.value),text:A?A.label:(0,p.createInputPlaceholder)(C)}),selection:I},y))):i.default.createElement(h.EditableFieldWrapperUI,null,i.default.createElement(l.default,{"data-cy":"CustomProperty.DropdownPropertyField.Disabled",disabled:!0,label:b,placeholder:(0,m.getPlaceholder)({canUpdate:!1,defaultPlaceholder:(0,p.createInputPlaceholder)(C),hasValue:null==A?void 0:A.label})})))}x.propTypes={isActive:u.default.bool,disabled:u.default.bool,onClick:u.default.func,text:u.default.string},S.propTypes={canUpdate:u.default.bool,disabled:u.default.bool,dropListProps:u.default.object,items:u.default.arrayOf(u.default.shape({label:u.default.string.isRequired,value:u.default.oneOfType([u.default.bool,u.default.string,u.default.number]).isRequired})).isRequired,label:u.default.string.isRequired,type:u.default.string.isRequired,onSelect:u.default.func.isRequired,value:u.default.oneOfType([u.default.bool,u.default.string,u.default.number]),isHighlighted:u.default.bool};var M=S;t.default=M},1687:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperUI=t.TriggerUI=t.TriggerContainerUI=t.LabelUI=void 0;var r,o=(r=n(7))&&r.__esModule?r:{default:r},a=n(9),l=n(279);var i=(0,o.default)("div").withConfig({displayName:"DropdownPropertyFieldcss__WrapperUI",componentId:"xbak8k-0"})(["margin-bottom:40px;&:hover{display:block;}.clear-value-item{color:",";}&.is-highlighted{box-shadow:0 0 0 10px white,0 0 0 12px #1292ee;label > span{color:",";}}"],(0,a.getColor)("red.500"),(0,a.getColor)("charcoal.600"));t.WrapperUI=i;var u=(0,o.default)("label").withConfig({displayName:"DropdownPropertyFieldcss__LabelUI",componentId:"xbak8k-1"})(["display:block;font-size:13px;line-height:18px;margin-bottom:5px;> span{font-size:11px;line-height:18px;}"]);t.LabelUI=u;var s=(0,o.default)("div").withConfig({displayName:"DropdownPropertyFieldcss__TriggerContainerUI",componentId:"xbak8k-2"})(["align-items:center;display:flex;width:100%;> div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}.c-Icon{width:20px;}"]);t.TriggerContainerUI=s;var c=(0,o.default)("button").withConfig({displayName:"DropdownPropertyFieldcss__TriggerUI",componentId:"xbak8k-3"})(["position:relative;display:inline-block;padding:0;background:transparent;border:0;border-bottom:1px solid transparent;color:",";font-size:14px;line-height:1.22em;margin-top:4px;pointer-events:all;width:100%;&:focus{border-bottom:1px dashed ",";}&:hover{border-bottom:1px dashed ",";}.is-disabled &{border-bottom-color:transparent;color:"," !important;pointer-events:none;user-select:none;}.is-placeholder &{border-bottom:1px dashed ",";color:"," !important;}.is-placeholder.is-disabled &{border-bottom-color:transparent;color:"," !important;}.is-placeholder &:focus,.is-placeholder &:hover{border-bottom:1px dashed ",";}&::after{bottom:-1px;box-sizing:border-box;content:'';display:block;left:0;position:absolute;height:2px;background-color:",";right:0;transform-origin:bottom left;transform:scaleX(0);transition:transform 0.3s ease;z-index:3;will-change:transform;}&.is-active::after{transform:scaleX(1);}"],(function(e){return e.isEmpty?(0,a.getColor)("charcoal.300"):(0,a.getColor)("charcoal.800")}),l.COLOURS.mask.focused,l.COLOURS.mask.border,l.COLOURS.mask.disabled,l.COLOURS.mask.placeholder.border.regular,l.COLOURS.mask.placeholder.regular,l.COLOURS.mask.placeholder.disabled,l.COLOURS.mask.placeholder.border.hover,l.COLOURS.focusIndicator.active);t.TriggerUI=c},1688:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.RowUI=t.ColumnUI=void 0;var r,o,a=i(n(28)),l=i(n(34));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=(0,l.default)("div")(r||(r=u(["\n  margin-top: 40px;\n\n  &.property-column {\n    width: 44%;\n  }\n"])));t.ColumnUI=s;var c=(0,l.default)(a.default)(o||(o=u(["\n  margin-top: 0;\n"])));t.RowUI=c},1689:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1690))&&r.__esModule?r:{default:r}).default;t.default=o},1690:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EmailField=void 0;var o,a=(o=n(295))&&o.__esModule?o:{default:o},l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=n(294),u=n(332),s=["autoFocusEmail","canUpdate","value"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,o=v(c);function c(){var e;p(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return O(b(e=o.call.apply(o,[this].concat(n))),"autoFocus",(function(){var t=e.props,n=t.autoFocusEmail,r=t.value;if(e.node&&n&&r&&r.length<1){var o=e.node.querySelector(".is-empty");o&&o.classList.add("is-active");var a=e.node.querySelector("input");a&&a.focus()}})),e}return t=c,(n=[{key:"componentDidMount",value:function(){setTimeout(this.autoFocus,350)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.autoFocusEmail,t.canUpdate),r=t.value,o=f(t,s),c={};r&&r.length>0&&(c.value=r);var p=(0,i.getPlaceholder)({canUpdate:n,defaultPlaceholder:"Add Email",hasValue:r&&r.length});return l.default.createElement(u.EditableFieldWrapperUI,null,l.default.createElement(a.default,d({"data-cy":"CustomerProfile.EmailField",disabled:!n,type:"email",name:"emails",label:"Email",multipleValues:!0,renderFieldsAsBlocks:!0,placeholder:p,maxlength:"255",innerRef:function(t){return e.node=t}},c,o)))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(l.Component);t.EmailField=w,O(w,"defaultProps",{canUpdate:!0,value:void 0});var P=w;t.default=P},1691:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1692))&&r.__esModule?r:{default:r}).default;t.default=o},1692:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.JobTitleField=void 0;var o=d(n(295)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=d(n(2)),i=n(294),u=n(332),s=["canUpdate","value"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,n,r,l=y(c);function c(){return m(this,c),l.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.canUpdate,n=e.value,r=p(e,s),l=(0,i.getPlaceholder)({canUpdate:t,defaultPlaceholder:"Add job title",hasValue:n});return a.default.createElement(u.EditableFieldWrapperUI,null,a.default.createElement(o.default,f({"data-cy":"CustomerProfile.JobTitleField",disabled:!t,value:n,name:"jobTitle",label:"Job Title",maxlength:"60",renderFieldsAsBlocks:!0,placeholder:l},r)))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(a.Component);t.JobTitleField=w,O(w,"propTypes",{canUpdate:l.default.bool,value:l.default.string}),O(w,"defaultProps",{canUpdate:!0,value:""});var P=w;t.default=P},1693:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1694))&&r.__esModule?r:{default:r}).default;t.default=o},1694:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NotesField=void 0;var o,a=(o=n(986))&&o.__esModule?o:{default:o},l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=n(224),u=n(294),s=n(332),c=n(1695),d=["canUpdate","customerId","value","validate"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){return(p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(f,e);var t,n,r,o=y(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=o.call(this,e)).state={value:""},t}return t=f,(n=[{key:"componentDidMount",value:function(){this.setState({value:this.props.value})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.customerId!==this.props.customerId&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.props,n=t.canUpdate,r=(t.customerId,t.value,t.validate,m(t,d)),o=this.state.value;return l.default.createElement(s.EditableFieldWrapperUI,null,n?l.default.createElement(a.default,p({"data-cy":"CustomerProfile.NotesField",type:"text",id:"notes",label:"Notes",maxRows:5,renderFieldsAsBlocks:!0,placeholder:"Add notes",value:o,validate:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=r[0].value;return e.setState({value:a}),(t=e.props).validate.apply(t,r)}},r)):l.default.createElement(l.default.Fragment,null,l.default.createElement(i.LabelTextUI,null,"Notes"),l.default.createElement(c.TextUI,{size:"14"},o||(0,u.getPlaceholder)({canUpdate:!1,hasValue:!1}))))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(l.Component);t.NotesField=O,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(O,"defaultProps",{canUpdate:!0,value:""});var w=O;t.default=w},1695:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TextUI=void 0;var r,o=a(n(25));function a(e){return e&&e.__esModule?e:{default:e}}var l,i,u=(0,a(n(34)).default)(o.default)(r||(l=["\n  line-height: 25px;\n"],i||(i=l.slice(0)),r=Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(i)}}))));t.TextUI=u},1696:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1697))&&r.__esModule?r:{default:r}).default;t.default=o},1697:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PhoneField=void 0;var o,a=(o=n(295))&&o.__esModule?o:{default:o},l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=n(294),u=n(332),s=["canUpdate","phones","value"];function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=["home","work","other"],w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,o=v(c);function c(){return p(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.canUpdate,n=e.phones,r=void 0===n?[]:n,o=e.value,c=f(e,s),p={};if(o&&o.length>0){var m=o.map((function(e){return"string"==typeof e?e:e.location?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){g(e,t,n[t])}))}return e}({},e,{option:e.location}):e}));p.value=m}var h=r.length?r.map((function(e){return e.label.toLowerCase()})):O,v=(0,i.getPlaceholder)({canUpdate:t,defaultPlaceholder:"Add phone",hasValue:o&&o.length});return l.default.createElement(u.EditableFieldWrapperUI,null,l.default.createElement(a.default,d({"data-cy":"CustomerProfile.PhoneField",disabled:!t,type:"tel",name:"phones",label:"Phone",multipleValues:!0,renderFieldsAsBlocks:!0,placeholder:v,valueOptions:h,defaultOption:h[0]},p,c)))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(l.Component);t.PhoneField=w,g(w,"defaultProps",{canUpdate:!0,phones:[],value:void 0});var P=w;t.default=P},1698:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadingBody",{enumerable:!0,get:function(){return o.LoadingBody}}),Object.defineProperty(t,"LoadingHeader",{enumerable:!0,get:function(){return o.LoadingHeader}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=l?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}o.default=e,n&&n.set(e,o);return o}(n(1699));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var l=o.default;t.default=l},1699:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Loading=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),a=n(1571),l=c(n(984)),i=n(972),u=n(739),s=c(n(985));function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,n,r,l=v(i);function i(){return p(this,i),l.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return o.default.createElement(a.LoadingUI,{"data-testid":"CustomerProfileLoading","data-cy":"CustomerProfile.Loading"},o.default.createElement(u.HeaderUI,null,o.default.createElement(i.Header,f({"data-cy":"CustomerProfile.Loading.Header"},this.props))),o.default.createElement(s.default,null),o.default.createElement(u.TabContentUI,null,o.default.createElement(i.Body,f({"data-cy":"CustomerProfile.Loading.Body"},this.props))))}}])&&m(t.prototype,n),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.PureComponent);t.Loading=O,g(O,"Header",(function(){return o.default.createElement(l.default.Skeleton,null)})),g(O,"Body",(function(e){return o.default.createElement(i.EditProfileTabSkeleton,e)}));var w=O;t.default=w},1700:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1701))&&r.__esModule?r:{default:r}).default;t.default=o},1701:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(25)),o=s(n(62)),a=s(n(125)),l=s(n(0)),i=s(n(2)),u=n(1702);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){return e||"another customer profile"}function p(e){var t=e.addEmailWithoutMerge,n=e.mergeModalErrorMsg,i=e.cancelMergeModal,s=e.discardProfile,d=e.discardProperties,p=e.keeperProfile,m=e.mergeProfiles;return d.length?l.default.createElement(u.ConflictModalUI,{icon:"alert",version:2,title:"Merge Profiles",isOpen:!0},l.default.createElement(o.default.Body,{version:2},n&&l.default.createElement(a.default,{status:"error"},n),l.default.createElement(r.default,{className:"merge-text",size:"14",block:!0},"You are about to merge"," ",l.default.createElement(r.default,{weight:"700"},s.email)," with"," ",l.default.createElement("a",{href:"/customers/".concat(p.id)},f(p.name)),". The following values already exist in the new profile and won't be transferred:",l.default.createElement("table",null,l.default.createElement("tbody",null,d.map((function(e,t){var n=c(e,2),r=n[0],o=n[1];return l.default.createElement("tr",{key:t},l.default.createElement("th",null,l.default.createElement("span",null,r)),l.default.createElement("td",null,l.default.createElement("span",null,o)))})))))),l.default.createElement(o.default.ActionFooter,{onCancel:i,onPrimaryClick:m,onSecondaryClick:t,primaryButtonText:"Merge Profiles",secondaryButtonText:"Continue Without Merging"})):l.default.createElement(u.NoConflictModalUI,{version:2,title:"Merge Profiles",isOpen:!0},l.default.createElement(o.default.Body,{version:2},n&&l.default.createElement(a.default,{status:"error"},n),l.default.createElement(r.default,{size:14,weight:"700"},s.email)," ","belongs to"," ",l.default.createElement("a",{href:"/customers/".concat(s.id)},f(s.name)),". Would you like to merge these two profiles?"),l.default.createElement(o.default.ActionFooter,{onCancel:i,onPrimaryClick:m,onSecondaryClick:t,primaryButtonText:"Merge Profiles",secondaryButtonText:"Continue Without Merging"}))}p.propTypes={addEmailWithoutMerge:i.default.func,cancelMergeModal:i.default.func,discardProfile:i.default.object,discardProperties:i.default.array,keeperProfile:i.default.object,mergeProfiles:i.default.func};var m=p;t.default=m},1702:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.NoConflictModalUI=t.ConflictModalUI=void 0;var r,o,a=u(n(62)),l=u(n(34)),i=n(9);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var c=(0,l.default)(a.default)(r||(r=s(["\n  .c-ModalBody__scrollableContent {\n    // Because we need to add 50px of padding below the final property,\n    // this override prevents us from having 100px of white space\n    // between the final property and the action bar when the content\n    // of the modal does not require scrolling.\n    padding-bottom: 0 !important;\n  }\n  .c-Icon {\n    color: red;\n  }\n  .c-Text {\n    color: ",";\n  }\n\n  .merge-text {\n    // This padding is necessary because if the content is long\n    // enough to require scrolling, the default padding of 50px\n    // that gives breathing room in a non-scrollable modal does\n    // not apply, and the final property ends up pressed against\n    // the action bar.\n    padding-bottom: 50px;\n  }\n\n  table {\n    margin-top: 20px;\n  }\n\n  th,\n  td {\n    vertical-align: top;\n  }\n\n  th {\n    text-align: left;\n    max-width: 240px;\n    color: ",";\n    font-weight: 500;\n    word-wrap: break-word;\n  }\n\n  td {\n    color: ",";\n    padding-left: 20px;\n  }\n\n  tr {\n    line-height: 1.5;\n    &:not(:last-of-type) {\n      td,\n      th {\n        padding-bottom: 18px;\n      }\n    }\n  }\n"])),(0,i.getColor)("charcoal.600"),(0,i.getColor)("charcoal.800"),(0,i.getColor)("charcoal.300"));t.ConflictModalUI=c;var d=(0,l.default)(a.default)(o||(o=s(["\n  .c-Modal__innerWrapper {\n    min-height: 0;\n  }\n  .c-ModalBody__scrollable {\n    font-size: 14px;\n  }\n  .c-ModalBody__scrollableContent.c-ScrollableNode.c-Scrollable__content {\n    padding: 60px 115px 60px;\n  }\n"])));t.NoConflictModalUI=d},1703:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ui:{drawer:"#js-app-layout__drawer",drawerToggle:"#js-app-layout__drawer-toggle"},events:{"click @ui.drawerToggle":"toggleDrawer"},initialize:function(){this.bindDrawerEvents()},onRender:function(){this.closeDrawer()},onClose:function(){this.unbindDrawerEvents()},bindDrawerEvents:function(){$(window).on("resize."+this.cid,this.closeDrawer.bind(this)),$("body").on("click."+this.cid,this.onBodyClick.bind(this))},onBodyClick:function(e){$(e.target).closest("#js-app-layout__drawer").length||this.closeDrawer()},unbindDrawerEvents:function(){$(window).off("resize."+this.cid),$("body").off("click."+this.cid)},closeDrawer:function(){this.ui.drawer.removeClass("is-active"),this.ui.drawerToggle.removeClass("is-active")},toggleDrawer:function(e){this.ui.drawer.toggleClass("is-active"),this.ui.drawerToggle.toggleClass("is-active"),e.stopPropagation()}};t.default=n},1713:function(e,t,n){(function(e,r,o){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(n(5)),l=d(n(1714)),i=d(n(1715)),u=d(n(345)),s=d(n(474)),c=d(n(754));function d(e){return e&&e.__esModule?e:{default:e}}var f=e.CompositeView.extend({itemView:i.default,template:l.default,itemViewContainer:"tbody",itemViewOptions:function(){return{hideCustomerCol:this.hideCustomerCol,isWaitingSinceEnabled:this.isWaitingSinceEnabled}},ui:{convosList:"#convosList"},regions:{},initialize:function(e){var t=e.isWaitingSinceEnabled,n=e.hideCustomerCol;Object.assign(this,{isWaitingSinceEnabled:t,hideCustomerCol:n}),this.listenTo(this.collection,"paginate",this.paginate),this.previewModel=this.options.previewModel},behaviors:{ListPreview:{behaviorClass:c.default,showPreview:function(){this.view.paginatorView&&this.view.paginatorView.unbindKeyboard(),this.bindKeyboard();var e=this.previewModel,t=this.hasNext(e.listModel),n=this.hasPrev(e.listModel),o=r.extend({},this.view.options.previewOptions,{model:e,hasNext:t,hasPrev:n});this.previewView=new s.default(o),this.listenTo(this.previewView,"back",(function(){this.view.paginatorView&&this.view.paginatorView.bindKeyboard(),this.unbindKeyboard(),this.view.regions.preview.close(),this.view.ui.convosList.show()})),this.listenTo(this.previewView,"next",this.next),this.listenTo(this.previewView,"prev",this.prev),this.view.regions.preview.show(this.previewView)}}},onRender:function(){var t=new e.Region({el:this.$("#preview")});this.listenTo(t,"show",(function(){this.ui.convosList.hide()})),this.listenTo(t,"hide",(function(){this.ui.convosList.show()})),this.regions={paginate:new e.Region({el:this.$(".paginateRegion")}),preview:t},this.collection.paginate()},onShow:function(){this.options.titleHtml&&a.default.Utils.Main.initPopovers(this.$("[rel=popover]")),this.previewModel&&(this.triggerMethod("showPreview",this.previewModel),this.previewModel=void 0)},onClose:function(){r.each(this.regions,(function(e){e.close()}))},serializeData:function(){return r.extend({count:this.collection.totalRecords,title:this.options.title||"Conversations",titleHtml:this.options.titleHtml,hideCustomerCol:this.hideCustomerCol,isWaitingSinceEnabled:this.isWaitingSinceEnabled})},paginate:function(e){var t=new o.Model(e);this.paginatorView=new u.default({model:t,tableMode:!0,label:"matching conversations",colspan:this.hideCustomerCol?7:8}),this.listenTo(this.paginatorView,"go-page",(function(e){a.default.Utils.Main.abort(this.paginatePromise),this.paginatePromise=this.collection.goTo(e)})),this.regions.paginate.show(this.paginatorView)}});t.default=f}).call(this,n(6),n(1),n(11))},1714:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a="function"==typeof(l=null!=(l=i(n,"title")||(null!=t?i(t,"title"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:3,column:51},end:{line:3,column:62}}}):l)?a:""},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(a=null!=(a=l(n,"title")||(null!=t?l(t,"title"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:o,loc:{start:{line:3,column:70},end:{line:3,column:79}}}):a)},5:function(e,t,n,r,o){return'                <col class="customer">\n'},7:function(e,t,n,r,o){return'                    <th class="convoType"></th>\n'},9:function(e,t,n,r,o){return'                    <th class="customer" colspan="2">\n                        Customer\n                    </th>\n'},11:function(e,t,n,r,o){return'                    <th class="waitingSince">\n                        Waiting/Closed\n                    </th>\n'},13:function(e,t,n,r,o){return'                    <th class="lastUpd">\n                        Last Updated\n                    </th>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="javascript:void(0);" class="close" data-dismiss="modal" title="Close"><i class="icon-circle-close"></i></a>\n<div id="convosList">\n    <div class="modal-header"><h5>'+(null!=(a=i(n,"if").call(l,null!=t?i(t,"titleHtml"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:3,column:34},end:{line:3,column:86}}}))?a:"")+'</h5></div>\n    <div class="modal-body">\n        <table id="tblTickets" class="table-bordered drilldown">\n            <colgroup>\n                <col class="convoType">\n'+(null!=(a=i(n,"unless").call(l,null!=t?i(t,"hideCustomerCol"):t,{name:"unless",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:16},end:{line:10,column:27}}}))?a:"")+'                <col class="attachment">\n                <col class="subj">\n                <col class="threadCount">\n                <col class="owner">\n                <col class="convoNum">\n                <col class="waitingSince">\n            </colgroup>\n            <thead id="tblHead">\n            <tr>\n'+(null!=(a=i(n,"if").call(l,null!=t?i(t,"hideCustomerCol"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:20,column:16},end:{line:26,column:23}}}))?a:"")+'\n                <th class="attachment">&nbsp;</th>\n                <th class="subj" colspan="2">\n                    Conversation\n                </th>\n                <th class="owner">\n                    Assigned To\n                </th>\n                <th class="convoNum">\n                    Number\n                </th>\n'+(null!=(a=i(n,"if").call(l,null!=t?i(t,"isWaitingSinceEnabled"):t,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:38,column:16},end:{line:46,column:23}}}))?a:"")+'            </tr>\n            </thead>\n            <tbody>\n            </tbody>\n            <tfoot id="tblFoot" class="paginateRegion"></tfoot>\n        </table>\n    </div>\n</div>\n<div id="preview">\n</div>\n'},useData:!0})},1715:function(e,t,n){(function(t,r,o){window;var a=u(n(1716)),l=u(n(624)),i=u(n(1574));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.ItemView.extend({template:a.default,tagName:"tr",ui:{waitingSince:".js-waiting-or-updated"},events:{"click a":"linkClick"},initialize:function(e){r.extend(this,r.pick(e,"users","hideCustomerCol","isWaitingSinceEnabled")),this.listenTo(this,"waiting-since-clicked",this.linkClick)},serializeData:function(){return r.extend(this.model.toJSON(),{hideCustomerCol:this.hideCustomerCol,isWaitingSinceEnabled:this.isWaitingSinceEnabled,isClosed:"closed"===this.model.get("status"),dataBypass:!0})},onRender:function(){this.$el.removeClass("active pending closed spam"),this.$el.addClass((0,l.default)(this.model.get("status")))},linkClick:function(e){e.ctrlKey||e.metaKey||(this.trigger("preview"),e.preventDefault())}});o.mixin(s,i.default),e.exports=s}).call(this,n(6),n(1),n(70))},1716:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'    <i class="icon-chat tx-xl js-chat"></i>\n'},3:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=t?u(t,"type"):t,"==","phone",{name:"ifCond",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l,loc:{start:{line:5,column:8},end:{line:9,column:19}}}))?i:""},4:function(e,t,n,r,o){return'            <i class="icon-phone-sm js-phone"></i>\n'},6:function(e,t,n,r,o){return'            <i class="icon-email-sm js-email"></i>\n'},8:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <td class="customer js-customer">\n        <a data-bypass="true" href="'+l(a(null!=t?i(t,"url"):t,t))+'" target="_blank" title="View conversation">'+l(a(null!=t?i(t,"customerName"):t,t))+"</a>\n    </td>\n"},10:function(e,t,n,r,o){return'<i class="icon-attach-sm js-attachments"></i>'},compiler:[8,">= 4.3.0"],main:function(e,t,r,a,l){var i,u=e.lambda,s=e.escapeExpression,c=null!=t?t:e.nullContext||{},d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<td class="convoType"><a data-bypass="true" href="'+s(u(null!=t?d(t,"url"):t,t))+'" target="_blank" title="View conversation">\n'+(null!=(i=o(n(10)).call(c,null!=t?d(t,"type"):t,"==","chat",{name:"ifCond",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l,loc:{start:{line:2,column:4},end:{line:10,column:15}}}))?i:"")+"</a></td>\n"+(null!=(i=d(r,"unless").call(c,null!=t?d(t,"hideCustomerCol"):t,{name:"unless",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l,loc:{start:{line:12,column:0},end:{line:16,column:11}}}))?i:"")+'<td class="attachment">'+(null!=(i=d(r,"if").call(c,null!=t?d(t,"attachments"):t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l,loc:{start:{line:17,column:23},end:{line:17,column:94}}}))?i:"")+'</td>\n<td class="subj js-subject">\n    <a data-bypass="true" href="'+s(u(null!=t?d(t,"url"):t,t))+'" target="_blank" title="View conversation">\n        <span class="previewFade"></span>\n        <p>'+s(o(n(1563)).call(c,null!=t?d(t,"subject"):t,null!=t?d(t,"tags"):t,{name:"tagsSubject",hash:{},data:l,loc:{start:{line:21,column:11},end:{line:21,column:39}}}))+'</p>\n        <p class="preview js-preview">'+s(u(null!=t?d(t,"preview"):t,t))+'</p>\n    </a>\n</td>\n<td class="threadCount js-threads">\n    <a data-bypass="true" href="'+s(u(null!=t?d(t,"url"):t,t))+'" target="_blank" title="View conversation"><span class="threads">'+s(u(null!=t?d(t,"threadCount"):t,t))+'</span></a>\n</td>\n<td class="owner js-owner">\n    <a data-bypass="true" href="'+s(u(null!=t?d(t,"url"):t,t))+'" target="_blank" title="View conversation">'+s(u(null!=t?d(t,"assignedName"):t,t))+'</a>\n</td>\n<td class="convoNum js-number">\n    <a data-bypass="true" href="'+s(u(null!=t?d(t,"url"):t,t))+'" target="_blank" title="View conversation">'+s(u(null!=t?d(t,"number"):t,t))+"</a>\n</td>\n"+(null!=(i=e.invokePartial(n(1573),t,{name:"partials/convoUpdatedOrWaiting",data:l,helpers:r,partials:a,decorators:e.decorators}))?i:"")},usePartial:!0,useData:!0})},1717:function(e,t,n){(function(r,o){window;Object.defineProperty(t,"__esModule",{value:!0}),t.STATUS_SPAM=t.STATUS_PENDING=t.STATUS_CLOSED=t.STATUS_ACTIVE=void 0;var a,l=(a=n(5))&&a.__esModule?a:{default:a};var i={email:1,chat:2,phone:3};t.STATUS_ACTIVE="active";t.STATUS_CLOSED="closed";t.STATUS_PENDING="pending";t.STATUS_SPAM="spam",e.exports=o.Model.extend({initialize:function(e,t){r.extend(this,r.pick(t,"isWaitingSinceEnabled","hideCustomerCol","staticData","url"))},getStatusClass:function(){switch(this.get("status")){case"pending":return"pending";case"closed":case"spam":return"closed";default:return"active"}},hasTags:function(){var e=this.get("tags");return e&&e.length>0},getCustomerName:function(){var e=this.get("customer")||{},t=e.fullName;return t&&"99 99"!=t||(t=e.email),l.default.Utils.Main.replaceCurlyBraces(t)},parse:function(e){var t=function(e){if(0==e.assignedid)return"";var t=e.assigned||e.assignedName;if("string"==typeof t)return t;return""}(e=r.clone(e)),n=function(e){return i.hasOwnProperty(e)?e:(e=parseInt(e,10),r.invert(i)[e]||"email")}(e.type),o="/conversation/".concat(e.id,"/").concat(e.number),a=function(e){if("string"==typeof e)return e;switch(e){case l.default.Constants.Status.ACTIVE:return"active";case l.default.Constants.Status.CLOSED:return"closed";case l.default.Constants.Status.PENDING:return"pending";case l.default.Constants.Status.SPAM:return"spam"}return"active"}(e.status),u=e.attachments;return"true"===u&&(u=!0),"false"===u&&(u=!1),void 0!==e.attachmentCount&&(e.attachments=e.attachmentCount>0,delete e.attachmentCount),"string"==typeof e.modifiedAt&&(e.modifiedAt=new Date(e.modifiedAt).getTime()),"string"==typeof e.waitingSince&&(e.waitingSince=new Date(e.waitingSince).getTime()),delete e.assigned,r.extend(e,{assignedName:t,type:n,url:o,status:a,attachments:u})}})}).call(this,n(1),n(11))},203:function(e,t,n){window;
/*!
 * accounting.js v0.3.2
 * Copyright 2011, Joss Crowcroft
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://josscrowcroft.github.com/accounting.js/
 * http://josscrowcroft.github.io/accounting.js/
 */
!function(n,r){var o={version:"0.3.2",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},a=Array.prototype.map,l=Array.isArray,i=Object.prototype.toString;function u(e){return!!(""===e||e&&e.charCodeAt&&e.substr)}function s(e){return l?l(e):"[object Array]"===i.call(e)}function c(e){return e&&"[object Object]"===i.call(e)}function d(e,t){var n;for(n in e=e||{},t=t||{})t.hasOwnProperty(n)&&null==e[n]&&(e[n]=t[n]);return e}function f(e,t,n){var r,o,l=[];if(!e)return l;if(a&&e.map===a)return e.map(t,n);for(r=0,o=e.length;r<o;r++)l[r]=t.call(n,e[r],r,e);return l}function p(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function m(e){var t=o.settings.currency.format;return"function"==typeof e&&(e=e()),u(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e&&e.pos&&e.pos.match("%v")?e:u(t)?o.settings.currency.format={pos:t,neg:t.replace("%v","-%v"),zero:t}:t}var h=o.unformat=o.parse=function(e,t){if(s(e))return f(e,(function(e){return h(e,t)}));if("number"==typeof(e=e||0))return e;t=t||o.settings.number.decimal;var n=new RegExp("[^0-9-"+t+"]",["g"]),r=parseFloat((""+e).replace(/\((.*)\)/,"-$1").replace(n,"").replace(t,"."));return isNaN(r)?0:r},v=o.toFixed=function(e,t){t=p(t,o.settings.number.precision);var n=Math.pow(10,t);return(Math.round(o.unformat(e)*n)/n).toFixed(t)},y=o.formatNumber=function(e,t,n,r){if(s(e))return f(e,(function(e){return y(e,t,n,r)}));e=h(e);var a=d(c(t)?t:{precision:t,thousand:n,decimal:r},o.settings.number),l=p(a.precision),i=e<0?"-":"",u=parseInt(v(Math.abs(e||0),l),10)+"",m=u.length>3?u.length%3:0;return i+(m?u.substr(0,m)+a.thousand:"")+u.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+a.thousand)+(l?a.decimal+v(Math.abs(e),l).split(".")[1]:"")},b=o.formatMoney=function(e,t,n,r,a,l){if(s(e))return f(e,(function(e){return b(e,t,n,r,a,l)}));e=h(e);var i=d(c(t)?t:{symbol:t,precision:n,thousand:r,decimal:a,format:l},o.settings.currency),u=m(i.format);return(e>0?u.pos:e<0?u.neg:u.zero).replace("%s",i.symbol).replace("%v",y(Math.abs(e),p(i.precision),i.thousand,i.decimal))};o.formatColumn=function(e,t,n,r,a,l){if(!e)return[];var i=d(c(t)?t:{symbol:t,precision:n,thousand:r,decimal:a,format:l},o.settings.currency),v=m(i.format),b=v.pos.indexOf("%s")<v.pos.indexOf("%v"),g=0,O=f(e,(function(e,t){if(s(e))return o.formatColumn(e,i);var n=((e=h(e))>0?v.pos:e<0?v.neg:v.zero).replace("%s",i.symbol).replace("%v",y(Math.abs(e),p(i.precision),i.thousand,i.decimal));return n.length>g&&(g=n.length),n}));return f(O,(function(e,t){return u(e)&&e.length<g?b?e.replace(i.symbol,i.symbol+new Array(g-e.length+1).join(" ")):new Array(g-e.length+1).join(" ")+e:e}))},e.exports&&(t=e.exports=o),t.accounting=o}()},24:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(18)),o=a(n(203));function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return t||(t=0),o.default.formatNumber(e,t)}r.default.registerHelper("formatNumber",l);var i=l;t.default=i},243:function(e,t,n){(function(e){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(18))&&r.__esModule?r:{default:r};function a(t,n){var r=[];return r=e.isArray(t)?e.map(t,(function(e){if("string"==typeof e)return l(e,e,n);var t=void 0===e.value?e.id:e.value;return l(e.name||e.title,t,n)})):e.map(t,(function(e,t){return l(e,t,n)})),new o.default.SafeString(r.join(""))}function l(e,t,n){var r="";return void 0!==n&&n==t&&(r='selected="selected"'),'<option value="'+t+'" '+r+">"+o.default.Utils.escapeExpression(e)+"</option>"}o.default.registerHelper("options",a);var i=a;t.default=i}).call(this,n(1))},249:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(72);t.createApiClient=function(){return(0,r.hsApiClient)("")}},278:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(373))&&r.__esModule?r:{default:r}).default;t.default=o},294:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getPlaceholder=void 0;t.getPlaceholder=function(e){var t=e.canUpdate,n=e.defaultPlaceholder,r=e.value;return t||r&&(!Array.isArray(r)||0!==r.length)?n:""}},312:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TYPE_INTEGRATION_ADD_ON:1,TYPE_WORKFLOWS_ADD_ON:2,TYPE_COLLABORATION_ADD_ON:3,TYPE_PREMIUM_APPS_ADD_ON:4,TYPE_SECURITY_ADD_ON:5,TYPE_UNLIMITED_MAILBOXES:6,TYPE_MESSAGES_ADD_ON:7,TYPE_LEGACY_BEACON_CHAT:8,TYPE_LEGACY_BEACON_MESSAGES:9,TYPE_HIPAA:10,TYPE_ADVANCED_API:11,TYPE_INCREASED_API_LIMIT:12,TYPE_LIGHT_USER:13,PRICE_TYPE_PER_USER:1,PRICE_TYPE_PER_MONTH:2}},332:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.SpacerUI=t.FlexyTopUI=t.FieldRowUI=t.FieldColumnUI=t.EditableFieldWrapperUI=t.EditProfileTabUI=void 0;var r,o,a,l,i,u,s=f(n(28)),c=f(n(34)),d=n(9);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=(0,c.default)(s.default.Block)(r||(r=p(["\n  flex: 1 1 100%;\n"])));t.FieldColumnUI=m;var h=(0,c.default)(s.default)(o||(o=p(["\n  margin-top: 40px;\n"])));t.FieldRowUI=h;var v=(0,c.default)(s.default)(a||(a=p(['\n  position: relative;\n  /* If custom properties are enabled, the "masks" of Editable Fields have a z index of 2\n    causing trouble with dropdowns being behinf those.\n   */\n  z-index: 3;\n'])));t.FlexyTopUI=v;var y=(0,c.default)("div")(l||(l=p(["\n  width: 100%;\n\n  &:last-child .c-EditableField,\n  .c-EditableTextarea {\n    margin-bottom: 0;\n  }\n\n  .field-disabled:last-of-type .FieldMask__value,\n  .field-disabled .FieldMask__value .is-placeholder,\n  .field-disabled .FieldMask__option {\n    color: ",";\n  }\n\n  .field-disabled .is-readonly:not(.with-placeholder):hover {\n    border-bottom-color: transparent;\n  }\n"])),(0,d.getColor)("charcoal.800"));t.EditableFieldWrapperUI=y;var b=(0,c.default)(s.default.Item)(i||(i=p(["\n  flex: 0 0 5%;\n\n  @media (min-width: 992px) {\n    flex: 0 0 10%;\n  }\n"])));t.SpacerUI=b;var g=(0,c.default)("div")(u||(u=p(["\n  &.is-hidden {\n    display: none;\n  }\n\n  .EditableField__input {\n    border-radius: 0;\n    display: block;\n    margin-bottom: 0;\n    vertical-align: baseline;\n    border: none;\n\n    color: transparent;\n    line-height: normal;\n    margin-bottom: 0;\n    padding: 0;\n\n    font-size: 14px;\n    background: white;\n    height: 25px;\n    line-height: 25px;\n    transition: none;\n\n    &:focus {\n      border: none;\n      outline: 0;\n    }\n  }\n  .EditableField__addButton {\n    color: ",";\n    background-color: #f6f7f8;\n  }\n\n  .is-active .EditableField__input {\n    color: ",";\n  }\n"])),(0,d.getColor)("grey.800"),(0,d.getColor)("charcoal.600"));t.EditProfileTabUI=g},333:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"customerProfile",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"customerProfileApi",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"customerProfileApiConversationsAccess",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"customerProfileApiDelete",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"customers",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"customersApi",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"defaultAvatarUrl",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"features",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"mailboxes",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"permissions",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"selects",{enumerable:!0,get:function(){return p.default}});var r=m(n(1580)),o=m(n(1581)),a=m(n(1570)),l=m(n(1582)),i=m(n(1583)),u=m(n(1584)),s=m(n(1585)),c=m(n(1586)),d=m(n(1587)),f=m(n(734)),p=m(n(1567));function m(e){return e&&e.__esModule?e:{default:e}}},343:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(551))&&r.__esModule?r:{default:r}).default;t.default=o},344:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.UneditableEntryUI=t.InputUI=t.IconContainerUI=t.IconButtonUI=t.FlexyItemUI=t.EnumeratedUI=t.DragHandleUI=t.ActionTableEntryUI=void 0;var r=s(n(251)),o=s(n(66)),a=s(n(167)),l=s(n(28)),i=s(n(7)),u=n(9);function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)(r.default.DragHandle).withConfig({displayName:"ActionTableEntrycss__DragHandleUI",componentId:"sc-10pnq8f-0"})(["color:"," !important;cursor:move;margin-top:1px;"],(0,u.getColor)("charcoal.500"));t.DragHandleUI=c;var d=(0,i.default)("div").withConfig({displayName:"ActionTableEntrycss__ActionTableEntryUI",componentId:"sc-10pnq8f-1"})(["background-color:white;padding:5px 0;cursor:move;&.is-active,&.is-striked-through{background-color:",";}&.is-large{padding:10px;border-bottom:1px solid ",";}.is-sorting-item &{border:1px solid ",";margin-left:-1px;margin-right:-1px;}.c-InputBackdropV2.is-disabled{background-color:transparent !important;}"],(0,u.getColor)("grey.200"),(0,u.getColor)("grey.500"),(0,u.getColor)("grey.500"));t.ActionTableEntryUI=d;var f=(0,i.default)("div").withConfig({displayName:"ActionTableEntrycss__EnumeratedUI",componentId:"sc-10pnq8f-2"})(["color:",";display:inline-block;height:24px;line-height:24px;text-align:center;transition:color 150ms ease-in-out;width:24px;&.is-striked-through{color:",";}"],(0,u.getColor)("charcoal.500"),(0,u.getColor)("charcoal.200"));t.EnumeratedUI=f;var p=(0,i.default)(l.default.Item).withConfig({displayName:"ActionTableEntrycss__FlexyItemUI",componentId:"sc-10pnq8f-3"})(["align-items:center;display:flex;justify-content:center;padding:0;width:50px;"]);t.FlexyItemUI=p;var m=(0,i.default)(a.default).withConfig({displayName:"ActionTableEntrycss__IconButtonUI",componentId:"sc-10pnq8f-4"})(["color:"," !important;&.is-restorable{color:"," !important;}&:focus,&:hover{background-color:transparent !important;color:"," !important;&.is-restorable{color:"," !important;}}&.is-not-deletable,&.is-not-restorable{opacity:0;}&.isLight{color:"," !important;&:hover{color:"," !important;}}"],(0,u.getColor)("charcoal.300"),(0,u.getColor)("charcoal.200"),(0,u.getColor)("red.500"),(0,u.getColor)("charcoal.500"),(0,u.getColor)("charcoal.400"),(0,u.getColor)("charcoal.600"));t.IconButtonUI=m;var h=(0,i.default)(o.default).withConfig({displayName:"ActionTableEntrycss__InputUI",componentId:"sc-10pnq8f-5"})(["transition:padding 150ms ease-in-out;&.is-striked-through{color:",";text-decoration:line-through;}"],(0,u.getColor)("charcoal.200"));t.InputUI=h;var v=(0,i.default)("div").withConfig({displayName:"ActionTableEntrycss__UneditableEntryUI",componentId:"sc-10pnq8f-6"})(["&&{color:",";width:100%;height:35px;line-height:35px;cursor:move;&:hover{color:",";text-decoration:none;}}& > div{width:100%;text-align:left;}&.is-striked-through{color:",";text-decoration:line-through;&:hover{color:",";text-decoration:line-through;}}"],(0,u.getColor)("charcoal.500"),(0,u.getColor)("charcoal.500"),(0,u.getColor)("charcoal.200"),(0,u.getColor)("charcoal.200"));t.UneditableEntryUI=v;var y=(0,i.default)("span").withConfig({displayName:"ActionTableEntrycss__IconContainerUI",componentId:"sc-10pnq8f-7"})(["display:flex;flex-direction:column;"]);t.IconContainerUI=y},345:function(e,t,n){(function(e){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(8)),a=u(n(11)),l=u(n(560)),i=u(n(337));function u(e){return e&&e.__esModule?e:{default:e}}var s=e.ItemView.extend({template:l.default,tagName:function(){return this.options.tableMode?"tr":"section"},className:"pagination",events:{"click a.page":"goPage","click .first":"goFirst","click .prev":"goPrev","click .next":"goNext","click .last":"goLast"},model:new a.default.Model({defaults:{totalRecords:0,totalPages:0,currentPage:0}}),initialize:function(e){this.showPrevNext=!1,this.maxPages=!1,this.bindKeyboard(),"showPrevNext"in e&&(this.showPrevNext=e.showPrevNext),"maxPages"in e&&(this.maxPages=e.maxPages)},getCurrentPage:function(){return this.$(".active").data("page")},bindKeyboard:function(){var e=(0,i.default)();e&&(this.listenTo(e,"prev",this.goPrev),this.listenTo(e,"next",this.goNext))},unbindKeyboard:function(){var e=(0,i.default)();e&&(this.stopListening(e,"prev"),this.stopListening(e,"next"))},onRender:function(){this.model.get("totalPages")<=1&&!this.options.tableMode&&this.$el.hide()},serializeData:function(){for(var e=this.model.get("totalPages"),t=[],n=0;n<e;n++)t[n]={page:n+1,url:this.getUrl(n+1)};var o=this.model.get("currentPage");if(this.maxPages){var a=o-(this.maxPages+1)/2;a<0&&(a=0);var l=a+this.maxPages;l>e&&(a=Math.max(e-this.maxPages,0)),t=t.slice(a,l)}var i=!1,u=!1,s=!1,c=!1,d=0,f=0,p=this.getUrl(1),m=this.getUrl(e);(this.showPrevNext||this.options.tableMode)&&(o>1&&(i=!0,f=o-1,s=this.getUrl(f)),o<e&&(u=!0,d=o+1,c=this.getUrl(d)));var h=this.model.get("totalRecords"),v=this.model.get("resultsCount");if(h&&v){if(o==e)var y=h;else y=v*o;var b=y-v+1;y=Math.min(y,h),b=Math.max(b,1)}return r.default.extend(this.model.toJSON(),{pages:t,totalPages:e,baseUrl:this.options.baseUrl,showPrevNext:this.showPrevNext,hasPrev:i,hasNext:u,prevUrl:s,nextUrl:c,firstUrl:p,lastUrl:m,prevPage:f,nextPage:d,pageStart:b,pageEnd:y,minPagesToShowFirstLast:this.options.minPagesToShowFirstLast||20,tableMode:this.options.tableMode,singularLabel:this.options.singularLabel||this.options.label,pluralLabel:this.options.pluralLabel,colspan:this.options.colspan})},getUrl:function(e){return this.options.baseUrl?this.options.baseUrl+"/"+e:""},goPage:function(e){var t=(0,o.default)(e.target);if(t.attr("href")&&t.attr("href").length>2);else{e&&e.preventDefault();var n=t.data("page");this.trigger("go-page",n)}},goFirst:function(e){e&&e.preventDefault(),this.trigger("go-page",1)},goPrev:function(e){e&&e.preventDefault();var t=this.model.get("currentPage")-1;t>=1&&this.trigger("go-page",t)},goNext:function(e){e&&e.preventDefault();var t=this.model.get("currentPage")+1;t<=this.model.get("totalPages")&&this.trigger("go-page",t)},goLast:function(e){e&&e.preventDefault();var t=this.model.get("totalPages");this.trigger("go-page",t)}});t.default=s}).call(this,n(6))},346:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(379))&&r.__esModule?r:{default:r}).default;t.default=o},363:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0});var r=n(1637);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var o=n(1638);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n(1639);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var l=n(1640);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var i=n(1641);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var u=n(1642);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var s=n(1643);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var c=n(968);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},370:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ActionTable",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"ActionTableEntry",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BaseApp",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"EnableAddOnButton",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"EnableAddOnConfirmationModal",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"HelpLink",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"NotFound",{enumerable:!0,get:function(){return s.default}});var r=c(n(549)),o=c(n(343)),a=c(n(553)),l=c(n(371)),i=c(n(278)),u=c(n(346)),s=c(n(556));function c(e){return e&&e.__esModule?e:{default:e}}},371:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(372))&&r.__esModule?r:{default:r}).default;t.default=o},372:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EnableAddOnButton=void 0;var o=s(n(22)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=s(n(2)),i=s(n(278));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,l=m(u);function u(){var e;d(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=l.call.apply(l,[this].concat(n))),"state",{isModalOpen:!1}),b(v(e),"handleButtonClick",(function(){e.setState({isModalOpen:!0})})),b(v(e),"handleModalClose",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.successResponseData;e.state.isModalOpen&&e.setState({isModalOpen:!1}),n&&e.props.onEnableSuccess(n)})),e}return t=u,(n=[{key:"getButtonLabel",value:function(){return this.props.addOnTrialAllowed?this.props.freeTrialLabel:this.props.regularEnableLabel}},{key:"render",value:function(){return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.default,{size:this.props.size,theme:"blue",onClick:this.handleButtonClick,"data-cy":"add-on-enable-button"},this.getButtonLabel()),a.default.createElement(i.default,c({},this.props,{isModalOpen:this.state.isModalOpen,onModalClose:this.handleModalClose})))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a.PureComponent);t.EnableAddOnButton=g,b(g,"propTypes",{freeTrialLabel:l.default.string,regularEnableLabel:l.default.string,onEnableSuccess:l.default.func,addOnTrialAllowed:l.default.bool.isRequired,addOnTrialEndDate:l.default.string,addOnId:l.default.number.isRequired,addOnName:l.default.string.isRequired,addOnType:l.default.number.isRequired,addOnUnitQuantity:l.default.number.isRequired,cost:l.default.number.isRequired,priceType:l.default.number.isRequired,size:l.default.string}),b(g,"defaultProps",{freeTrialLabel:"Free Trial",regularEnableLabel:"Enable",size:"sm",onEnableSuccess:function(){}});var O=g;t.default=O},373:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EnableAddOnConfirmationModal=void 0;var o=m(n(62)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=m(n(2)),i=m(n(35)),u=m(n(312)),s=n(375),c=m(n(561)),d=m(n(562)),f=n(378);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(p,e);var t,n,r,l=b(p);function p(){var e;h(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(O(e=l.call.apply(l,[this].concat(n))),"state",{isEnabling:!1}),P(O(e),"handleEnableAddOnClick",(function(){e.setState({isEnabling:!0}),(0,s.createCommonApiClient)().enableAddOn(e.props.addOnId).then((function(t){HS.Utils.Main.success("".concat(e.getAddOnName()," Add-on successfully enabled")),e.props.onModalClose({successResponseData:t.data})})).catch((function(t){e.setState({isEnabling:!1}),403!==t.response.status?HS.Utils.Main.error("Could not enable ".concat(e.getAddOnName()," Add-On. Please try again later.")):HS.Utils.Main.error("It looks like you dont have access to perform that action. Try refreshing the page or asking an account owner for help.")}))})),e}return t=p,(n=[{key:"getIllustration",value:function(){var e,t="";switch(this.props.addOnType){case u.default.TYPE_SECURITY_ADD_ON:e=a.default.createElement(c.default,null),t="c-add-on-enable__illustration-security-add-on";break;case u.default.TYPE_MESSAGES_ADD_ON:e=a.default.createElement(d.default,null),t="c-add-on-enable__illustration-messages-add-on";break;default:return null}return a.default.createElement("div",{className:"c-add-on-enable__illustration ".concat(t)},e)}},{key:"getAddOnName",value:function(){var e=this.props,t=e.addOnName;return e.addOnType===u.default.TYPE_LIGHT_USER?"Light User":t}},{key:"getAddOnLabel",value:function(){var e=this.props,t=e.addOnName,n=e.addOnType,r=e.addOnUnitQuantity;return n===u.default.TYPE_LIGHT_USER?"".concat(r," light user licenses"):"the ".concat(t," Add-on")}},{key:"getModalMessage",value:function(){var e=this.props,t=e.cost,n=e.priceType,r=e.addOnTrialAllowed,o=e.addOnTrialEndDate,l=i.default.utc(o).format("MMMM D, YYYY");return r?a.default.createElement(a.default.Fragment,null,"Add ",this.getAddOnLabel()," to your account for"," ",a.default.createElement(f.NoWrapTextUI,null,this.getPrice(t,n)),". Your free trial will last until"," ",a.default.createElement(f.NoWrapTextUI,null,l),"."):a.default.createElement(a.default.Fragment,null,"Add ",this.getAddOnLabel()," to your account for"," ",a.default.createElement(f.NoWrapTextUI,null,this.getPrice(t,n)),".")}},{key:"getPrice",value:function(){switch(this.props.priceType){case u.default.PRICE_TYPE_PER_USER:return"$".concat(this.props.cost," per user per month");case u.default.PRICE_TYPE_PER_MONTH:return"$".concat(this.props.cost," per month")}}},{key:"render",value:function(){var e=this.props,t=e.isModalOpen,n=e.onModalClose,r=this.state.isEnabling;return a.default.createElement(f.ModalUI,{isOpen:t,"data-cy":"add-on-enable-modal",description:a.default.createElement(f.TextUI,{className:"c-add-on__enable-message","data-cy":"AddOnModal.Message"},this.getModalMessage()),kind:"alert",title:"Enable ".concat(this.getAddOnName()," Add-on?"),version:2,onClose:n},a.default.createElement(o.default.ActionFooter,{"data-cy":"EnableAddOnModal.Enable.Button",kind:"alert",primaryButtonDisabled:r,primaryButtonText:"Enable",primaryButtonProps:{"data-cy":"add-on-enable-confirm"},secondaryButtonText:"Cancel",secondaryButtonProps:{"data-cy":"add-on-enable-cancel"},showDefaultCancel:!1,onPrimaryClick:this.handleEnableAddOnClick,onSecondaryClick:n}))}}])&&v(t.prototype,n),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),p}(a.PureComponent);t.EnableAddOnConfirmationModal=_,P(_,"propTypes",{isModalOpen:l.default.bool.isRequired,addOnId:l.default.number.isRequired,addOnName:l.default.string.isRequired,addOnType:l.default.number.isRequired,cost:l.default.number.isRequired,priceType:l.default.number.isRequired,addOnTrialAllowed:l.default.bool.isRequired,addOnTrialEndDate:l.default.string,addOnUnitQuantity:l.default.number.isRequired,onModalClose:l.default.func}),P(_,"defaultProps",{isModalOpen:!1,onModalClose:function(){}});var E=_;t.default=E},375:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0});var r=n(376);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},376:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createCommonApiClient=void 0;var r=n(68),o=n(93);t.createCommonApiClient=function(){var e;return e=(0,r.isTestEnv)()?n(377).createApiClient((0,o.getApiClientTestingOptions)()):n(249).createApiClient(),(0,o.addLogging)(e),{enableAddOn:function(t){return e.post("/api/v0/members/add-ons/".concat(t))}}}},377:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.createApiClient=void 0;var r,o=(r=n(136))&&r.__esModule?r:{default:r},a=n(249);function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(0,n(93).urlParamsHelper)({":addOnId":"[0-9]+"}),s=function(e,t){e.onPost(u.getRegex("/api/v0/members/add-ons/:addOnId")).reply((function(e){var n=u.getValues("/api/v0/members/add-ons/:addOnId",e.url).addOnId;return 200==n?[400,[]]:300==n?[500,[]]:[201,{addOn:{id:n,name:"Advanced Security (SAML, IP Restrictions)",addOnType:5,cost:5,priceType:1},id:99,date:"2019-05-14",fullName:"Jane Smith",enabledBySumoAdmin:t.enabledBySumoAdmin||!1,addOnTrialAllowed:!1,addOnTrialEndDate:"2019-12-31"}]}))},c={delayResponse:300};t.defaultOptions=c;t.createApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},c,e),n=(0,a.createApiClient)(),r=new o.default(n,t);return s(r,t),n}},378:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TextUI=t.NoWrapTextUI=t.ModalUI=void 0;var r=l(n(25)),o=l(n(62)),a=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var i=(0,a.default)(o.default).withConfig({displayName:"EnableAddOnConfirmationModalcss__ModalUI",componentId:"sc-15k75i2-0"})([".c-Modal__innerWrapper.v2.is-alert{width:440px;max-width:440px;}"]);t.ModalUI=i;var u=(0,a.default)(r.default).withConfig({displayName:"EnableAddOnConfirmationModalcss__TextUI",componentId:"sc-15k75i2-1"})(["&&&{font-size:14px;}"]);t.TextUI=u;var s=(0,a.default)("span").withConfig({displayName:"EnableAddOnConfirmationModalcss__NoWrapTextUI",componentId:"sc-15k75i2-2"})(["white-space:nowrap;"]);t.NoWrapTextUI=s},379:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HelpLink=void 0;var r=l(n(0)),o=l(n(2)),a=l(n(380));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.articleId,n=e.articleLink,o=e.children;return r.default.createElement("a",{href:n,"data-beacon-article":t,onClick:a.default,rel:"noopener noreferrer",tabIndex:"-1",target:"_blank"},o)};t.HelpLink=i,i.propTypes={articleId:o.default.string.isRequired,articleLink:o.default.string.isRequired,children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node]).isRequired};var u=i;t.default=u},380:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){"function"==typeof Beacon&&e.preventDefault()};t.default=n},381:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.goTo404=t.default=void 0;var n=function(){return window.location.href="/404",null};t.goTo404=n;var r=n;t.default=r},473:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.getApiClient=void 0;var r=n(1590),o=n(139),a=n(68);t.getApiClient=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.client,l=e.config,i=e.isMock,u=void 0===i?(0,a.isTestEnv)():i,s=u?n(1591)("./".concat(t,"/api.").concat(t,".client.mock")).createApiClient:n(1626)("./".concat(t,"/api.").concat(t,".client")).createApiClient,c=s(),d=(0,r.getApiCacheOptions)(u,l);return d.ttl&&d.ttl>0?(0,o.addCachingToClient)(c,d):c}},549:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(550))&&r.__esModule?r:{default:r}).default;t.default=o},550:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var o=m(n(107)),a=m(n(251)),l=(m(n(27)),n(248)),i=m(n(2)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),s=m(n(521)),c=m(n(343)),d=n(344),f=n(552);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.onChange,n=void 0===t?function(){}:t,r=e.options,i=void 0===r?[]:r,p=e.optionsMarked,m=void 0===p?[]:p,b=e.isAddable,g=void 0!==b&&b,O=e.isDeletable,w=void 0!==O&&O,P=e.isEditable,_=void 0!==P&&P,E=e.limit,C=void 0===E?-1:E,j=((0,u.useContext)(l.GlobalContext)||{}).getCurrentScope,x=(0,u.useRef)(j?j():null),S=C>=0&&i.length>=C;function M(e,t){var r=i.map((function(n,r){return r===e?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){v(e,t,n[t])}))}return e}({},n,{label:t}):n}));n(r,m)}function k(e,t){if(!e||!m.includes(e)){if(t){var r=i.filter((function(t){return t.id!==e}));return n(r,m)}var o=[].concat(y(m),[e]);n(i,o)}}function I(e){if(m.includes(e)){var t=m.filter((function(t){return t!==e}));n(i,t)}}var T=u.default.createElement(f.ButtonUI,{size:"sm",theme:"green",outlined:!0,disabled:S,onClick:function(){var e=[].concat(y(i),[{id:(0,s.default)(),isNew:!0,label:""}]);n(e,m,{noValidateLast:!0})},prefixIcon:"plus-small"},"Add"),A=S?u.default.createElement(o.default,{placement:"top",title:"The limit of ".concat(C," option").concat(1!==C?"s":""," has been reached.")},T):T;return u.default.createElement(f.ActionTableUI,{className:"c-ActionTable","data-testid":"ActionTable"},u.default.createElement(a.default,{"data-testid":"ActionTable.Sortable",helperClass:"is-sorting-item",helperContainer:function(){return x.current?document.querySelector(".".concat(x.current)):document.body},lockAxis:"y",lockOffset:[1,-1],lockToContainerEdges:!0,onSortEnd:function(e){var t=e.newIndex,r=e.oldIndex;if(r!==t){var o=y(i);o.splice(r,1),o.splice(t,0,i[r]),n(o,m)}}},i.map((function(e,t){return u.default.createElement(a.default.Item,{key:e.id},u.default.createElement(c.default,h({index:t,isLast:t===i.length-1,isMarked:(n=e.id,!!n&&m.includes(n)),onChange:M,onRemove:k,onRestore:I,isAddable:g,isDeletable:w,isEditable:_},e)));var n}))),g&&u.default.createElement(d.ActionTableEntryUI,{className:"is-large"},A))}g.propTypes={isAddable:i.default.bool,isDeletable:i.default.bool,isEditable:i.default.bool,limit:i.default.number,onChange:i.default.func,options:i.default.arrayOf(i.default.shape({error:i.default.string,id:i.default.string,index:i.default.number,isEditModeOn:i.default.bool,isManageModeOn:i.default.bool,isMarked:i.default.bool,label:i.default.string,onChange:i.default.func,onRemove:i.default.func,onRestore:i.default.func})),optionsMarked:i.default.arrayOf(i.default.string)}},551:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var o=d(n(107)),a=d(n(28)),l=d(n(129)),i=d(n(2)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),s=n(344);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){e&&e.detail&&e.target.blur()}function h(e){var t=e.error,n=e.id,r=e.index,i=e.isEditModeOn,c=void 0!==i&&i,d=e.isLast,p=void 0!==d&&d,h=e.isManageModeOn,v=void 0!==h&&h,y=e.isMarked,b=void 0!==y&&y,g=e.isNew,O=void 0!==g&&g,w=e.label,P=void 0===w?"":w,_=e.isDeletable,E=void 0!==_&&_,C=e.isEditable,j=void 0!==C&&C,x=e.onChange,S=void 0===x?function(){}:x,M=e.onRemove,k=void 0===M?function(){}:M,I=e.onRestore,T=void 0===I?function(){}:I,A=f((0,u.useState)(!1),2),U=A[0],D=A[1],R=f((0,u.useState)(c),2),N=R[0],L=R[1],F=f((0,u.useState)(v),2),B=F[0],V=F[1],z=f((0,u.useState)(!1),2),W=z[0],H=z[1],q=f((0,u.useState)(P),2),G=q[0],Y=q[1],$=f((0,u.useState)(!1),2),K=$[0],J=$[1],Q=(0,u.useRef)(),X=p&&!(G||"").trim(),Z=U||N||B,ee=b&&!N,te=!(t||W||N||X);(0,u.useEffect)((function(){Y(P)}),[P]),(0,u.useEffect)((function(){!G&&p&&Q.current.focus()}),[G,p]);var ne=function(e){e.preventDefault(),m(e),k(n,O)},re=function(e){m(e),T(n)},oe=Z?u.default.createElement(s.DragHandleUI,{"aria-label":"Move","data-testid":"ActionTableEntry.Prefix.MoveAction",iconSize:24}):u.default.createElement(s.EnumeratedUI,{className:ee?"is-striked-through":"","data-testid":"ActionTableEntry.Prefix.Enumerated"},r+1),ae=E?b?u.default.createElement(s.IconButtonUI,{seamless:!0,"aria-label":"Restore",className:Z?"is-restorable":"is-not-restorable","data-testid":"DropdownPanelItem.Suffix.RestoreAction",icon:"refresh",onBlur:function(){return D(!1)},onClick:re,onFocus:function(){return D(!0)}}):u.default.createElement(s.IconButtonUI,{seamless:!0,"aria-label":"Remove",className:Z?"is-deletable":"is-not-deletable","data-testid":"DropdownPanelItem.Suffix.RemoveAction",icon:"cross-small",onBlur:function(){return D(!1)},onClick:ne,onFocus:function(){return D(!0)},tooltip:"sdfsdf"}):u.default.createElement(s.IconContainerUI,null,u.default.createElement(o.default,{visible:K,title:"".concat(b?"Show in":"Hide from"," sidebar"),closeOnContentClick:!0},u.default.createElement(s.IconButtonUI,{seamless:!0,"aria-label":"".concat(b?"Show":"Hide"),"data-testid":"DropdownPanelItem.Suffix.HideAction",className:"".concat(Z?"is-restorable":"is-not-restorable"," isLight"),icon:b?"eye":"eye-closed",onBlur:function(){D(!1),J(!1)},onClick:function(e){return b?re(e):ne(e)},onFocus:function(){D(!0),J(!0)},onMouseEnter:function(){return J(!0)},onMouseLeave:function(){return J(!1)}})));return u.default.createElement(s.ActionTableEntryUI,{className:ee?"is-striked-through":"",onMouseEnter:function(){return V(!0)},onMouseMove:function(){return V(!0)},onMouseLeave:function(){return V(!1)}},u.default.createElement(a.default,{gap:"none"},u.default.createElement(s.FlexyItemUI,{"data-testid":"ActionTableEntry.Prefix"},oe),j?u.default.createElement(a.default.Block,null,u.default.createElement(s.InputUI,{inputRef:function(e){return Q.current=e},className:ee?"is-striked-through":"",disabled:b||!j,errorMessage:t&&!W?t:"",id:"dropdown-option-".concat(n),maxlength:255,onBlur:function(){L(!1),H(!1)},onChange:function(e){S(r,e),H(!0),Y(e)},onFocus:function(){return L(!0)},onKeyDown:function(e){e.keyCode===l.default.ENTER&&e.stopPropagation()},onKeyUp:function(e){switch(e.keyCode){case l.default.ENTER:e.preventDefault()&&e.stopPropagation(),e.target.blur();break;case l.default.ESCAPE:e.preventDefault()&&e.stopPropagation(),P!==G?Y(P):e.target.blur()}},seamless:te,state:t&&!W?"error":"",value:G})):u.default.createElement(s.UneditableEntryUI,{className:ee?"is-striked-through":""},u.default.createElement(a.default.Item,null,G)),u.default.createElement(s.FlexyItemUI,{"data-testid":"ActionTableEntry.Suffix"},ae)))}h.propTypes={error:i.default.string,id:i.default.string.isRequired,index:i.default.number,isEditModeOn:i.default.bool,isLast:i.default.bool,isManageModeOn:i.default.bool,isMarked:i.default.bool,isNew:i.default.bool,label:i.default.string,isDeletable:i.default.bool,isEditable:i.default.bool,onChange:i.default.func,onRemove:i.default.func,onRestore:i.default.func}},552:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonUI=t.ActionTableUI=void 0;var r=l(n(22)),o=l(n(7)),a=n(9);function l(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)(r.default).withConfig({displayName:"ActionTablecss__ButtonUI",componentId:"sc-133uqjs-0"})(["margin:0;padding-left:8px !important;.c-Icon{margin-right:0;}"]);t.ButtonUI=i;var u=(0,o.default)("div").withConfig({displayName:"ActionTablecss__ActionTableUI",componentId:"sc-133uqjs-1"})(["border:1px solid ",";border-bottom:none;border-radius:4px;margin-bottom:20px;overflow:hidden;.c-SortableItem{border-bottom:1px solid ",";&::last-of-type{border:none;}}"],(0,a.getColor)("grey.500"),(0,a.getColor)("grey.500"));t.ActionTableUI=u},553:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(554))&&r.__esModule?r:{default:r}).default;t.default=o},554:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseApp=void 0;var r=u(n(110)),o=u(n(0)),a=u(n(2)),l=n(555),i=["children","scope","useSystemFonts"];function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var d=function(e){var t=e.children,n=e.scope,a=(e.useSystemFonts,c(e,i)),u=o.default.createElement(l.BaseAppUI,s({"data-cy":"BaseApp","data-testid":"BaseApp","data-scope":n},a),t);return n?o.default.createElement(r.default.Provider,{scope:n},u):u};t.BaseApp=d,d.propTypes={children:a.default.oneOfType([a.default.arrayOf(a.default.node),a.default.node]),scope:a.default.string,useSystemFonts:a.default.bool};var f=d;t.default=f},555:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAppUI=void 0;var r,o=(r=n(7))&&r.__esModule?r:{default:r},a=n(9);var l=(0,o.default)("div").withConfig({displayName:"BaseAppcss__BaseAppUI",componentId:"j99gc6-0"})(["background-color:",";min-height:calc(100vh - 94px);padding:20px 40px;position:relative;--HSDSGlobalFontFamily:'Aktiv Grotesk','Helvetica Neue',-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';"],(0,a.getColor)("grey.200"));t.BaseAppUI=l},5551:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var l=o.default.ItemView.extend({className:function(){return this.model.itemViewClassName||""},tagName:"li",template:function(){return""},initialize:function(e){r.default.extend(this,r.default.pick(e,"customerId","instanceUrl","profile"))},serializeData:function(){return r.default.extend({},o.default.ItemView.prototype.serializeData.apply(this,arguments),{instanceUrl:this.instanceUrl})}});t.default=l},5553:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(6)),o=a(n(5814));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.ItemView.extend({template:o.default,initialize:function(e){e=e||{},this.type=e.type||"text"},serializeData:function(){return{type:this.type,name:this.model.get("key"),label:this.model.get("name"),value:null,formatter:this.options.formatter,formatterKey:this.options.formatterKey}}});t.default=l},5554:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5)),o=c(n(8)),a=c(n(70)),l=c(n(5649)),i=c(n(5767)),u=c(n(5768)),s=c(n(5572));function c(e){return e&&e.__esModule?e:{default:e}}var d=21,f=37,p=40,m=43,h=59,v=60,y=67,b=73,g=l.default.extend({initialize:function(e){l.default.prototype.initialize.call(this,e),this.debugWindow=!1,this.debugRefresh=!1,this.lastResponse=!1,this.mailbox=e.mailbox},events:{"click a.debug":"showDebug"},pluginError:function(e){var t=e.statusText;if(e.responseText){var n=o.default.parseJSON(e.responseText);n.data&&n.data.debug&&(n.errors&&(t=n.errors[0]),t=this.getDebugLink()+t),this.lastResponse=n.data}this.$el.find(".js-content").html(t)},onPostContentLoaded:function(){},onShow:function(){this.fetchPlugin()},getDebugLink:function(){return(0,i.default)()},showDebug:function(){var e=!1;if(this.debugWindow&&(e=this.debugWindow),e){(t=(0,o.default)(e.document)).find("#reqHeaders").text(this.lastResponse.request.headers),t.find("#reqBody").text(this.lastResponse.request.body),t.find("#resHeaders").text(this.lastResponse.response.headers),t.find("#resBody").text(this.lastResponse.response.body)}else{var t,n=this,r=window.open("","","location=1,status=1,scrollbars=1,resizable=1,width=600,height=800,menubar=no,toolbar=no");(t=r.document).write((0,u.default)({reqHeaders:this.lastResponse.request.headers,reqBody:this.lastResponse.request.body,resHeaders:this.lastResponse.response.headers,resBody:this.lastResponse.response.body})),r.focus(),(0,o.default)(t).find("a").on("click",o.default.proxy(this.refreshAppDebug,this)),(0,o.default)(r).unload((function(){n.debugWindow=!1})),this.debugWindow=r}},getTemplateContent:function(e){return r.default.Utils.Templates.get("#".concat(this.model.get("slug"),"AppTpl"),{data:e})},pluginLoaded:function(e){var t;t=e?e.error?e.error:function(e){if("dynamic"===e.get("type"))return!0;var t=parseInt(e.get("appId"),10);if(-1!==[d,f,p,m,h,v,y,b].indexOf(t))return!0;return!1}(this.model)?e.html&&!r.default.Utils.String.isBlank(e.html)?e.html:"No data received":this.getTemplateContent(e.data):"No data received",e&&e.debug&&(t=this.getDebugLink()+t);var n=this.$el.find(".js-content");n.html(t),this.addLinkTargets(n),this.addOpenClassToChildToggleGroups(),this.hideToggleGroups(n),this.onPostContentLoaded(),this.lastResponse=e,this.debugRefresh&&(this.showDebug(),this.debugRefresh=!1)},fetchPlugin:function(){var e=!1;if(this.debugRefresh){var t=(0,o.default)(this.debugWindow.document);e=o.default.parseJSON(t.find("#reqBody").val());var n=t.find("#url").val();if(n){if(n.toLowerCase().indexOf("file:/")>=0)return void alert("Invalid debug url");e.debugUrl=n}}e||(e=this.getCustomerParams()),this.abortOnClose(r.default.Utils.Ajax.get({url:this.getPluginUrl(),done:this.pluginLoaded.bind(this),fail:this.onFail.bind(this),params:e}))},onFail:function(e){e&&"abort"===e.statusText||(this.pState.isForced()||(this.$el.find(".js-toggleApp a").trigger("close"),this.$el.removeClass("open"),this.hasNoData=!0,this.isOpen=!1),this.pluginError(e))},refreshAppDebug:function(e){e&&e.preventDefault(),this.debugRefresh=!0,this.fetchPlugin()},getPluginUrl:function(){return["mailbox",this.mailbox.slug,"plugin",this.model.get("id")]}});a.default.mixin(g,s.default);var O=g;t.default=O},556:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(557))&&r.__esModule?r:{default:r}).default;t.default=o},5564:function(e,t,n){var r;window;function o(e,t){for(var n="",r=parseInt(t.hash.offset)||0,o=parseInt(t.hash.limit)||5,a=r<e.length?r:0,l=o+r<e.length?o+r:e.length;a<l;a++)n+=t.fn(e[a]);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,((r=n(18))&&r.__esModule?r:{default:r}).default.registerHelper("limit",o);var a=o;t.default=a},5565:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(69),a=n(5921),l=(r=n(5922))&&r.__esModule?r:{default:r};var i=(0,o.connect)(null,(function(e){return{pauseKeyboardShortcuts:function(){return e((0,a.pauseKeyboardShortcuts)())},unpauseKeyboardShortcuts:function(){return e((0,a.unpauseKeyboardShortcuts)())}}}),null,{forwardRef:!0})(l.default);t.default=i},557:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NotFound=void 0;var o=((r=n(381))&&r.__esModule?r:{default:r}).default;t.NotFound=o;var a=o;t.default=a},5571:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(8)),a=s(n(6)),l=s(n(231)),i=s(n(5752)),u=s(n(5648));function s(e){return e&&e.__esModule?e:{default:e}}var c=a.default.Layout.extend({className:"c-MailboxLayout",ui:{leftNav:".js-sidebarLt"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.orderedSlugs,n=e.isBeaconChatView,r=e.isBeacon2Enabled,o=e.isBeacon2ChatEnabled,a=e.isBeacon2ChatEnabledForMailbox,i=e.chatModel,u=e.isChatsView;Object.assign(this,{mailbox:l.default.data.mailbox,chatModel:i,isBeaconChatView:n,isBeacon2Enabled:r,isBeacon2ChatEnabled:o,isBeacon2ChatEnabledForMailbox:a,isChatsView:u}),this.sortPlugins(t),this.enterChat=this.enterChat.bind(this),this.listenTo(l.default,"chat:enter",this.enterChat)},renderLeftNav:function(){this.leftNav.show(new i.default({mailbox:this.mailbox,folders:l.default.data.folders,companyProperties:l.default.data.properties,isBeacon2Enabled:this.isBeacon2Enabled,isBeacon2ChatEnabled:this.isBeacon2ChatEnabled,isBeacon2ChatEnabledForMailbox:this.isBeacon2ChatEnabledForMailbox,chatModel:this.chatModel,isChatsView:this.isChatsView}))},getSidebarConfig:function(){return{isChangeEnabled:!0,isMergeEnabled:!0,readOnly:!1}},getTicketModel:function(){return l.default.ticket},doSidebarRerender:function(e,t){if(!t)return!0;var n=t.model,o=e.createSidebarModel();return!r.default.isEqual(o.toJSONClean(),n.toJSONClean())},renderSidebar:function(){var e=this.getTicketModel(),t=e.customer.id&&(!e.customer.get("isDraft")||e.customer.emails.length>0);(0,o.default)("#js-wrap > section").toggleClass("no-profile",!t);var n=this.sidebar.currentView;this.doSidebarRerender(e.customer,n)&&(this.sidebar.close(),t&&this.sidebar.show(new u.default({mailbox:{slug:this.mailbox.get("slug"),id:this.mailbox.get("id")},config:this.getSidebarConfig(),model:e.customer.createSidebarModel(),ticket:e.toJSON(),member:l.default.data.get("member"),plugins:l.default.data.plugins})))},sortPlugins:function(e){e&&(l.default.data.plugins.orderedSlugs=e,l.default.data.plugins.sort())},enterChat:function(){requestAnimationFrame((function(){var e=(0,o.default)("body");e.addClass("enter-chat"),setTimeout((function(){requestAnimationFrame((function(){e.removeClass("enter-chat")}))}),400)}))}});t.default=c},5572:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(5)),o=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}var l={initialize:function(){this.promises=[],this.listenTo(this,"close",this.abortPromises)},abortOnClose:function(e){if(e){if(o.default.isFunction(e.abort))return this.promises.push(e),e;console.warn("Cannot call abort on promise",e)}},abortPromise:function(e){this.promises=o.default.without(this.promises,e),r.default.Utils.Main.abort(e)},abortPromises:function(){r.default.Utils.Main.abortAll(this.promises)}};t.default=l},5573:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(5)),o=m(n(1)),a=m(n(8)),l=m(n(70)),i=m(n(5554)),u=m(n(5769)),s=m(n(5770)),c=m(n(5771)),d=m(n(5772)),f=m(n(5773)),p=m(n(293));function m(e){return e&&e.__esModule?e:{default:e}}var h=i.default.extend({events:{"click p.addToCrm a":"addToCrm"},initialize:function(e){i.default.prototype.initialize.call(this,e),this.subId=r.default.Controller.PubSub.subscribe("Ajax:Error:Crm",a.default.proxy(this.doCrmError,this)),this.onChannelMessage=o.default.bind(this.onChannelMessage,this),this.pusherChannel=PusherClient.subscribe(this.getChannelName(),"crm-event",this.onChannelMessage)},onClose:function(){i.default.prototype.onClose&&i.default.prototype.onClose.apply(this,arguments),r.default.Controller.PubSub.unsubscribe("Ajax:Error:Crm",this.subId),PusherClient.unsubscribe(this.getChannelName(),"crm-event",this.onChannelMessage),this.stopListeningForPusherSubscribe()},getNotFoundTemplateContent:function(e){return(0,u.default)(e)},pluginError:function(e,t){this.clearTimeout("killswitch"),e&&500===e.status?this.callParentPluginLoaded({error:"An error occurred"}):this.$el.find(".js-content").html(this.getNotFoundTemplateContent({name:this.model.get("name")}))},pluginLoaded:function(e,t,n){n&&202===n.status||(this.clearTimeout("killswitch"),this.callParentPluginLoaded(e))},listenForPusherSubscribe:function(){this.pusherChannel.subscribed?this.doFetchPlugin():(this.boundOnPusherSubscribe=o.default.bind(this.doFetchPlugin,this),this.pusherChannel.bind("pusher:subscription_succeeded",this.boundOnPusherSubscribe))},stopListeningForPusherSubscribe:function(){this.boundOnPusherSubscribe&&this.pusherChannel.unbind("pusher:subscription_succeeded",this.boundOnPusherSubscribe)},fetchPlugin:function(){this.listenForPusherSubscribe(),this.setTimeout("killswitch",this.pluginLoaded,1e4)},doFetchPlugin:function(){i.default.prototype.fetchPlugin.call(this)},onChannelMessage:function(e){this.clearTimeout("killswitch");var t=e.data;switch(t.status){case 404:return void this.pluginError(t,"error");case 500:e.error="An error occurred"}this.callParentPluginLoaded(t)},getChannelName:function(){var e=this.model.get("slug").toLowerCase(),t=this.ticket.customer.id;return"private-".concat(hsGlobal.pusher.namespace,".sidebar.customer.").concat(t,".app.").concat(e.toLowerCase())},callParentPluginLoaded:function(e){i.default.prototype.pluginLoaded.call(this,e)},getTemplateContent:function(e){switch("tags"in e&&(e.tags=e.tags.join(", ")),this.model.get("slug")){case"capsule":return(0,s.default)({data:e});case"highrise":return(0,c.default)({data:e});case"pipedrive":return(0,d.default)({data:e});case"pipeline-deals":return(0,f.default)({data:e})}},closeBusy:function(){this.$("#crmSpinner").hide(),this.loading=!1},doCrmError:function(e){alert(e.errors.join("\n")),this.closeBusy()},addToCrmError:function(e,t,n){r.default.Utils.Ajax.fail(e,t,n,"Ajax:Error:Crm")||(this.$el.find(".js-content").html(e.statusText),this.closeBusy())},addToCrmSuccess:function(e,t){this.pluginLoaded(e,t),this.loading=!1},addToCrm:function(e){this.loading||(this.loading=!0,this.$("#crmSpinner").show(),r.default.Utils.Ajax.put({url:["customer",this.customer.get("id"),"add-to-crm",this.mailbox.id,this.model.get("id")],done:o.default.bind(this.addToCrmSuccess,this),fail:o.default.bind(this.addToCrmError,this),params:this.getCustomerParams()}))}});l.default.mixin(h,p.default);var v=h;t.default=v},5574:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.UpsellUI=t.UpsellHighlightUI=t.PropertiesVisibilityMessageUI=t.ListItemUI=t.EmptyPropertiesUI=void 0;var r,o=(r=n(7))&&r.__esModule?r:{default:r},a=n(9);var l=(0,o.default)("li").withConfig({displayName:"PropertiesSidebarAppcss__ListItemUI",componentId:"sc-11t45se-0"})(["display:block !important;cursor:pointer;span{display:block !important;}"]);t.ListItemUI=l;var i=(0,o.default)("a").withConfig({displayName:"PropertiesSidebarAppcss__UpsellUI",componentId:"sc-11t45se-1"})(["&&&{display:block;background:",";color:",";font-size:13px;line-height:19px;padding:12px 15px 15px;margin-top:-10px;margin-bottom:-2px;border-radius:4px;cursor:pointer;&:hover,&:focus,&:focus-within{text-decoration:none;}}"],(0,a.getColor)("blue.100"),(0,a.getColor)("charcoal.600"));t.UpsellUI=i;var u=(0,o.default)("span").withConfig({displayName:"PropertiesSidebarAppcss__UpsellHighlightUI",componentId:"sc-11t45se-2"})(["color:",";"],(0,a.getColor)("blue.600"));t.UpsellHighlightUI=u;var s=(0,o.default)("div").withConfig({displayName:"PropertiesSidebarAppcss__PropertiesVisibilityMessageUI",componentId:"sc-11t45se-3"})(["margin-bottom:20px;font-size:14px;color:",";line-height:22px;"],(0,a.getColor)("charcoal.600"));t.PropertiesVisibilityMessageUI=s;var c=(0,o.default)("div").withConfig({displayName:"PropertiesSidebarAppcss__EmptyPropertiesUI",componentId:"sc-11t45se-4"})(["background-color:",";color:",";height:46px;line-height:46px;text-align:center;margin-top:-19px;border-radius:4px;cursor:pointer;&:hover{background-color:",";}"],(0,a.getColor)("grey.200"),(0,a.getColor)("charcoal.400"),(0,a.getColor)("grey.300"));t.EmptyPropertiesUI=c},5586:function(e,t,n){window;var r=a(n(8)),o=a(n(5650));function a(e){return e&&e.__esModule?e:{default:e}}function l(){return this.isOpen?i.apply(this):"closed"}function i(){return this.hasNoData||this.pState.isForced()?"forced":"open"}e.exports={openClass:"open",initializeOpenedState:function(e){this.pState=new o.default(this,e),this.isOpen=this.pState.isOpen(),this.slug=e},addOpenClass:function(){this.isOpen&&this.$el.addClass(this.openClass)},addOpenClassToChildToggleGroups:function(){var e=this;this.$el.find(".toggleGroup").each((function(t,n){var a=(0,r.default)(n).find(".toggleBtn").first().text().trim(),l=a?a.replace(/ /g,""):t,i=new o.default(e,"".concat(e.slug,".toggleGroup.").concat(l)),u=(0,r.default)(n).find(".toggle").first();i.isOpen()?(u.show(),(0,r.default)(n).addClass("open")):"undefined"!==i.getOpenedState()&&(u.hide(),(0,r.default)(n).removeClass("open"))})),this.$el.find(".c-sb-section--toggle.is-persisted").each((function(t,n){var a=(0,r.default)(n),l=a.find(".c-sb-section__title").first().text().trim(),i=l?l.replace(/ /g,""):t,u=new o.default(e,"".concat(e.slug,".toggleGroup.").concat(i)),s=a.find(".c-sb-section__body").first();u.isOpen()?(s.show(),a.addClass("open")):"undefined"!==u.getOpenedState()&&(s.hide(),a.removeClass("open"))}))},toggleApp:function(){this.$el.toggleClass(this.openClass),this.isOpen=!this.isOpen;var e=l.apply(this);this.pState.updateOpenedState(e)},persistChildToggleGroup:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t?t.replace(/ /g,""):e,a=new o.default(this,"".concat(this.slug,".toggleGroup.").concat(r)),l=n?"open":"closed";a.updateOpenedState(l)}}},5587:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(20)),a=i(n(5844)),l=i(n(5849));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.Model.extend({descriptionFieldName:"description",dataObjectsCollectionOptions:{},profileFieldsCollectionOptions:{},constructor:function(e,t){this.fields=new a.default([],r.default.result(this,"profileFieldsCollectionOptions")),this.relatedData=new l.default([],r.default.result(this,"dataObjectsCollectionOptions")),o.default.Model.prototype.constructor.apply(this,arguments)},hasRelatedData:function(){return this.relatedData&&this.relatedData.length>0},parse:function(e){if(e&&e.fields){var t=r.default.result(this,"descriptionFieldName");e.description=r.default.findWhere(e.fields,{name:t}),e.fields=r.default.reject(e.fields,(function(e){return e.name===t})),this.fields.reset(e.fields)}return e&&e.relatedData&&this.relatedData.reset(e.relatedData,{parse:!0}),r.default.omit(e,"fields")}});t.default=u},560:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <td class="pagination" colspan="'+(null!=(i=c(r,"if").call(u,null!=t?c(t,"colspan"):t,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l,loc:{start:{line:2,column:36},end:{line:2,column:81}}}))?i:"")+'">\n    <span class="totals">\n'+(null!=(i=o(n(10)).call(u,null!=t?c(t,"totalPages"):t,">",1,{name:"ifCond",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l,loc:{start:{line:4,column:4},end:{line:6,column:15}}}))?i:"")+"        "+s(o(n(24)).call(u,null!=t?c(t,"totalRecords"):t,{name:"formatNumber",hash:{},data:l,loc:{start:{line:7,column:8},end:{line:7,column:37}}}))+" "+s(o(n(84)).call(u,null!=t?c(t,"totalRecords"):t,null!=t?c(t,"singularLabel"):t,null!=t?c(t,"pluralLabel"):t,{name:"pluralize",hash:{},data:l,loc:{start:{line:7,column:38},end:{line:7,column:90}}}))+"\n    </span>\n"+(null!=(i=o(n(10)).call(u,null!=t?c(t,"hasPrev"):t,"||",null!=t?c(t,"hasNext"):t,{name:"ifCond",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l,loc:{start:{line:9,column:8},end:{line:27,column:19}}}))?i:"")+"    </td>\n"},2:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=t?a(t,"colspan"):t,t))},4:function(e,t,n,r,o){return"100%"},6:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+l(a(null!=t?i(t,"pageStart"):t,t))+" - "+l(a(null!=t?i(t,"pageEnd"):t,t))+" of\n"},8:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="pager">\n'+(null!=(a=i(n,"if").call(l,null!=t?i(t,"hasPrev"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:11,column:16},end:{line:17,column:23}}}))?a:"")+"\n"+(null!=(a=i(n,"if").call(l,null!=t?i(t,"hasNext"):t,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.program(15,o,0),data:o,loc:{start:{line:19,column:16},end:{line:25,column:23}}}))?a:"")+"            </div>\n"},9:function(e,t,n,r,o){return'                    <a href="#" class="first" title="First Page"><i class="icon-first"></i></a>\n                    <a href="#" class="prev" title="Previous Page (J)"><i class="icon-prev"></i></a>\n'},11:function(e,t,n,r,o){return'                    <span><i class="icon-first"></i></span>\n                    <span><i class="icon-prev"></i></span>\n'},13:function(e,t,n,r,o){return'                    <a href="#" class="next" title="Next Page (K)"><i class="icon-next"></i></a>\n                    <a href="#" class="last" title="Last Page"><i class="icon-last"></i></a>\n'},15:function(e,t,n,r,o){return'                    <span><i class="icon-next"></i></span>\n                    <span><i class="icon-last"></i></span>\n'},17:function(e,t,n,r,o,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(n,"if").call(u,null!=t?s(t,"showPrevNext"):t,{name:"if",hash:{},fn:e.program(18,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:30,column:4},end:{line:44,column:11}}}))?i:"")+(null!=(i=s(n,"each").call(u,null!=t?s(t,"pages"):t,{name:"each",hash:{},fn:e.program(28,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:45,column:4},end:{line:51,column:13}}}))?i:"")+(null!=(i=s(n,"if").call(u,null!=t?s(t,"showPrevNext"):t,{name:"if",hash:{},fn:e.program(31,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:52,column:4},end:{line:66,column:11}}}))?i:"")},18:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=o(n(10)).call(u,null!=t?s(t,"totalPages"):t,">",null!=t?s(t,"minPagesToShowFirstLast"):t,{name:"ifCond",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l,loc:{start:{line:31,column:8},end:{line:37,column:19}}}))?i:"")+"\n"+(null!=(i=s(r,"if").call(u,null!=t?s(t,"hasPrev"):t,{name:"if",hash:{},fn:e.program(24,l,0),inverse:e.program(26,l,0),data:l,loc:{start:{line:39,column:8},end:{line:43,column:15}}}))?i:"")},19:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"hasPrev"):t,{name:"if",hash:{},fn:e.program(20,o,0),inverse:e.program(22,o,0),data:o,loc:{start:{line:32,column:12},end:{line:36,column:19}}}))?a:""},20:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <a href="'+e.escapeExpression(e.lambda(null!=t?a(t,"firstUrl"):t,t))+'" data-page="1" class="first prevNext" title="First Page">first</a>\n'},22:function(e,t,n,r,o){return'                <span class="prevNext">first</span>\n'},24:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <a href="'+l(a(null!=t?i(t,"prevUrl"):t,t))+'" data-page="'+l(a(null!=t?i(t,"prevPage"):t,t))+'" class="page prevNext" title="Previous Page">previous</a>\n'},26:function(e,t,n,r,o){return'            <span class="prevNext">previous</span>\n'},28:function(e,t,r,a,l,i,u){var s,c=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <a href="'+d(c(null!=t?f(t,"url"):t,t))+'"\n           data-page="'+d(c(null!=t?f(t,"page"):t,t))+'"\n                class="page '+(null!=(s=o(n(10)).call(null!=t?t:e.nullContext||{},null!=t?f(t,"page"):t,"==",null!=u[1]?f(u[1],"currentPage"):u[1],{name:"ifCond",hash:{},fn:e.program(29,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:48,column:28},end:{line:48,column:90}}}))?s:"")+'" >\n            '+d(c(null!=t?f(t,"page"):t,t))+"\n        </a>\n"},29:function(e,t,n,r,o){return"active disabled"},31:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(r,"if").call(u,null!=t?s(t,"hasNext"):t,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.program(34,l,0),data:l,loc:{start:{line:53,column:8},end:{line:57,column:15}}}))?i:"")+"\n"+(null!=(i=o(n(10)).call(u,null!=t?s(t,"totalPages"):t,">",null!=t?s(t,"minPagesToShowFirstLast"):t,{name:"ifCond",hash:{},fn:e.program(36,l,0),inverse:e.noop,data:l,loc:{start:{line:59,column:8},end:{line:65,column:19}}}))?i:"")},32:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <a href="'+l(a(null!=t?i(t,"nextUrl"):t,t))+'" data-page="'+l(a(null!=t?i(t,"nextPage"):t,t))+'" class="page prevNext" title="Next Page">next</a>\n'},34:function(e,t,n,r,o){return'            <span class="prevNext">next</span>\n'},36:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"hasNext"):t,{name:"if",hash:{},fn:e.program(37,o,0),inverse:e.program(39,o,0),data:o,loc:{start:{line:60,column:12},end:{line:64,column:19}}}))?a:""},37:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <a href="'+l(a(null!=t?i(t,"lastUrl"):t,t))+'" data-page="'+l(a(null!=t?i(t,"totalPages"):t,t))+'" class="last prevNext" title="Last Page">last</a>\n'},39:function(e,t,n,r,o){return'                <span class="prevNext">last</span>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"tableMode"):t,{name:"if",hash:{},fn:e.program(1,o,0,a,l),inverse:e.program(17,o,0,a,l),data:o,loc:{start:{line:1,column:0},end:{line:67,column:7}}}))?i:""},useData:!0,useDepths:!0})},5648:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=g(n(2)),o=g(n(0)),a=n(31),l=g(n(129)),i=g(n(5)),u=g(n(8)),s=(g(n(5762)),g(n(6))),c=g(n(1)),d=g(n(1568)),f=g(n(1560)),p=g(n(5763)),m=g(n(5764)),h=g(n(5765)),v=g(n(5908)),y=g(n(5913)),b=g(n(5951));function g(e){return e&&e.__esModule?e:{default:e}}var O=(0,a.ReactView)(s.default.ItemView.extend({serializeData:function(){return{customer:this.options.customer,doPropertiesExist:this.options.doPropertiesExist,properties:this.options.properties,propertiesModel:this.options.propertiesModel}},template:function(e){var t=e.customer,n=e.doPropertiesExist,r=e.properties,a=e.propertiesModel;return o.default.createElement(b.default,{customer:t,doPropertiesExist:n,properties:r,propertiesModel:a})}}));O.propTypes={properties:r.default.array};var w=s.default.Layout.extend({template:m.default,ui:{tab:".js-tab",tabs:".apps-history__toggle"},events:{"click @ui.tab":"updateTabState"},regions:{apps:".js-apps",history:".js-history",profile:"#sidebarProfile",properties:".js-properties"},initialize:function(e){this.updateSubId=i.default.Controller.PubSub.subscribe("sidebar:updateCustomer",c.default.bind(this.initCustomer,this)),App.reqres.setHandler("sidebar:getCustomer",this.getCustomer,this),this.config=e.config,this.chatId=e.chatId,this.chatStore=e.chatStore,this.mailbox=e.mailbox,this.ticket=e.ticket,this.member=e.member||{},this.plugins=e.plugins||[],this.plugins.length&&(this.plugins.models=this.plugins.models.filter((function(e){return e.hasSidebarView()}))),this.returnPressCopyButton=null,this.plugins.length||this.member.isAdmin||this.setTabState("history")},onClose:function(){this.cleanupEventListeners(),i.default.Controller.PubSub.unsubscribe("sidebar:updateCustomer",this.updateSubId),App.reqres.removeHandler("sidebar:getCustomer",this.getCustomer),i.default.Utils.Main.abort(this.prevConvosPromise),i.default.Utils.Main.abort(this.fetchPromise)},displayCust:function(e){var t=this.model.parse(e);this.model.set(t),this.onShow(),i.default.Utils.Main.cursorDefault()},displayCustomerProperties:function(){var e=this.model.get("properties")||[],t=!!e.length>0,n=t?e:null;this.properties.reset(),this.properties.show(new O({customer:this.model.toJSON(),doPropertiesExist:t,properties:n,propertiesModel:e}))},getCustomer:function(){return this.model},initCustomer:function(e){if("customer"in e)this.displayCust(e.customer);else if("id"in e){var t=parseInt(e.id,10);if(e.force||parseInt(this.model.get("id"),10)!=t){i.default.Utils.Main.cursorLoading();var n=new d.default({id:t});this.fetchPromise=n.fetch({success:c.default.bind((function(e,t,n){this.displayCust(t.customer),function(e){var t=(0,u.default)("#toLine select#customer");if(0==t.length)return;var n=t.get(0),r=function(e){var t=(0,u.default)(e).find("option:selected").text(),n=new RegExp("(.*) <(.*)>","i").exec(t);if(n)return n[2];if(i.default.Utils.String.isValidEmail(t))return t;return!1}(n),o=!1;"emails"in e&&(o=e.emails);if(!o)return;for(var a=o.length,l=!1,s=0;s<a;s++){if((d=o.at(s)).get("isRecent")){var c="".concat(e.id,"-").concat(d.get("id"));if(I(n,c)){T(n,c,d.get("value")),l=!0;break}}}if(l)return;for(s=0;s<a;s++){var d=o.at(s);c="".concat(e.id,"-").concat(d.get("id"));if(I(n,c)){T(n,c,d.get("value"));break}}r&&i.default.Controller.PubSub.publish("CcBcc:addEmail",{id:"cc",email:r})}(t.customer),i.default.Controller.PubSub.publish("sidebar:loadedCustomer",{customer:t.customer})}),this),error:function(e,t){i.default.Utils.Ajax.fail(t)}}),this.fetchPromise.always(i.default.Utils.Main.cursorDefault)}}},fetchPreviousConvos:function(){if(this.model&&this.model.id){var e=new p.default([],{customer:this.model,excludeTicketId:this.ticket.id});i.default.Utils.Main.abort(this.prevConvosPromise),this.prevConvosPromise=e.fetch(),this.history.show(new v.default({model:this.model,collection:e,mailbox:this.mailbox,ticket:this.ticket,config:this.config})),this.prevConvosPromise.always(c.default.bind((function(){this.isClosed||e.length||this.history.close()}),this))}},onShow:function(){this.profile.show(new y.default({chatId:this.chatId,chatStore:this.chatStore,model:this.model,mailbox:this.mailbox,config:this.config,ticket:this.ticket})),this.fetchPreviousConvos(),this.model.hasEmail()?this.apps.show(new h.default({collection:this.plugins,mailbox:this.mailbox,member:this.member,customer:this.model,ticket:this.ticket})):(this.plugins.length&&this.apps.close(),App.trigger("convo:missingEmail",{customerId:this.model.get("id")})),this.$(".js-apps, .js-history").collapse({close:function(){this.slideUp(100)},open:function(){this.slideDown(100)},query:".js-toggleApp"}),this.$(".box .js-content").last().css("border-bottom",0),this.plugins.length||this.member.isAdmin||this.ui.tabs.hide(),this.setupCopyEmailToClipboard(),this.displayCustomerProperties()},updateTabState:function(e){var t=(0,u.default)(e.target).data("section");this.setTabState(t)},setTabState:function(e){i.default.Utils.LocalStorage.set("sidebar.active-tab",e)},serializeData:function(){return s.default.Layout.prototype.serializeData.apply(this,arguments)},setupCopyEmailToClipboard:function(){var e=this,t=Array.from(document.getElementsByClassName("js-copyEmail"));window.addEventListener("keydown",M),window.addEventListener("mousedown",P.bind(this)),t.forEach((function(t,n){e.copyButton=new f.default({el:e.$("#copy-".concat(n))}),t.parentNode.addEventListener("mouseenter",E),t.parentNode.addEventListener("mouseleave",C),t.addEventListener("mousedown",j),t.addEventListener("mouseup",x),t.previousSibling.addEventListener("focus",_),t.addEventListener("keydown",S.bind(e))}))},cleanupEventListeners:function(){Array.from(document.getElementsByClassName("js-copyEmail")).forEach((function(e,t){e.parentNode.removeEventListener("mouseenter",E),e.parentNode.removeEventListener("mouseleave",C),e.removeEventListener("mousedown",j),e.removeEventListener("mouseup",x),e.previousSibling.removeEventListener("focus",_),e.removeEventListener("keydown",S)})),window.removeEventListener("keydown",M),window.removeEventListener("mousedown",P)}});function P(e){var t=e.target.className;t&&t.includes&&!t.includes("js-copyEmail")&&this.returnPressCopyButton&&(document.getElementById(this.returnPressCopyButton).classList.add("hide"),this.returnPressCopyButton=null)}function _(e){e.target.nextSibling&&e.target.nextSibling.classList.remove("hide")}function E(e){e.target.childNodes&&e.target.childNodes[1].classList.remove("hide")}function C(e){var t=e.target.childNodes[1];t.classList.add("hide"),t.classList.remove("fadeOut")}function j(e){e.target.classList.add("highlight")}function x(e){e.target.classList.remove("highlight"),e.target.classList.add("copied"),setTimeout((function(){e.target.classList.remove("copied")}),2e3)}function S(e){e.keyCode===l.default.ENTER&&(this.returnPressCopyButton=e.target.id,e.target.classList.add("highlight"),setTimeout((function(){x(e),e.target.focus()}),0))}function M(e){if(e.keyCode===l.default.TAB){var t=document.activeElement,n=k(t);if(e.shiftKey){if("show-more"===n){var r=Array.from(document.getElementsByClassName("js-emailsAndPhones")).filter((function(e){return!e.className.includes("hide")}));r[r.length-1].lastChild.classList.remove("hide")}else if("detail phone"===n){var o=t.parentNode.previousSibling,a=o&&o.firstChild,i=o&&o.lastChild;o&&a.className.includes("detail email")&&i.classList.remove("hide")}else if("detail email"===n){var u=t.nextSibling,s=t.parentNode.previousSibling,c=s&&s.lastChild;u.classList.add("hide"),c&&c.classList.remove("hide")}}else"js-copyEmail"===k(document.activeElement)&&document.activeElement.classList.add("hide")}}function k(e){return e.className.includes("show-more")?"show-more":e.className.includes("detail email")?"detail email":e.className.includes("detail phone")?"detail phone":e.className.includes("js-copyEmail")?"js-copyEmail":void 0}function I(e,t){for(var n=e.options,r=n.length,o=!1,a=0;a<r;a++){if(n[a].value==t){o=!0;break}}return o}function T(e,t,n){e.value=t,i.default.Controller.PubSub.publish("CcBcc:removeEmail",{id:"cc",email:n})}t.default=w},5649:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5)),o=s(n(1)),a=s(n(8)),l=s(n(6)),i=s(n(5766)),u=s(n(5586));function s(e){return e&&e.__esModule?e:{default:e}}var c=null;c=l.default.Layout.extend({tagName:"li",id:function(){return this.model.get("slug")},className:"sidebar-app",template:i.default,events:{"click .js-toggleApp":"toggleApp","click .toggleBtn":"toggleButton","click .js-sb-toggle":"sbToggle"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.member,n=e.customer,r=e.ticket;Object.assign(this,{member:t,customer:n,ticket:r}),this.events&&(this.events=o.default.defaults(this.events,c.prototype.events),this.delegateEvents(this.events)),this.initializeOpenedState(this.model.get("slug"))},onRender:function(){this.addOpenClass()},sbToggle:function(e){e&&e.preventDefault();var t=(0,a.default)(e.target),n=t.closest(".c-sb-section--toggle"),r=t.text().trim(),o=this.$(".js-content .c-sb-section--toggle"),l=n.find(".c-sb-section__body").first(),i=n.find(".sb-caret").first(),u=!1;if(l.is(":animated"))return!1;l.is(":visible")?(i.removeClass("rotate"),l.slideToggle(200,"swing"),n.removeClass("open"),n.hasClass("is-persisted")&&this.persistChildToggleGroup(o,r,!1)):(u=!0,i.addClass("rotate"),l.slideToggle(200,"swing"),n.addClass("open"),n.hasClass("is-persisted")&&this.persistChildToggleGroup(o,r,!0)),u&&l.find(".c-sb-section--toggle.open").find(".js-sb-toggle").click()},toggleButton:function(e){e&&e.preventDefault();var t=(0,a.default)(e.target),n=t.closest(".toggleGroup"),r=t.text().trim(),o=this.$(".js-content .toggleGroup").index(n),l=n.find(".toggle").first(),i=!1;l.is(":visible")?(n.removeClass("open"),this.persistChildToggleGroup(o,r,!1)):(i=!0,n.addClass("open"),this.persistChildToggleGroup(o,r,!0)),l.toggle(),i&&l.find(".toggleGroup.open").find("a.toggleBtn").click()},getCustomerParams:function(){var e=this.customer,t=this.ticket,n={ticket:{id:t.id,number:t.number,subject:(0,a.default)("#subjectLine").html()},customer:{id:e.get("id"),fname:e.get("fname"),lname:e.get("lname"),email:null,emails:[]}},r=e.get("emails");if(r&&(r=r.models)){var o,l,i=r.length;for(o=0;o<i;o++)l=r[o],n.customer.emails.push(l.get("value")),0===o&&(n.customer.email=l.get("value"))}return n},addLinkTargets:function(e){var t=e.find("a:not([target])");if(t)for(var n=0;n<t.length;n++){var r=(0,a.default)(t[n]);r.hasClass("toggleBtn")||r.attr("target","_blank")}},hideToggleGroups:function(e){e.find(".toggleGroup").not(".open").find(".toggle").hide()},onShow:function(){this.model;var e=this.model.get("params"),t=this.getCustomerParams(),n=this.model.get("id"),o="#custom".concat(n,"Tpl");r.default.Utils.Templates.put(o,e.html.replace(/{%|%7B%25/g,"{{").replace(/%}|%25%7D/g,"}}").replace(/%20/g," "));var a=this.$el.find(".js-content");a.html(r.default.Utils.Templates.get(o,{customer:t.customer,ticket:t.ticket,user:this.member})),this.addLinkTargets(a),this.addOpenClassToChildToggleGroups(),this.hideToggleGroups(a)},serializeData:function(){return Object.assign(l.default.Layout.prototype.serializeData.apply(this,arguments),{openedState:this.isOpen?this.openClass:""})}}),Object.assign(c.prototype,u.default);var d=c;t.default=d},5650:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(5))&&r.__esModule?r:{default:r};var a=function(e,t){var n=this;this.getOpenedState=function(){return o.default.Utils.LocalStorage.get("sidebar.plugin-state",{})[t]||"open"},this.updateOpenedState=function(e){var n=o.default.Utils.LocalStorage.get("sidebar.plugin-state",{});n[t]=e,o.default.Utils.LocalStorage.set("sidebar.plugin-state",n)},this.isOpen=function(){var e=n.getOpenedState();return"open"===e||"forced"===e},this.isForced=function(){return"forced"===n.getOpenedState()}};t.default=a},5651:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(70)),a=u(n(232)),l=u(n(5652)),i=u(n(308));function u(e){return e&&e.__esModule?e:{default:e}}var s=a.default.extend({model:l.default,initialize:function(e,t){a.default.prototype.initialize.apply(this,arguments),t&&(this.appId=t.appId,this.ticketId=t.ticketId)},pusherChannel:function(){return this.getChannelName("sidebar.ticket.".concat(this.ticketId,".app.jira"))},realtimeEvents:{"jira-issue-linked-event":"onIssueLinked","jira-issue-unlinked-event":"onIssueUnlinked"},onIssueLinked:function(e){var t=e.data;t&&t.id&&this.add(t)},onIssueUnlinked:function(e){var t=e.data;t&&t.id&&this.remove(t)},url:function(){return"".concat(hsGlobal.path,"api/v0/jira/").concat(this.appId)},search:function(e,t){return t=r.default.extend({},{url:"".concat(this.url(),"/search"),data:e},t),this.goTo(e.page,t)},goTo:function(e,t){return a.default.prototype.goTo.call(this,e,t)}});o.default.mixin(s,i.default);var c=s;t.default=c},5652:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5)),o=s(n(8)),a=s(n(1)),l=s(n(20)),i=s(n(70)),u=s(n(29));function s(e){return e&&e.__esModule?e:{default:e}}n(81);var c=u.default.extend({defaults:{id:null,project:null,issuetype:null,reporter:null,summary:null,description:null,iconUrl:null,attachments:[]},additionalRequiredAttributes:[],filteredAttributes:[],urlRoot:"".concat(hsGlobal.path,"api/v0/jira"),parse:function(e){return a.default.extend({},e)},isAttributeFiltered:function(e){return this.filteredAttributes.includes(e)},toJSONFiltered:function(){var e=this.toJSON();return this.filteredAttributes.forEach((function(t){delete e[t]})),e},setAdditionalRequiredAttributes:function(e){a.default.isArray(e)?this.additionalRequiredAttributes=e:this.additionalRequiredAttributes=[]},setFilteredAttributes:function(e){a.default.isArray(e)?this.filteredAttributes=e:this.filteredAttributes=[]},validation:{project:function(e){if(!f(e))return"Project is required"},issuetype:function(e){if(!f(e))return"Issue type is required"},reporter:function(e){if(a.default.contains(this.additionalRequiredAttributes,"reporter")&&("string"!=typeof e||!o.default.trim(e)))return"Reporter is required"},summary:[{required:!0,msg:"Summary is required"},{maxLength:100}],description:function(e){if(e=o.default.trim(e),a.default.contains(this.additionalRequiredAttributes,"description")&&!e)return"Description is required"},additionalFields:function(e){var t={};if(e&&a.default.keys(e).length>0&&a.default.each(e,(function(e,n){!!o.default.trim(e)&&(p(e)&&m(e))||(t[n]="required")})),a.default.keys(t).length>0)return t}},unlink:function(e,t,n){return n=a.default.extend({url:this.getLinkUrl(e,t)},n),r.default.Utils.Ajax.del(n)},link:function(e,t,n){var o={issueName:this.get("summary"),issueNumber:this.get("key")};return n=a.default.extend({url:this.getLinkUrl(e,t),params:o},n),r.default.Utils.Ajax.post(n)},getLinkUrl:function(e,t){return[this.urlRoot,e,"issue",this.get("id"),"link",t].join("/")}},{baseAttributes:["attachment","description","issuetype","project","reporter","summary"]});i.default.mixin(c,l.default.Validation.mixin);var d=c;function f(e){return a.default.isNumber(e)&&a.default.isFinite(e)&&e>0&&Math.floor(e)===e}function p(e){var t=!0;return a.default.isArray(e)&&(e.length<1?t=!1:a.default.each(e,(function(e){a.default.isBoolean(e)||a.default.isNumber(e)||o.default.trim(e)?a.default.isObject(e)&&(t=m(e)):t=!1}))),t}function m(e){var t=!0;if(a.default.isObject(e)){var n=a.default.keys(e);n.length<1?t=!1:a.default.each(n,(function(n){t=!("boolean"!=typeof item&&"number"!=typeof item&&!o.default.trim(e[n]))&&(p(e[n])&&m(e[n]))}))}return t}t.default=d},5653:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}var l=o.default.Model.extend({toJSON:function(){var e=this.get("value");return r.default.extend({},o.default.Model.prototype.toJSON.apply(this,arguments),{formattedValue:'<a href="mailto:'.concat(e,'">').concat(e,"</a>"),isHtml:!0})}});t.default=l},5654:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(35))&&r.__esModule?r:{default:r};var a={getFormattedDate:function(e,t){if(e){t=t||{};var n=(0,o.default)(e),r="MMM D";return n.year()!==(new Date).getFullYear()&&(r="".concat(r,", YYYY")),t.excludeTime||(r="".concat(r," [at] h:mm a")),n.format(r)}}};t.default=a},5655:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(1)),o=c(n(6)),a=c(n(5869)),l=c(n(5587)),i=c(n(5656)),u=c(n(5879)),s=c(n(5881));function c(e){return e&&e.__esModule?e:{default:e}}var d=o.default.Layout.extend({template:a.default,regions:{profileRegion:".js-profile-region",profileSwitcherRegion:".js-profile-switcher-region"},initialize:function(e){r.default.extend(this,r.default.pick(e,"customerId","hideProfileTypes","instanceUrl","profiles","ProfileModelClass","selectedProfileId","profileLinkTitle","slug")),this.ProfileModelClass=this.ProfileModelClass||l.default,this.collection=new s.default(this.profiles,{model:this.ProfileModelClass,parse:!0}),this.selectedProfileId&&this.collection.setSelectedProfile(this.selectedProfileId),this.listenTo(this.collection,"selected:profile:changed",this.showProfile)},onShow:function(){this.showProfile(),this.showProfileSwitcher()},showProfile:function(){var e=new i.default({model:this.collection.getSelectedProfile(),instanceUrl:this.instanceUrl,customerId:this.customerId,slug:this.slug});this.profileRegion.show(e)},showProfileSwitcher:function(){var e=new u.default({collection:this.collection,hideProfileTypes:this.hideProfileTypes,instanceUrl:this.instanceUrl,model:this.collection.getSelectedProfile(),profileLinkTitle:this.profileLinkTitle});this.profileSwitcherRegion.show(e)}});t.default=d},5656:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5)),o=s(n(1)),a=s(n(6)),l=s(n(5870)),i=s(n(5871)),u=s(n(5657));function s(e){return e&&e.__esModule?e:{default:e}}var c=a.default.Layout.extend({template:l.default,regions:{detailsRegion:".js-details-region",relatedDataRegion:".js-related-data-region"},onShow:function(){this.showDetails(),this.showRelatedData()},initialize:function(e){o.default.extend(this,o.default.pick(e,"customerId","instanceUrl","slug")),this.model&&!this.model.hasRelatedData()&&(this.promise=this.model.relatedData.fetch({data:this.model.toJSON()}))},onClose:function(){this.promise&&r.default.Utils.Main.abort(this.promise)},showDetails:function(){var e=new i.default({model:this.model});this.detailsRegion.show(e)},showRelatedData:function(){var e=new u.default({collection:this.model.relatedData,profile:this.model,customerId:this.customerId,instanceUrl:this.instanceUrl,slug:this.slug});this.relatedDataRegion.show(e)}});t.default=c},5657:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(1)),o=u(n(8)),a=u(n(6)),l=u(n(5875)),i=u(n(5586));function u(e){return e&&e.__esModule?e:{default:e}}var s=a.default.CollectionView.extend({events:{"click .toggleBtn":"persistToggle"},itemView:l.default,itemViewOptions:function(){return{customerId:this.customerId,instanceUrl:this.instanceUrl,profile:this.profile}},initialize:function(e){r.default.extend(this,r.default.pick(e,"customerId","instanceUrl","profile","slug")),this.listenTo(this.collection,"change",this.render)},onDomRefresh:function(){this.addOpenClassToChildToggleGroups()},persistToggle:function(e){var t=(0,o.default)(e.target),n=t.closest(".toggleGroup"),r=n.find(".toggle").first(),a=t.text().trim(),l=this.$(".toggleGroup").index(n),i=!r.is(":visible");this.persistChildToggleGroup(l,a,i)}});Object.assign(s.prototype,i.default);var c=s;t.default=c},5658:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(8)),o=a(n(1568));function a(e){return e&&e.__esModule?e:{default:e}}var l={buildCustomersArray:function(e){var t=[],n=[];return e&&(n=r.default.map(e,(function(e,n){void 0!==e.customerEmails&&(t=r.default.map(e.customerEmails,(function(e,t){return{address:e}})));var a="";"firstName"in e&&(a=e.firstName);var l="";return"lastName"in e&&(l=e.lastName),new o.default({id:e.id,fname:a,lname:l,photoUrl:e.thumbnailURL,convoCount:e.ticketCount,emails:t})}))),n}};t.default=l},5659:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.ANONYMOUS_CUSTOMER_NAME=void 0;t.ANONYMOUS_CUSTOMER_NAME="Unidentified Visitor"},5660:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ProfileDialogWithContext=t.ProfileDialog=void 0;var o=_(n(621)),a=_(n(124)),l=_(n(12)),i=n(248),u=_(n(129)),s=_(n(2)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),d=n(69),f=n(363),p=n(333),m=n(959),h=n(1644),v=_(n(972)),y=n(956),b=_(n(1698)),g=n(955),O=n(5950),w=["autoFocusEmail","canUpdate","className","customer","defaultAvatarUrl","deleteCustomerPhoto","hsdsScope","isCustomerPropertiesEnabled","isLoading","isOpen","onDismiss","onUpdateCustomer","onEdit","patchCustomerProfile","phones","highlightedProp"];function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function _(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function j(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var o=A(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=a.default.CancelToken,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(i,e);var t,n,r,a=k(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),U(T(t=a.call(this,e)),"cancelTokens",{}),U(T(t),"handleOnClose",(function(){var e=t.props.onDismiss;e&&e()})),U(T(t),"handleEscape",(function(){t.isEditing()||t.setState({isOpen:!1})})),U(T(t),"isEditing",(function(){if(!t.formNode||!t.headerNode)return!1;var e=t.formNode.querySelectorAll(":focus")||[],n=t.headerNode.querySelectorAll(":focus")||[],r=t.formNode.querySelectorAll(".EditableTextarea__ResizableTextarea.is-readonly")||[];return e.length>0||n.length>0||0===r.length})),U(T(t),"patch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=void 0===n?"":n,o=e.value,a=void 0===o?"":o;return new Promise((function(e){var n=t.props,o=n.customer.id,l=n.onUpdateCustomer,i=(0,g.getProperty)(r),u=(0,g.getPatchKey)({customerId:o,property:i});return t.cancel(u),t.customerApi.patch({customerId:o,property:i,value:a},{cancelToken:t.getCancelToken(u)}).then((function(){return l({customerId:o,property:i,value:a}),e({isValid:!0,name:r})})).catch((function(n){return e({isValid:!1,name:r,message:t.customerApi.getErrorMessage(n),type:"error"})}))}))})),U(T(t),"patchEntry",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,r=void 0===n?{}:n,o=e.name,a=void 0===o?"":o,l=e.values,i=void 0===l?[]:l;return new Promise((function(e,n){var o=t.props,l=o.customer.id,u=(o.mergeCallback,o.onUpdateCustomer),s=o.openMergeModal,c=o.updateEmails,d=(0,g.getProperty)(a),f=(0,g.getPatchEntryKey)({commit:r,customerId:l,property:d});if(t.cancel(f),(0,g.doesEmailExist)({commit:r,name:a,property:d,values:i}))return e({isValid:!1,name:a,message:"Email already exists",type:"error"});var p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.customerApi.patchEntry({commit:r,customerId:l,name:a,property:d,values:i,query:n},{cancelToken:t.getCancelToken(f)}).then((function(t){var n=t.data;if("emails"===d&&c){var o=i.filter((function(e){return e.location})),s=n?[].concat(j(o),[{_id:n.id,location:"work",value:r.item.value}]):i;c({id:l,emails:s})}return(0,g.handleCreateOrUpdateEntry)(n,(function(t){var n=t.updatedProps;return u({customerId:l,property:d,values:i}),e({isValid:!0,name:a,updatedProps:n})}))})).catch((function(n){return e({isValid:!1,name:a,message:t.customerApi.getErrorMessage(n),type:"error"})}))};if("emails"!==d)return p({});return(0,g.validateEmailInUseOnDifferentProfile)({api:t.customerApi,customer:t.props.customer,item:r.item,openMergeModal:s,resolve:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(t.isProfileDialog,t.isCancel),r=void 0!==n&&n;return r?e():e({isValid:!0,name:a})},saveCallback:p,updateEmails:c,values:i})}))})),U(T(t),"patchByDelete",(function(e){var n=e.data,r=void 0===n?{}:n,o=e.name,a=void 0===o?"":o;if("DELETE"===r.operation&&r.item&&r.item.id){var l=t.props,i=l.customer.id,u=l.onUpdateCustomer,s=(0,g.getProperty)(a),c=(0,g.getPatchKey)({customerId:i,property:s});t.cancel(c),t.customerApi.patch({customerId:i,property:s,value:""},{cancelToken:t.getCancelToken(c)}),u({customerId:i,property:s,value:""})}})),U(T(t),"deleteEntry",(function(e){var n=e.data,r=void 0===n?{}:n,o=e.name,a=void 0===o?"":o,l=e.value;if("DELETE"===r.operation&&r.item&&r.item.id){var i=t.props,u=i.customer,s=u.id,c=u.emails,d=i.onUpdateCustomer,f=i.updateEmails,p=(0,g.getProperty)(a),m=(0,g.getPatchEntryKey)({commit:r,customerId:s,property:p});if(t.cancel(m),"emails"===p&&f){r.item._id=s;var h=c.filter((function(e){return e._id!==r.item._id}));f({id:s,emails:h})}t.customerApi.deleteEntry({commit:r,customerId:s,name:a,property:p},{cancelToken:t.getCancelToken(m)}).then((function(){d({customerId:s,property:p,values:l})})).catch((function(e){return console.error(e)}))}})),U(T(t),"getActionUrl",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customerId,n=void 0===t?"":t;return"/customers/".concat(n)})),U(T(t),"patchProperty",(function(e){var n=e.name,r=e.slug,o=e.type,a=e.value;return new Promise((function(e){var l=t.props,i=l.customer,u=i.id,s=i.properties,c=l.onUpdateCustomer,d=(0,g.getProperty)(n),f=(0,g.getPatchKey)({customerId:u,property:d});return t.cancel(f),t.customerApi.patchProperty({customerId:u,slug:r,value:a},{cancelToken:t.getCancelToken(f)}).then((function(){var t={customerId:u,property:"properties",slug:r,value:a};if("dropdown"===o&&a){var l=s.find((function(e){return e.slug===r})).options.find((function(e){return e.id===a})).label;t.label=l}c(t),e({isValid:!0,name:n})})).catch((function(l){var i=t.customerApi.getErrorMessage(l);i=(0,h.convertPropertyErrorMessage)(i,r,o,a),e({isValid:!1,name:n,message:i,type:"error"})}))}))})),t.customerApi=(0,m.getCustomerApiClient)(),t.state={isOpen:t.props.isOpen||!1},t}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.customer.id!==this.props.customer.id?this.customerApi=(0,m.getCustomerApiClient)():e.isOpen!==this.props.isOpen&&this.setState({isOpen:e.isOpen})}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this.cancelTokens).forEach((function(t){return e.cancelTokens[t].cancel()}))}},{key:"cancel",value:function(e){this.cancelTokens[e]&&this.cancelTokens[e].cancel()}},{key:"getCancelToken",value:function(e){return this.cancelTokens[e]=D.source(),this.cancelTokens[e].token}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocusEmail,r=t.canUpdate,a=(t.className,t.customer),i=t.defaultAvatarUrl,s=t.deleteCustomerPhoto,d=t.hsdsScope,f=t.isCustomerPropertiesEnabled,p=t.isLoading,m=(t.isOpen,t.onDismiss,t.onUpdateCustomer,t.onEdit,t.patchCustomerProfile,t.phones),h=t.highlightedProp,g=C(t,w),P=this.state.isOpen;if(!a)return null;var _=function(e){var t=e.className;return(0,l.default)("c-ProfileDialog",t)}(this.props),j="".concat(r?"Edit":"View"," Full Profile");return c.default.createElement(O.WrapperUI,E({className:_},g,{"data-testid":"CustomersProfileDialog","data-cy":"Customers.ProfileDialog"}),c.default.createElement(O.ModalUI,{hsApp:!0,closeOnEscape:!1,closeIcon:!1,isOpen:P,onClose:this.handleOnClose,wrapperClassName:d},p&&c.default.createElement(O.LoadingUI,null),c.default.createElement(O.ModalHeaderUI,null,c.default.createElement("div",{ref:function(t){return e.headerNode=t}},!p&&c.default.createElement(y.Header,{canUpdate:r,customer:a,defaultAvatarUrl:i,deleteCustomerPhoto:s,actionLabel:j,getActionUrl:this.getActionUrl,patchCustomerProfile:this.patch,showWebsiteList:!0}),p&&c.default.createElement(b.default.Header,{"data-cy":"Customers.ProfileDialog.LoadingHeader",showWebsiteList:!0}))),c.default.createElement(O.ModalBodyUI,{isScrollLocked:!1},!p&&c.default.createElement("div",{ref:function(t){return e.formNode=t}},c.default.createElement(v.default,{autoFocusEmail:n,canUpdate:r,"data-testid":"EditProfileTab","data-cy":"Customers.ProfileDialog.EditProfile",customer:a,deleteCustomerProfileEntry:this.deleteEntry,isCustomerPropertiesEnabled:f,patchCustomerProfile:this.patch,patchCustomerProfileByDelete:this.patchByDelete,patchCustomerProfileEntry:this.patchEntry,patchCustomerProperty:this.patchProperty,phones:m,highlightedProp:h}),c.default.createElement(o.default,{handler:this.handleEscape,keyCode:u.default.ESCAPE,type:"keydown"})),p&&c.default.createElement(b.default.Body,{"data-cy":"Customers.ProfileDialog.LoadingBody"}))))}}])&&S(t.prototype,n),r&&S(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(c.Component);t.ProfileDialog=R,U(R,"propTypes",{autoFocusEmail:s.default.bool,canUpdate:s.default.bool,className:s.default.string,closeMergeModal:s.default.func,customer:s.default.object,defaultAvatarUrl:s.default.string,deleteCustomerPhoto:s.default.func,discardProfile:s.default.object,discardProperties:s.default.arrayOf(s.default.object),isCustomerPropertiesEnabled:s.default.bool,isOpen:s.default.bool,isLoading:s.default.bool,keeperProfile:s.default.object,hsdsScope:s.default.string,mergeCallback:s.default.func,mergeProfiles:s.default.func,onDismiss:s.default.func,onEdit:s.default.func,onUpdateCustomer:s.default.func,openMergeModal:s.default.func,next:s.default.func,phones:s.default.array,prev:s.default.func,updateEmails:s.default.func}),U(R,"defaultProps",{autoFocusEmail:!1,canUpdate:!0,customer:{},isOpen:!1,isLoading:!1,hsdsScope:"",onDismiss:function(){},onEdit:function(){},onUpdateCustomer:function(){},openMergeModal:function(){},phones:[]});var N={deleteCustomerPhoto:f.customerProfilePhotoDeleteApi.deleteCustomerProfilePhoto,onUpdateCustomer:f.customers.updateProperty},L=function(e){var t=(0,c.useContext)(i.GlobalContext),n=t?t.getCurrentScope():null;return c.default.createElement(R,E({},e,{hsdsScope:n}))};t.ProfileDialogWithContext=L;var F=(0,d.connect)((function(e){return{customer:p.customerProfile.customerSelector(e),defaultAvatarUrl:p.defaultAvatarUrl.defaultAvatarUrlSelector(e),isCustomerPropertiesEnabled:p.features.isCustomerPropertiesEnabledSelector(e),phones:p.selects.phonesSelector(e)}}),N)(L);t.default=F},5661:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TitleWrapperUI=t.DropdownButtonUI=t.ContentUI=t.ButtonUI=void 0;var r,o=(r=n(7))&&r.__esModule?r:{default:r},a=n(175);var l=(0,o.default)("button").withConfig({displayName:"SidebarAppcss__ButtonUI",componentId:"sc-7t6tyl-0"})(["background-color:transparent;border:none;display:inline-block;margin:0;padding:0;text-align:left;width:100%;"]);t.ButtonUI=l;var i=(0,o.default)("div").withConfig({displayName:"SidebarAppcss__ContentUI",componentId:"sc-7t6tyl-1"})(["display:",";"],(function(e){return e.isOpen?"block":"none"}));t.ContentUI=i;var u=(0,o.default)(a.MeatButton).withConfig({displayName:"SidebarAppcss__DropdownButtonUI",componentId:"sc-7t6tyl-2"})(["position:absolute;right:3px;top:9px;&&&{--buttonHeight:32px;}"]);t.DropdownButtonUI=u;var s=(0,o.default)("div").withConfig({displayName:"SidebarAppcss__TitleWrapperUI",componentId:"sc-7t6tyl-3"})(["height:50px;position:relative;"]);t.TitleWrapperUI=s},5662:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TYPES=t.PersistPropState=void 0,t.getPropertyText=function(e){if(!e.value&&e.type!==c.BOOL)return!1;switch(e.type){case c.BOOL:return function(e){return e.value?"Yes":"No"}(e);case c.DATE:return function(e){return(0,r.default)(e.value).format("MMM D, YYYY")}(e);case c.NUMBER:return String(e.value);case c.URL:return function(e){var t=e.value.replace(/^https?:\/\//,"");return 0===t.indexOf("www.")&&t.length>4?t.slice(4):t}(e);default:return e.text}},t.getPropertyTitle=function(e){var t=e.source&&e.source.name?e.source.name:"",n=e.lastUpdated?(0,r.default)(e.lastUpdated).format("".concat("MMM D, YYYY"," LT")):"";return t&&n?[t,n].join(" \n"):"".concat(t).concat(n)},t.getPropertyValue=function(e){switch(e.type){case c.URL:return function(e){var t=e.value;try{return new URL(t),t}catch(n){return"http://".concat(t)}}(e);default:return e.value}};var r=l(n(17)),o=(l(n(0)),l(n(5))),a=["slug","name"];function l(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){u(e,t,n[t])}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c={BOOL:"bool",DATE:"date",DROPDOWN:"dropdown",NUMBER:"number",TEXT:"text",URL:"url"};t.TYPES=c;var d={getInitialState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=o.default.Utils.LocalStorage.get("sidebar.props.state",[]),n=e?e.map((function(e,n){var r=e.slug,o=e.name,l=s(e,a),u=t.find((function(e){return e.slug===r}))||{};return i({slug:r,name:o,id:r,label:o,isEditModeOn:!1,order:isNaN(u.order)?n:u.order},l)})).sort((function(e,t){return e.order-t.order})):t;o.default.Utils.LocalStorage.set("sidebar.props.state",n);var r=o.default.Utils.LocalStorage.get("sidebar.props.hidden",[]);return[n,r]},saveState:function(e,t){var n=e.map((function(e,t){return i({},e,{order:t})}));return o.default.Utils.LocalStorage.set("sidebar.props.state",n),o.default.Utils.LocalStorage.set("sidebar.props.hidden",t),[n,t]}};t.PersistPropState=d},5752:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(5)),o=m(n(1)),a=m(n(70)),l=m(n(6)),i=m(n(231)),u=m(n(5753)),s=m(n(5754)),c=m(n(5758)),d=m(n(1704)),f=m(n(5761)),p=m(n(1703));function m(e){return e&&e.__esModule?e:{default:e}}var h=l.default.Layout.extend({className:"c-LeftNavView",template:u.default,regions:{foldersBox:"#folders",teamsBox:"#teamFolders",smartBox:"#smartFolders",settingsBox:"#settings"},initialize:function(e){var t=e.mailbox,n=e.folders,r=e.companyProperties,o=e.isBeacon2Enabled,a=e.isBeacon2ChatEnabled,l=e.isBeacon2ChatEnabledForMailbox,i=e.chatModel,u=e.isChatsView;Object.assign(this,{mailbox:t,folders:n,companyProperties:r,isBeacon2Enabled:o,isBeacon2ChatEnabled:a,isBeacon2ChatEnabledForMailbox:l,chatModel:i,isChatsView:u,dumbFolders:new d.default,smartFolders:new f.default,teamFolders:new f.default}),this.setSmartDumbAndTeamFolders(),this.listenTo(this.folders,"sync reset",this.setSmartDumbAndTeamFolders)},setSmartDumbAndTeamFolders:function(){this.teamFolders.reset(this.folders.filter((function(e){return e.isTeamFolder()}))).sort(),this.dumbFolders.reset(this.folders.filter((function(e){return!e.isSmartFolder()&&!e.isTeamFolder()}))),this.smartFolders.reset(this.folders.filter((function(e){return e.isSmartFolder()}))).sort()},onShow:function(){this.foldersBox.show(new s.default({collection:this.dumbFolders,mailbox:this.mailbox,type:"default",headerText:"",classes:"nav nav-stacked with-counts mailbox",isBeacon2Enabled:this.isBeacon2Enabled,isBeacon2ChatEnabled:this.isBeacon2ChatEnabled,isBeacon2ChatEnabledForMailbox:this.isBeacon2ChatEnabledForMailbox,chatModel:this.chatModel,chatStatus:hsGlobal.chatStatus,isChatsView:this.isChatsView})),this.smartFolders.length>0?this.smartBox.show(new s.default({collection:this.smartFolders,mailbox:this.mailbox,type:"smart",headerText:"Folders",chatModel:this.chatModel,chatStatus:hsGlobal.chatStatus,classes:"nav nav-stacked with-counts no-icons workflows"})):this.smartBox.close(),this.teamFolders.length>0?this.teamsBox.show(new s.default({collection:this.teamFolders,mailbox:this.mailbox,type:"teams",headerText:"Teams",chatModel:this.chatModel,chatStatus:hsGlobal.chatStatus,classes:"nav nav-stacked with-counts no-icons teams"})):this.teamsBox.close(),this.settingsBox.show(new c.default({mailbox:this.mailbox,companyProperties:this.companyProperties})),r.default.Utils.Main.initTooltips(this.$("[rel=tooltip]"),{container:"body",placement:"top"})},serializeData:function(){return{path:hsGlobal.path,mailbox:this.mailbox.toJSON(),mailboxInitials:this.mailbox.getInitials(),isBeacon2Enabled:this.isBeacon2Enabled,isBeacon2ChatEnabled:this.isBeacon2ChatEnabled,isBeacon2ChatEnabledForMailbox:this.isBeacon2ChatEnabledForMailbox}},getActiveCount:function(e){return i.default.convos.filter((function(t){var n=t.get("status")==r.default.Constants.Status.ACTIVE;return o.default.contains(e,t.get("id"))&&n})).length},decrementCurrentFolderCount:function(e){var t={};t[i.default.data.folder.getType()]=-e,this.updateFolderCounts(t)},updateFolderCounts:function(e){o.default.each(e,(function(e,t){if(t=parseInt(t,10),o.default.isNumber(e)&&0!==e){if(t==r.default.Constants.Folder.SMART){if(i.default.data.folder.isSmartFolder())var n=this.smartFolders.findWhere({id:parseInt(i.default.data.folder.get("id"),10)})}else n=this.dumbFolders.findWhere({type:t});if(n){var a=n.get("activeCount")+e;n.set("activeCount",a),i.default.data.folder.get("id")===n.get("id")&&i.default.data.folder.set("activeCount",a)}}}),this)}});a.default.mixin(h,p.default);var v=h;t.default=v},5753:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="o-flexy__item">\n        <div class="sidebar-badge">'+s("function"==typeof(l=null!=(l=d(n,"mailboxInitials")||(null!=t?d(t,"mailboxInitials"):t))?l:u)?l.call(i,{name:"mailboxInitials",hash:{},data:o,loc:{start:{line:4,column:35},end:{line:4,column:54}}}):l)+'</div>\n        <div class="o-flexy sidebar-dropdown">\n            <button id="js-app-layout__drawer-toggle" class="btn c-app-layout__drawer-toggle" rel="tooltip"\n                data-placement="bottom" data-original-title="Mailbox Menu" aria-haspopup="true">\n                <i class="icon icon-menu"></i>\n            </button>\n            <div class="sidebar-dropdown__item o-flexy__item">\n                <a class="tx-no-decoration" href="'+s("function"==typeof(l=null!=(l=d(n,"path")||(null!=t?d(t,"path"):t))?l:u)?l.call(i,{name:"path",hash:{},data:o,loc:{start:{line:11,column:50},end:{line:11,column:58}}}):l)+"mailbox/"+s(c(null!=(a=null!=t?d(t,"mailbox"):t)?d(a,"slug"):a,t))+'" title="'+s(c(null!=(a=null!=t?d(t,"mailbox"):t)?d(a,"name"):a,t))+'" data-cy="Mailbox.Sidebar.Left.Title">\n                    <h2 class="sidebar-heading"><span class="tx-truncate">'+s(c(null!=(a=null!=t?d(t,"mailbox"):t)?d(a,"name"):a,t))+'</span></h2>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div id="js-app-layout__drawer" class="c-app-layout__drawer" aria-labelledby="js-app-layout__drawer-toggle">\n        <div id="folders" class="sidebar-item"></div>\n        <div class="sidebar-extras">\n            <div id="teamFolders" class="sidebar-item"></div>\n            <div id="smartFolders" class="sidebar-item"></div>\n            <div id="settings" class="sidebar-item"></div>\n        </div>\n    </div>\n'},3:function(e,t,n,r,o){var a,l,i=e.escapeExpression,u=e.lambda,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="o-flexy__item">\n        <div class="o-flexy">\n            <button id="js-app-layout__drawer-toggle" class="btn c-app-layout__drawer-toggle" rel="tooltip"\n                data-placement="bottom" data-original-title="Mailbox Menu" aria-haspopup="true">\n                <i class="icon icon-menu"></i>\n            </button>\n            <div class="o-flexy__item">\n                <a class="tx-no-decoration" href="'+i("function"==typeof(l=null!=(l=s(n,"path")||(null!=t?s(t,"path"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"path",hash:{},data:o,loc:{start:{line:33,column:50},end:{line:33,column:58}}}):l)+"mailbox/"+i(u(null!=(a=null!=t?s(t,"mailbox"):t)?s(a,"slug"):a,t))+'" title="'+i(u(null!=(a=null!=t?s(t,"mailbox"):t)?s(a,"name"):a,t))+'" data-cy="Mailbox.Sidebar.Left.Title">\n                    <h2 class="sidebar-heading">\n                        <span class="tx-truncate">'+i(u(null!=(a=null!=t?s(t,"mailbox"):t)?s(a,"name"):a,t))+'</span>\n                    </h2>\n                </a>\n            </div>\n        </div>\n    </div>\n    <div id="js-app-layout__drawer" class="c-app-layout__drawer" aria-labelledby="js-app-layout__drawer-toggle">\n        <div id="folders" class="sidebar-item"></div>\n        <div id="teamFolders" class="sidebar-item"></div>\n        <div id="smartFolders" class="sidebar-item"></div>\n        <div id="settings" class="sidebar-item"></div>\n    </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="c-app-layout__sub-menu">\n'+(null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isBeacon2ChatEnabledForMailbox"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:4},end:{line:47,column:11}}}))?a:"")+"</div>\n"},useData:!0})},5754:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(996),o=i(n(6)),a=i(n(5755)),l=i(n(5757));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.CompositeView.extend({itemView:a.default,template:l.default,itemViewContainer:"ul",initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.headerText,n=e.mailbox,r=e.classes,o=e.isBeacon2Enabled,a=e.isBeacon2ChatEnabled,l=e.isBeacon2ChatEnabledForMailbox,i=e.chatModel,u=e.chatStatus,s=e.isChatsView;Object.assign(this,{headerText:t,mailbox:n,classes:r,isBeacon2Enabled:o,isBeacon2ChatEnabled:a,isBeacon2ChatEnabledForMailbox:l,chatModel:i,chatStatus:u,isChatsView:s}),this.listenTo(this.chatModel,"change",this.render)},itemViewOptions:function(){return{mailbox:this.mailbox,isBeacon2Enabled:this.isBeacon2Enabled,isBeacon2ChatEnabled:this.isBeacon2ChatEnabled,isChatsView:this.isChatsView}},getChatStatus:function(){return this.chatModel.get("chatStatus")||this.chatStatus},getUnassignedCount:function(){return this.chatModel.get("unassignedCount")||0},shouldShowStatusDot:function(){var e=this.getChatStatus();if(0===this.getUnassignedCount())return!1;var t=e.status,n=void 0===t?r.CHAT_STATUS_UNAVAILABLE:t,o=e.mailboxes,a=void 0===o?{}:o;return n===r.CHAT_STATUS_CUSTOM?a[this.mailbox.id]===r.CHAT_STATUS_AVAILABLE:n===r.CHAT_STATUS_AVAILABLE},shouldShowChatsMenuItem:function(){return this.isBeacon2ChatEnabledForMailbox&&hsGlobal.memberPermissions.chatWithCustomers},serializeData:function(){var e=this.chatModel.toJSON(),t=e.count;return Object.assign(o.default.CompositeView.prototype.serializeData.apply(this,arguments),{headerText:this.headerText,classes:this.classes,isBeacon2ChatEnabled:this.isBeacon2ChatEnabled,isBeacon2ChatEnabledForMailbox:this.isBeacon2ChatEnabledForMailbox,mailboxSlug:this.mailbox.get("slug"),primaryCount:t,showChatStatusDot:this.shouldShowStatusDot(),primaryCountLabel:t>0?t:"",isChatsView:this.isChatsView,shouldShowChatsMenuItem:this.shouldShowChatsMenuItem()})}});t.default=u},5755:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5)),o=c(n(1)),a=c(n(20)),l=c(n(6)),i=c(n(231)),u=c(n(5756)),s=c(n(953));function c(e){return e&&e.__esModule?e:{default:e}}var d=l.default.ItemView.extend({template:u.default,tagName:"li",ui:{link:"a.folder"},events:{"click @ui.link":"onClick","click a.trash":"confirmEmptySpam"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mailbox,n=e.isBeacon2Enabled,r=e.isBeacon2ChatEnabled,l=e.isChatsView;Object.assign(this,{mailbox:t,isBeacon2Enabled:n,isBeacon2ChatEnabled:r,isChatsView:l}),this.listenTo(i.default.state,"change:folderId",this.render),this.reloadDebounced=o.default.debounce(o.default.bind(a.default.history.loadUrl,a.default.history),1e3,!0),this.model.startRealtime(),this.listenTo(this.model,"change",this.render);var u="folder:".concat(this.model.get("type"));this.listenTo(s.default,u,(function(){this.ui.link.click()}))},render:function(){return l.default.ItemView.prototype.render.apply(this,arguments)},onRender:function(){this.$el.toggleClass("active",this.shouldShowActiveClass()),this.model.get("type")===r.default.Constants.Folder.DELETED&&this.$el.toggle(this.model.get("id")==i.default.data.folder.get("id"));var e=this.model,t=e.toJSON(),n=e.getDisplayCount();(e.isDrafts()||e.isNeedsAttn())&&0==n&&0==t.totalCount?this.$el.addClass("hide"):(this.$el.removeClass("hide"),this.$el.addClass(e.getIconClass()).attr("data-type",e.get("type")))},onClose:function(){this.model.stopRealtime()},shouldShowActiveClass:function(){return!this.isChatsView&&this.model.get("id")==i.default.data.folder.get("id")},serializeData:function(){var e=this.model.toJSON();e.isNeedsAttn=this.model.isNeedsAttn(),e.showActiveCount=!1,e.isShowEmptySpam=!1;var t=this.model.getDisplayCount(),n=this.model.isSpam();return(n&&e.id!=i.default.data.folder.get("id")&&t>0||!n&&!this.model.isClosed()&&t>0)&&(e.showActiveCount=!0),n&&e.totalCount>0&&e.id==i.default.data.folder.get("id")&&hsGlobal.memberPermissions.deleteConversations&&(e.isShowEmptySpam=!0),e.iconClass=this.model.getIconClass(),{titleText:1===t?"Active Conversation":"Active Conversations",displayCount:t,memberIsAdmin:appData.member.isAdmin,folder:e,path:hsGlobal.path,mailbox:this.mailbox.toJSON(),isBeacon2Enabled:this.isBeacon2Enabled,isBeacon2ChatEnabled:this.isBeacon2ChatEnabled}},onClick:function(e){e.metaKey||e.ctrlKey||"folder"===i.default.layout.id&&i.default.data.folder.get("id")==this.model.get("id")&&(this.reloadDebounced(),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},confirmEmptySpam:function(){r.default.Utils.Main.confirmDelete("Empty the spam folder?",(function(){i.default.trigger("empty-spam")}))}});t.default=d},5756:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o){return""},3:function(e,t,n,r,o){return" no-active"},5:function(e,t,r,a,l){var i,u=e.lambda,s=e.escapeExpression,c=null!=t?t:e.nullContext||{},d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <i class="icon-attn"></i>\n        <span class="attn u-d-inline-block menu-title">'+s(u(null!=(i=null!=t?d(t,"folder"):t)?d(i,"name"):i,t))+'</span>\n        <span class="badge attn" title="'+s(u(null!=(i=null!=t?d(t,"folder"):t)?d(i,"totalCount"):i,t))+" Conversation"+(null!=(i=o(n(10)).call(c,null!=(i=null!=t?d(t,"folder"):t)?d(i,"totalCount"):i,"!=",1,{name:"ifCond",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l,loc:{start:{line:5,column:74},end:{line:5,column:122}}}))?i:"")+'">'+s(o(n(24)).call(c,null!=(i=null!=t?d(t,"folder"):t)?d(i,"totalCount"):i,{name:"formatNumber",hash:{},data:l,loc:{start:{line:5,column:124},end:{line:5,column:158}}}))+"</span>\n"},6:function(e,t,n,r,o){return"s"},8:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <i class="icon-folder"></i>\n        <span class="menu-title">'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"folder"):t)?l(a,"name"):a,t))+"</span>\n"+(null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"folder"):t)?l(a,"showActiveCount"):a,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:8},end:{line:21,column:15}}}))?a:"")},9:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(r,"if").call(u,null!=(i=null!=t?s(t,"folder"):t)?s(i,"isSmartFolder"):i,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l,loc:{start:{line:10,column:12},end:{line:17,column:19}}}))?i:"")+(null!=(i=o(n(10)).call(u,null!=(i=null!=t?s(t,"folder"):t)?s(i,"isSmartFolder"):i,"!==",!0,{name:"ifCond",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l,loc:{start:{line:18,column:12},end:{line:20,column:23}}}))?i:"")},10:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=o(n(10)).call(u,null!=t?s(t,"displayCount"):t,">",1e4,{name:"ifCond",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l,loc:{start:{line:11,column:16},end:{line:13,column:27}}}))?i:"")+(null!=(i=o(n(10)).call(u,null!=t?s(t,"displayCount"):t,"<=",1e4,{name:"ifCond",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l,loc:{start:{line:14,column:16},end:{line:16,column:27}}}))?i:"")},11:function(e,t,n,r,o){return'                    <span class="badge" title="Over 10,000 Active Conversations">10,000+</span>\n'},13:function(e,t,r,a,l){var i=null!=t?t:e.nullContext||{},u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <span class="badge" title="'+u(o(n(24)).call(i,null!=t?s(t,"displayCount"):t,{name:"formatNumber",hash:{},data:l,loc:{start:{line:15,column:47},end:{line:15,column:76}}}))+" "+u(e.lambda(null!=t?s(t,"titleText"):t,t))+'">'+u(o(n(24)).call(i,null!=t?s(t,"displayCount"):t,{name:"formatNumber",hash:{},data:l,loc:{start:{line:15,column:92},end:{line:15,column:121}}}))+"</span>\n"},15:function(e,t,r,a,l){var i=null!=t?t:e.nullContext||{},u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <span class="badge" title="'+u(o(n(24)).call(i,null!=t?s(t,"displayCount"):t,{name:"formatNumber",hash:{},data:l,loc:{start:{line:19,column:43},end:{line:19,column:72}}}))+" "+u(e.lambda(null!=t?s(t,"titleText"):t,t))+'">'+u(o(n(24)).call(i,null!=t?s(t,"displayCount"):t,{name:"formatNumber",hash:{},data:l,loc:{start:{line:19,column:88},end:{line:19,column:117}}}))+"</span>\n"},17:function(e,t,n,r,o){return'<a href="javascript:void(0)" class="trash no-active"><i class="icon-delete" rel="tooltip" data-placement="bottom" data-container="#wrap" data-original-title="Empty Spam"></i></a>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+i(l(null!=t?s(t,"path"):t,t))+"mailbox/"+i(l(null!=(a=null!=t?s(t,"mailbox"):t)?s(a,"slug"):a,t))+"/"+i(l(null!=(a=null!=t?s(t,"folder"):t)?s(a,"id"):a,t))+'/" class="folder'+(null!=(a=s(n,"if").call(u,null!=(a=null!=t?s(t,"folder"):t)?s(a,"showActiveCount"):a,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:71},end:{line:1,column:126}}}))?a:"")+'">\n'+(null!=(a=s(n,"if").call(u,null!=(a=null!=t?s(t,"folder"):t)?s(a,"isNeedsAttn"):a,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:2,column:4},end:{line:22,column:11}}}))?a:"")+"</a>\n"+(null!=(a=s(n,"if").call(u,null!=(a=null!=t?s(t,"folder"):t)?s(a,"isShowEmptySpam"):a,{name:"if",hash:{},fn:e.program(17,o,0),inverse:e.noop,data:o,loc:{start:{line:24,column:0},end:{line:26,column:7}}}))?a:"")},useData:!0})},5757:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="chat '+(null!=(a=c(n,"if").call(i,null!=t?c(t,"isChatsView"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:24},end:{line:4,column:56}}}))?a:"")+'" data-type="0">\n            <a href="/mailbox/'+s("function"==typeof(l=null!=(l=c(n,"mailboxSlug")||(null!=t?c(t,"mailboxSlug"):t))?l:u)?l.call(i,{name:"mailboxSlug",hash:{},data:o,loc:{start:{line:5,column:30},end:{line:5,column:45}}}):l)+'/chats" class="folder c-SidebarNavItemLink">\n                <span class="chat-new"></span>\n                <i class="icon-chat">\n'+(null!=(a=c(n,"if").call(i,null!=t?c(t,"showChatStatusDot"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:20},end:{line:10,column:27}}}))?a:"")+'                </i>\n                <span class="menu-title">Chats</span>\n                <span class="badge" title="'+s("function"==typeof(l=null!=(l=c(n,"primaryCount")||(null!=t?c(t,"primaryCount"):t))?l:u)?l.call(i,{name:"primaryCount",hash:{},data:o,loc:{start:{line:13,column:43},end:{line:13,column:59}}}):l)+' Active Chats">'+s("function"==typeof(l=null!=(l=c(n,"primaryCountLabel")||(null!=t?c(t,"primaryCountLabel"):t))?l:u)?l.call(i,{name:"primaryCountLabel",hash:{},data:o,loc:{start:{line:13,column:74},end:{line:13,column:95}}}):l)+"</span>\n            </a>\n        </li>\n"},2:function(e,t,n,r,o){return"active"},4:function(e,t,n,r,o){return'                        <span class="c-StatusDot is-withIcon is-inSidebar"></span>\n'},6:function(e,t,n,r,o){return'    <div class="folder sidebar-more u-mrg-t-4">\n        <i class="icon-more"></i>\n    </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="'+s("function"==typeof(l=null!=(l=c(n,"classes")||(null!=t?c(t,"classes"):t))?l:u)?l.call(i,{name:"classes",hash:{},data:o,loc:{start:{line:1,column:11},end:{line:1,column:22}}}):l)+'">\n    <div class="mb-folder-heading">'+s("function"==typeof(l=null!=(l=c(n,"headerText")||(null!=t?c(t,"headerText"):t))?l:u)?l.call(i,{name:"headerText",hash:{},data:o,loc:{start:{line:2,column:35},end:{line:2,column:49}}}):l)+"</div>\n"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"shouldShowChatsMenuItem"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:4},end:{line:16,column:11}}}))?a:"")+"</ul>\n"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"shouldShowChatsMenuItem"):t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:0},end:{line:22,column:7}}}))?a:"")},useData:!0})},5758:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(5)),o=u(n(6)),a=u(n(231)),l=u(n(5759)),i=u(n(953));function u(e){return e&&e.__esModule?e:{default:e}}var s=o.default.ItemView.extend({template:l.default,tagName:"div",ui:{settings:".js-settings",newConvo:".js-new-convo-link"},className:"s-folder-nav-settings",initialize:function(e){this.mailbox=e.mailbox,this.companyProperties=e.companyProperties},onShow:function(){this.mailbox.get("isDemo")||(this.showSettings&&this.$el.addClass("admin"),r.default.Utils.dropdownEscapeSetup(this.ui.settings,"MailboxSettings")),this.listenTo(i.default,"newConvo",(function(){this.ui.newConvo.click()}))},serializeData:function(){return{mailbox:this.mailbox.toJSON(),path:hsGlobal.path,folderId:a.default.data.folder.get("id"),perms:this.companyProperties.getPermissionsJson(appData.member),showWorkflowsPaidLabel:appData.company.showWorkflowsPaidLabel,showRatingsPaidLabel:appData.company.showRatingsPaidLabel,showCustomFieldsPlusPromo:appData.company.showCustomFieldsPlusPromo,showAutoReply:hsGlobal.isAutoReplyEnabled}}});t.default=s},5759:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="js-settings dropdown-wrapper dropdown with-popper dropup">\n                <a class="sidebar-button dropdown-toggle" data-toggle="dropdown" href="#" rel="tooltip"\n                   aria-label="mailbox settings"\n                   data-placement="top" aria-haspopup="true" aria-expanded="false" title="Mailbox Settings (,)"\n                   data-container="#wrap"><i class="icon-gear"></i><b\n                        class="caret"></b></a>\n                <div class="popperContainer">\n                    <ul class="dropdown-menu" role="menu">\n'+(null!=(i=s(r,"if").call(u,null!=(i=null!=t?s(t,"perms"):t)?s(i,"isAdmin"):i,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:12,column:24},end:{line:15,column:31}}}))?i:"")+(null!=(i=o(n(10)).call(u,null!=(i=null!=t?s(t,"perms"):t)?s(i,"isWorkflows"):i,"||",null!=t?s(t,"showWorkflowsPaidLabel"):t,{name:"ifCond",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l,loc:{start:{line:16,column:24},end:{line:20,column:35}}}))?i:"")+(null!=(i=s(r,"if").call(u,null!=(i=null!=t?s(t,"perms"):t)?s(i,"isSavedReplies"):i,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l,loc:{start:{line:21,column:24},end:{line:24,column:31}}}))?i:"")+(null!=(i=s(r,"if").call(u,null!=(i=null!=t?s(t,"perms"):t)?s(i,"canManageCustomFields"):i,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l,loc:{start:{line:25,column:24},end:{line:28,column:31}}}))?i:"")+(null!=(i=s(r,"if").call(u,null!=t?s(t,"showCustomFieldsPlusPromo"):t,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l,loc:{start:{line:29,column:24},end:{line:33,column:31}}}))?i:"")+(null!=(i=s(r,"if").call(u,null!=(i=null!=t?s(t,"perms"):t)?s(i,"isAdmin"):i,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l,loc:{start:{line:34,column:24},end:{line:37,column:31}}}))?i:"")+(null!=(i=s(r,"if").call(u,null!=(i=null!=t?s(t,"perms"):t)?s(i,"isAdmin"):i,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l,loc:{start:{line:38,column:24},end:{line:41,column:31}}}))?i:"")+(null!=(i=o(n(10)).call(u,null!=t?s(t,"showAutoReply"):t,"&&",null!=(i=null!=t?s(t,"perms"):t)?s(i,"isAdmin"):i,{name:"ifCond",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l,loc:{start:{line:42,column:24},end:{line:45,column:35}}}))?i:"")+(null!=(i=s(r,"if").call(u,null!=(i=null!=t?s(t,"perms"):t)?s(i,"isAdmin"):i,{name:"if",hash:{},fn:e.program(19,l,0),inverse:e.noop,data:l,loc:{start:{line:46,column:24},end:{line:51,column:31}}}))?i:"")+"                    </ul>\n                </div>\n            </div>\n        "},2:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/mailbox/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" tabindex="-1"\n                                   data-cy="MailboxSettings.Sidebar.EditMailbox">Edit Mailbox</a></li>\n'},4:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/workflows/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/"\n                                   tabindex="-1">Workflows'+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"showWorkflowsPaidLabel"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:58},end:{line:19,column:96}}}))?a:"")+"</a></li>\n"},5:function(e,t,n,r,o){return'<span\n                                    class="badge info standard u-mrg-l-2">Standard</span>'},7:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/saved-replies/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" tabindex="-1">Saved Replies</a>\n                            </li>\n'},9:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/custom-fields/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" tabindex="-1">Custom Fields</a>\n                            </li>\n'},11:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/custom-fields/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" tabindex="-1">Custom Fields\n                                <span\n                                        class="badge plus u-mrg-l-2 t-bg-indigo-500">Plus</span></a></li>\n'},13:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/outgoing-email/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" tabindex="-1">Outgoing\n                                Email</a></li>\n'},15:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/permissions/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" tabindex="-1">Permissions</a>\n                            </li>\n'},17:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/mailbox/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/auto-reply/" tabindex="-1">Auto\n                                Reply</a></li>\n'},19:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                            <li><a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/mailbox/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/satisfaction-ratings/" tabindex="-1">Satisfaction\n                                Ratings'+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"showRatingsPaidLabel"):t,{name:"if",hash:{},fn:e.program(20,o,0),inverse:e.noop,data:o,loc:{start:{line:48,column:39},end:{line:49,column:102}}}))?a:"")+"</a>\n                            </li>\n"},20:function(e,t,n,r,o){return'\n                                    <span class="badge info standard u-mrg-l-2">Standard</span>'},22:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" \n"+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"perms"):t)?i(a,"canManageCustomFields"):a,{name:"if",hash:{},fn:e.program(23,o,0),inverse:e.noop,data:o,loc:{start:{line:56,column:12},end:{line:60,column:19}}}))?a:"")+"\n"+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"perms"):t)?i(a,"isSavedReplies"):a,{name:"if",hash:{},fn:e.program(25,o,0),inverse:e.noop,data:o,loc:{start:{line:62,column:12},end:{line:66,column:19}}}))?a:"")+"\n"+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"perms"):t)?i(a,"isWorkflows"):a,{name:"if",hash:{},fn:e.program(27,o,0),inverse:e.noop,data:o,loc:{start:{line:68,column:12},end:{line:72,column:19}}}))?a:"")},23:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/custom-fields/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" class="sidebar-button" rel="tooltip"\n                   data-placement="top"\n                   title="Manage Custom Fields"><i class="icon-gear"></i></a>\n'},25:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/saved-replies/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" class="sidebar-button" rel="tooltip"\n                   data-placement="top"\n                   title="Manage Saved Replies"><i class="icon-gear"></i></a>\n'},27:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/workflows/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" class="sidebar-button" rel="tooltip"\n                   data-placement="top"\n                   title="Manage Workflows"><i class="icon-gear"></i></a>\n'},29:function(e,t,r,o,a){var l;return null!=(l=e.invokePartial(n(5760),t,{name:"../partials/newConvoBtn",data:a,indent:"            ",helpers:r,partials:o,decorators:e.decorators}))?l:""},31:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li>\n                <a href="'+i(l(null!=t?u(t,"path"):t,t))+"settings/mailbox/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"id"):a,t))+'/" data-cy="MailboxSettings.Sidebar.EditMailbox">\n                    <i class="icon icon-gear"></i>\n                    Edit Mailbox\n                </a>\n            </li>\n'},33:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li>\n                <a class="js-new-convo-link" href="'+i(l(null!=t?u(t,"path"):t,t))+"mailbox/"+i(l(null!=(a=null!=t?u(t,"mailbox"):t)?u(a,"slug"):a,t))+"/new-ticket/"+i(l(null!=t?u(t,"folderId"):t,t))+'/"\n                   rel="tooltip"\n                   data-container="#wrap" data-placement="bottom" title="New Conversation (gn)">\n                    <i class="icon icon-convo-new"></i>\n                    New Conversation\n                </a>\n            </li>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="u-d-none u-d-block@lg">\n    <div class="sidebar-buttons">\n'+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"perms"):t)?i(a,"shouldShowMailboxSettingsDropdown"):a,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(22,o,0),data:o,loc:{start:{line:3,column:8},end:{line:73,column:15}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"perms"):t)?i(a,"canCreateConversations"):a,{name:"if",hash:{},fn:e.program(29,o,0),inverse:e.noop,data:o,loc:{start:{line:74,column:8},end:{line:76,column:15}}}))?a:"")+'    </div>\n</div>\n<div class="u-d-none@lg">\n    <ul class="nav nav-stacked">\n'+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"perms"):t)?i(a,"shouldShowMailboxSettingsDropdown"):a,{name:"if",hash:{},fn:e.program(31,o,0),inverse:e.noop,data:o,loc:{start:{line:81,column:8},end:{line:88,column:15}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"perms"):t)?i(a,"canCreateConversations"):a,{name:"if",hash:{},fn:e.program(33,o,0),inverse:e.noop,data:o,loc:{start:{line:89,column:8},end:{line:98,column:15}}}))?a:"")+"    </ul>\n</div>\n"},usePartial:!0,useData:!0})},5760:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a id=\'newConvoBtn\' class="sidebar-button js-new-convo-link" href="'+s("function"==typeof(l=null!=(l=c(n,"path")||(null!=t?c(t,"path"):t))?l:u)?l.call(i,{name:"path",hash:{},data:o,loc:{start:{line:1,column:67},end:{line:1,column:75}}}):l)+"mailbox/"+s(e.lambda(null!=(a=null!=t?c(t,"mailbox"):t)?c(a,"slug"):a,t))+"/new-ticket/"+s("function"==typeof(l=null!=(l=c(n,"folderId")||(null!=t?c(t,"folderId"):t))?l:u)?l.call(i,{name:"folderId",hash:{},data:o,loc:{start:{line:1,column:111},end:{line:1,column:123}}}):l)+'/" rel="tooltip" aria-label="new conversation" data-container="#wrap" data-placement="top" title="New Conversation (gn)"><i class="icon-convo-new"></i></a>\n'},useData:!0})},5761:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1704))&&r.__esModule?r:{default:r}).default.extend({comparator:function(e){return e.get("name").toLowerCase()||" "}});t.default=o},5762:function(e,t,n){(function(e){window;!function(e,t){function n(t,n){var r,o=this,a=(n=n||{}).query||"> :even";e.extend(o,{$el:t,options:n,sections:[],isAccordion:n.accordion||!1,db:!!n.persist&&jQueryCollapseStorage(t.get(0).id)}),o.states=o.db?o.db.read():[],o.$el.find(a).each((function(){new jQueryCollapseSection(e(this),o)})),r=o,o.$el.on("click","[data-collapse-summary] "+(r.options.clickQuery||""),e.proxy(o.handleClick,r)),o.$el.bind("toggle close open",e.proxy(o.handleEvent,r))}function r(t,n){n.options.clickQuery||t.wrapInner('<a href="#"/>'),e.extend(this,{isOpen:!1,$summary:t.attr("data-collapse-summary",""),$details:t.next(),options:n.options,parent:n}),n.sections.push(this);var r=n.states[this._index()];0===r?this.close(!0):this.$summary.is(".open")||1===r?this.open(!0):this.close(!0)}n.prototype={handleClick:function(t,n){t.preventDefault(),n=n||"toggle";for(var r=this.sections,o=r.length;o--;)if(e.contains(r[o].$summary[0],t.target)){r[o][n]();break}},handleEvent:function(e){if(e.target==this.$el.get(0))return this[e.type]();this.handleClick(e,e.type)},open:function(e){this._change("open",e)},close:function(e){this._change("close",e)},toggle:function(e){this._change("toggle",e)},_change:function(t,n){if(isFinite(n))return this.sections[n][t]();e.each(this.sections,(function(e,n){n[t]()}))}},r.prototype={toggle:function(){this.isOpen?this.close():this.open()},close:function(e){this._changeState("close",e)},open:function(t){this.options.accordion&&!t&&e.each(this.parent.sections,(function(e,t){t.close()})),this._changeState("open",t)},_index:function(){return e.inArray(this,this.parent.sections)},_changeState:function(t,n){this.isOpen="open"==t,e.isFunction(this.options[t])&&!n?this.options[t].apply(this.$details):this.$details[this.isOpen?"show":"hide"](),this.$summary.toggleClass("open","close"!==t),this.$details.attr("aria-hidden","close"===t),this.$summary.attr("aria-expanded","open"===t),this.$summary.trigger("open"===t?"opened":"closed",this),this.parent.db&&this.parent.db.write(this._index(),this.isOpen)}},e.fn.extend({collapse:function(t,r){return(r?e("body").find("[data-collapse]"):e(this)).each((function(){var o=r?{}:t,a=e(this).attr("data-collapse")||"";e.each(a.split(" "),(function(e,t){t&&(o[t]=!0)})),new n(e(this),o)}))}}),e((function(){e.fn.collapse(!1,!0)})),t.jQueryCollapse=n,t.jQueryCollapseSection=r}(window.jQuery,window),function(e){function t(e,t){this.id=e,this.db=t,this.data=[]}t.prototype={write:function(t,n){var r=this;r.data[t]=n?1:0,e.each(r.data,(function(e){void 0===r.data[e]&&(r.data[e]=0)}));var o=this._getDataObject();o[this.id]=this.data,this.db.setItem("jQuery-Collapse",JSON.stringify(o))},read:function(){return this._getDataObject()[this.id]||[]},_getDataObject:function(){var e=this.db.getItem("jQuery-Collapse");return e?JSON.parse(e):{}}}}(e)}).call(this,n(8))},5763:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(154));function a(e){return e&&e.__esModule?e:{default:e}}var l=o.default.extend({url:function(){return"".concat(hsGlobal.path,"api/v0/customers/").concat(this.customer.id,"/recent")},initialize:function(e,t){this.customer=t.customer,this.excludeTicketId=t.excludeTicketId},fetch:function(e){return(e=e||{}).data=r.default.extend({},e.data,{ticketId:this.excludeTicketId}),o.default.prototype.fetch.call(this,e)}});t.default=l},5764:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<section class="box">\n    <div id="sidebarProfile"></div>\n    <div class="apps-history">\n        <div id="properties" class="js-properties"></div>\n        <div id="history" class="js-history"></div>\n        <div id="apps" class="js-apps"></div>\n    </div>\n</section>\n'},useData:!0})},5765:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=P(n(5)),a=P(n(8));n(44);var l=P(n(6)),i=P(n(5649)),u=P(n(5554)),s=P(n(5573)),c=P(n(5774)),d=P(n(5776)),f=P(n(5778)),p=P(n(5783)),m=P(n(5785)),h=P(n(5788)),v=P(n(5800)),y=P(n(5842)),b=P(n(5882)),g=P(n(5884)),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(1761));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function P(e){return e&&e.__esModule?e:{default:e}}e.exports=l.default.CollectionView.extend({itemView:i.default,tagName:"ul",className:"apps-history__data",emptyView:b.default,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mailbox,n=e.member,r=e.customer,o=e.ticket;Object.assign(this,{mailbox:t,member:n,customer:r,ticket:o})},buildItemView:function(e){if(!this.collection.length)return new b.default;var t={member:!1,model:e,mailbox:this.mailbox,ticket:this.ticket,customer:this.customer};if(e.isStatic())return t.member=this.member,new i.default(t);switch(e.get("slug")){case O.APP_CAPSULE:case O.APP_HIGHRISE:case O.APP_PIPEDRIVE:case O.APP_PIPELINE_DEALS:return new s.default(t);case O.APP_JIRA:return t.model.set("name","Jira"),new v.default(t);case O.APP_SALESFORCE:return new h.default(t);case O.APP_HELPSCOUT:return new c.default(t);case O.APP_SENTRY:return new d.default(t);case O.APP_MAILCHIMP:case O.APP_CAMPAIGN_MONITOR:case O.APP_CONSTANT_CONTACT:return new f.default(t);case O.APP_MAGENTO:case O.APP_BIGCOMMERCE:case O.APP_SHOPIFY:case O.APP_WOOCOMMERCE:case O.APP_BRONTO:return new p.default(t);case O.APP_MIXPANEL:return new m.default(t);case O.APP_HUBSPOT:return new y.default(t);case O.APP_INFUSIONSOFT:return new g.default(t);default:return new u.default(t)}},onShow:function(){this.$el.sortable({axis:"y",containment:"parent",cursor:"move",handle:".js-iconMove",helper:this.getHelper,placeholder:"sortable-placeholder",start:this.onSortStart.bind(this),tolerance:"pointer",update:this.onUpdate.bind(this)})},getHelper:function(){var e=(0,a.default)("<h1></h1>");return e.css({height:"20px",width:"240px"}),e},onSortStart:function(e,t){var n=t.item.find("h1").text();t.helper.text(n),this.$el.sortable("refreshPositions")},onUpdate:function(){var e=this.$el.sortable("toArray");o.default.Utils.LocalStorage.set("sidebar.plugin-order",e)}})},5766:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" class="expand js-toggleApp '+u("function"==typeof(a=null!=(a=s(n,"openedState")||(null!=t?s(t,"openedState"):t))?a:i)?a.call(l,{name:"openedState",hash:{},data:o,loc:{start:{line:1,column:39},end:{line:1,column:54}}}):a)+'">\n    <h1>\n        <i class="js-iconMove icon-dragdrop" /></i>\n        '+u("function"==typeof(a=null!=(a=s(n,"name")||(null!=t?s(t,"name"):t))?a:i)?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:4,column:8},end:{line:4,column:16}}}):a)+'\n    </h1>\n</a>\n<div id="sidebar_v2" class="inner js-content content">\n    <p>Loading. Please wait...</p>\n</div>\n'},useData:!0})},5767:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<h1 style="color:red;">DEBUG MODE</h1><a href="javascript:void(0)" class="debug">View Debugger</a><br><br>'},useData:!0})},5768:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<html>\n<head>\n\t<style>body { font-family:"helvetica neue", helvetica, arial, sans-serif; padding:10px 15px; } li {font-size: small} h3 { margin-bottom:5px; }</style>\n</head>\n<body>\n\t<h2>App Debugger</h2>\n\t<ul>\n\t\t<li>The Debug Url gives you the chance to debug against a non-HTTPS url, if needed. If no debug url is set, the request will be sent to the callback url you specified in the app settings.</li> \n\t\t<li>Changes made to the request body values below will be sent to your server</li>\n\t</ul> \n\t<h3>Debug Url</h3>\n\t<input type="text" style="width:250px" name="url" id="url">&nbsp;<a href="javascript:void(0)">Refresh</a>\n\t\n\t<h3>Request Headers</h3>\n\t<textarea style="width:100%" id="reqHeaders" rows=10>'+u("function"==typeof(a=null!=(a=s(n,"reqHeaders")||(null!=t?s(t,"reqHeaders"):t))?a:i)?a.call(l,{name:"reqHeaders",hash:{},data:o,loc:{start:{line:15,column:54},end:{line:15,column:68}}}):a)+'</textarea>\n\t\n\t<h3>Request Body</h3>\n\t<textarea style="width:100%" id="reqBody" rows=10>'+u("function"==typeof(a=null!=(a=s(n,"reqBody")||(null!=t?s(t,"reqBody"):t))?a:i)?a.call(l,{name:"reqBody",hash:{},data:o,loc:{start:{line:18,column:51},end:{line:18,column:62}}}):a)+'</textarea>\n\t    \t    \t\n\t<h3>Response Headers</h3>\n\t<textarea id="resHeaders" style="width:100%" rows=10>'+u("function"==typeof(a=null!=(a=s(n,"resHeaders")||(null!=t?s(t,"resHeaders"):t))?a:i)?a.call(l,{name:"resHeaders",hash:{},data:o,loc:{start:{line:21,column:54},end:{line:21,column:68}}}):a)+'</textarea>\n\t\n\t<h3>Response Body</h3>\n\t<textarea id="resBody" style="width:100%" rows=10>'+u("function"==typeof(a=null!=(a=s(n,"resBody")||(null!=t?s(t,"resBody"):t))?a:i)?a.call(l,{name:"resBody",hash:{},data:o,loc:{start:{line:24,column:51},end:{line:24,column:62}}}):a)+"</textarea>\n</body>\n</html>"},useData:!0})},5769:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="addToCrm u-mrg-t-2">\n\t<a href="javascript:void(0);" class="c-button c-button--sidebar">Add to '+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"name")||(null!=t?l(t,"name"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:o,loc:{start:{line:2,column:73},end:{line:2,column:81}}}):a)+'</a>\n\t<span style="display: none" class="spinner" id="crmSpinner"></span>\n</p>\n'},useData:!0})},5770:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<section class="tags muted">\n\t\t<i class="icon-tag muted"></i>\n\t\t<span>'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"data"):t)?l(a,"tags"):a,t))+"</span>\n\t</section>\n"},3:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<p class="deal"><a href="'+l(a(null!=t?i(t,"url"):t,t))+'" target="_blank">$'+l(a(null!=t?i(t,"value"):t,t))+" "+l(a(null!=t?i(t,"name"):t,t))+"</a></p>\n"},5:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <ul class="c-sb-list c-sb-list--two-line">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"data"):t)?l(a,"fields"):a,{name:"each",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:13,column:1},end:{line:22,column:10}}}))?a:"")+"\t</ul>\n"},6:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<li class="c-sb-list-item">\n\t\t\t<span class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t  \t'+l(a(null!=t?i(t,"name"):t,t))+'\n\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t  '+l(a(null!=t?i(t,"text"):t,t))+"\n\t\t\t</span>\n\t\t</span>\n\t\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,o,a){var l,i,u=e.escapeExpression,s=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h5><a href="'+u(e.lambda(null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"profile"):l)?c(l,"url"):l,t))+'" target="_blank">'+u((i=n(1566),i&&(i.__esModule?i.default:i)).call(s,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"profile"):l)?c(l,"name"):l,{name:"possessive",hash:{},data:a,loc:{start:{line:1,column:51},end:{line:1,column:83}}}))+" Profile</a></h5>\n"+(null!=(l=c(r,"if").call(s,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"tags"):l)?c(l,"length"):l,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:7,column:7}}}))?l:"")+(null!=(l=c(r,"each").call(s,null!=(l=null!=t?c(t,"data"):t)?c(l,"deals"):l,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:8,column:0},end:{line:10,column:9}}}))?l:"")+(null!=(l=c(r,"if").call(s,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"fields"):l)?c(l,"length"):l,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:11,column:0},end:{line:24,column:7}}}))?l:"")},useData:!0})},5771:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <section class="tags muted">\n    <i class="icon-tag muted"></i>\n    <span>'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"data"):t)?l(a,"tags"):a,t))+"</span>\n  </section>\n"},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <ul class="c-sb-list c-sb-list--two-line">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"data"):t)?l(a,"fields"):a,{name:"each",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:2},end:{line:21,column:11}}}))?a:"")+"\t</ul>\n"},4:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<li class="c-sb-list-item">\n\t\t\t\t<span class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t\t\t\t'+l(a(null!=t?i(t,"name"):t,t))+'\n\t\t\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t\t\t'+l(a(null!=t?i(t,"text"):t,t))+"\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,o,a){var l,i,u=e.escapeExpression,s=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h5><a href="'+u(e.lambda(null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"profile"):l)?c(l,"url"):l,t))+'" target="_blank">'+u((i=n(1566),i&&(i.__esModule?i.default:i)).call(s,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"profile"):l)?c(l,"name"):l,{name:"possessive",hash:{},data:a,loc:{start:{line:1,column:51},end:{line:1,column:83}}}))+" Profile</a></h5>\n\n"+(null!=(l=c(r,"if").call(s,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"tags"):l)?c(l,"length"):l,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:0},end:{line:8,column:7}}}))?l:"")+"\n"+(null!=(l=c(r,"if").call(s,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"fields"):l)?c(l,"length"):l,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:0},end:{line:23,column:7}}}))?l:"")},useData:!0})},5772:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"data"):t)?l(a,"deals"):a,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:2},end:{line:41,column:10}}}))?a:""},2:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <h4><a href="'+i(l(null!=t?s(t,"url"):t,t))+'" title="Added on '+i(l(null!=t?s(t,"dateAdded"):t,t))+'">'+i(l(null!=t?s(t,"title"):t,t))+'</a></h4>\n    \n    <ul class="c-sb-list c-sb-list--two-line">\n      <li class="c-sb-list-item">\n        <span class="c-sb-list-item__label t-tx-charcoal-300">\n          Value\n          <span class="c-sb-list-item__text t-tx-charcoal-500">\n            '+i(l(null!=t?s(t,"value"):t,t))+'\n          </span>\n        </span>\n      </li>\n      <li class="c-sb-list-item">\n        <span class="c-sb-list-item__label t-tx-charcoal-300">\n          Stage\n          <span class="c-sb-list-item__text t-tx-charcoal-500">\n            '+i(l(null!=t?s(t,"stageName"):t,t))+'\n          </span>\n        </span>\n      </li>\n      <li class="c-sb-list-item">\n        <span class="c-sb-list-item__label t-tx-charcoal-300">\n          Status\n          <span class="c-sb-list-item__text t-tx-charcoal-500">\n            '+i(l(null!=(a=null!=t?s(t,"status"):t)?s(a,"name"):a,t))+" "+(null!=(a=s(n,"if").call(u,null!=(a=null!=t?s(t,"status"):t)?s(a,"date"):a,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:26,column:33},end:{line:26,column:87}}}))?a:"")+"\n          </span>\n        </span>\n      </li>\n"+(null!=(a=s(n,"if").call(u,null!=t?s(t,"closeDate"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:30,column:6},end:{line:39,column:13}}}))?a:"")+"    </ul>\n"},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"on "+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"status"):t)?l(a,"date"):a,t))},5:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="c-sb-list-item">\n          <span class="c-sb-list-item__label t-tx-charcoal-300">\n            Close\n            <span class="c-sb-list-item__text t-tx-charcoal-500">\n              '+e.escapeExpression(e.lambda(null!=t?a(t,"closeDate"):t,t))+"\n            </span>\n          </span>\n        </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,o,a){var l,i,u=null!=t?t:e.nullContext||{},s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(l=c(r,"if").call(u,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"deals"):l)?c(l,"length"):l,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:42,column:7}}}))?l:"")+'\n<p class="cust-links u-mrg-b-0 u-pad-t-2">\n  <a href="'+s(e.lambda(null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"profile"):l)?c(l,"url"):l,t))+'" target="_blank">'+s((i=n(1566),i&&(i.__esModule?i.default:i)).call(u,null!=(l=null!=(l=null!=t?c(t,"data"):t)?c(l,"profile"):l)?c(l,"name"):l,{name:"possessive",hash:{},data:a,loc:{start:{line:45,column:49},end:{line:45,column:81}}}))+" Profile</a>\n</p>"},useData:!0})},5773:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,r,o,a){var l,i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      "+e.escapeExpression((i=n(1566),i&&(i.__esModule?i.default:i)).call(null!=t?t:e.nullContext||{},null!=(l=null!=(l=null!=t?u(t,"data"):t)?u(l,"details"):l)?u(l,"personName"):l,{name:"possessive",hash:{},data:a,loc:{start:{line:4,column:6},end:{line:4,column:44}}}))+" Profile\n"},3:function(e,t,n,r,o){return"      PipelineDeals Profile\n"},5:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'   <section class="tags muted">\n\t<i class="icon-tag muted"></i>\n   \t<span>'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"data"):t)?l(a,"tags"):a,t))+"</span>\n \t</section>\n"},7:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\n  <ul class="c-sb-list c-sb-list--two-line">\n'+(null!=(a=i(n,"if").call(l,null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"details"):a)?i(a,"hasAmts"):a,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o,loc:{start:{line:20,column:4},end:{line:39,column:11}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"details"):a)?i(a,"personStatus"):a,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:40,column:4},end:{line:49,column:11}}}))?a:"")+"  </ul>\n\n"},8:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <li class="c-sb-list-item">\n        <span class="c-sb-list-item__label t-tx-charcoal-300">\n          Total Pipeline\n          <span class="c-sb-list-item__text t-tx-charcoal-500">\n            '+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"details"):a)?l(a,"pipelineVal"):a,t))+"\n          </span>\n        </span>\n      </li>\n"+(null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"details"):a)?l(a,"wonDealVal"):a,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:29,column:6},end:{line:38,column:13}}}))?a:"")},9:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="c-sb-list-item">\n          <span class="c-sb-list-item__label t-tx-charcoal-300">\n            Won Deals\n            <span class="c-sb-list-item__text t-tx-charcoal-500">\n              '+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"details"):a)?l(a,"wonDealVal"):a,t))+"\n            </span>\n          </span>\n        </li>\n"},11:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <li class="c-sb-list-item">\n        <span class="c-sb-list-item__label t-tx-charcoal-300">\n          Customer Status\n          <span class="c-sb-list-item__text t-tx-charcoal-500">\n            '+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"details"):a)?l(a,"personStatus"):a,t))+"\n          </span>\n        </span>\n      </li>\n"},13:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<h4 class="u-mrg-t-2 u-mrg-b-0">      \n\t\t<a href="'+i(l(null!=t?s(t,"url"):t,t))+'" target="_blank"'+(null!=(a=s(n,"if").call(u,null!=(a=null!=t?s(t,"expectedClose"):t)?s(a,"length"):a,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o,loc:{start:{line:56,column:40},end:{line:56,column:127}}}))?a:"")+">\n          "+i(l(null!=t?s(t,"dealName"):t,t))+'\n        </a>      \n    </h4>\n    <ul class="c-sb-list c-sb-list--two-line u-pad-t-1">\n'+(null!=(a=s(n,"if").call(u,null!=t?s(t,"companyName"):t,{name:"if",hash:{},fn:e.program(16,o,0),inverse:e.noop,data:o,loc:{start:{line:61,column:6},end:{line:70,column:13}}}))?a:"")+(null!=(a=s(n,"if").call(u,null!=t?s(t,"showValue"):t,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.noop,data:o,loc:{start:{line:71,column:6},end:{line:78,column:13}}}))?a:"")+(null!=(a=s(n,"if").call(u,null!=t?s(t,"dealStage"):t,{name:"if",hash:{},fn:e.program(20,o,0),inverse:e.noop,data:o,loc:{start:{line:79,column:6},end:{line:88,column:13}}}))?a:"")+(null!=(a=s(n,"if").call(u,null!=t?s(t,"closedTime"):t,{name:"if",hash:{},fn:e.program(22,o,0),inverse:e.noop,data:o,loc:{start:{line:89,column:6},end:{line:98,column:13}}}))?a:"")+"    </ul>\n"},14:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' title="Expected Close: '+e.escapeExpression(e.lambda(null!=t?a(t,"expectedClose"):t,t))+'"'},16:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="c-sb-list-item">\n          <span class="c-sb-list-item__label t-tx-charcoal-300">\n            Company\n            <span class="c-sb-list-item__text t-tx-charcoal-500">\n            '+e.escapeExpression(e.lambda(null!=t?a(t,"companyName"):t,t))+"\n            </span>\n          </span>\n        </li>\n"},18:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="c-sb-list-item">\n          <span class="c-sb-list-item__label t-tx-charcoal-300">\n            Amount\n            <span class="badge success">'+e.escapeExpression(e.lambda(null!=t?a(t,"showValue"):t,t))+"</span>\n          </span>\n        </li>\n"},20:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="c-sb-list-item">\n          <span class="c-sb-list-item__label t-tx-charcoal-300">\n            Stage\n            <span class="c-sb-list-item__text t-tx-charcoal-500">\n              '+e.escapeExpression(e.lambda(null!=t?a(t,"dealStage"):t,t))+"\n            </span>\n          </span>\n        </li>\n"},22:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li class="c-sb-list-item">\n          <span class="c-sb-list-item__label t-tx-charcoal-300">\n            Close\n            <span class="c-sb-list-item__text t-tx-charcoal-500">\n              '+e.escapeExpression(e.lambda(null!=t?a(t,"closedTime"):t,t))+"\n            </span>\n          </span>\n        </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h5>\n  <a href="'+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"details"):a)?i(a,"url"):a,t))+'">\n'+(null!=(a=i(n,"if").call(l,null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"details"):a)?i(a,"personName"):a,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:3,column:4},end:{line:7,column:11}}}))?a:"")+"  </a>\n</h5>\n\n"+(null!=(a=i(n,"if").call(l,null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"tags"):a)?i(a,"length"):a,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:0},end:{line:16,column:7}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"data"):t)?i(a,"details"):a,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:17,column:0},end:{line:52,column:7}}}))?a:"")+"\n"+(null!=(a=i(n,"each").call(l,null!=(a=null!=t?i(t,"data"):t)?i(a,"deals"):a,{name:"each",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:54,column:0},end:{line:100,column:9}}}))?a:"")},useData:!0})},5774:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5)),o=i(n(8)),a=i(n(5554)),l=i(n(5775));function i(e){return e&&e.__esModule?e:{default:e}}var u=a.default.extend({events:{"click a.extend":"extendPaymentDate"},regions:{pluginLayout:".js-content"},initialize:function(e){a.default.prototype.initialize.call(this,e),this.days=0,this.subscriptionId=0},pluginError:function(e){var t=e.statusText;e&&404===e.status?this.$el.find(".js-content").html("<p>No company found</p>"):this.$el.find(".js-content").html(t)},doExtendPaymentDate:function(){var e=this;r.default.Utils.Ajax.put("".concat(hsGlobal.apiPath,"subscription/").concat(this.subscriptionId,"/extend/").concat(this.days),(function(t){e.$("#nextPmt").html(t.nextPayment),r.default.Utils.Main.success("Payment date extended to ".concat(t.nextPayment))}))},extendPaymentDate:function(e){e&&e.preventDefault();var t=(0,o.default)(e.target).data("days");this.days=t,r.default.Utils.Main.confirm("Extend this payment date by ".concat(t," days?"),o.default.proxy(this.doExtendPaymentDate,this),null,{ok:"Yes"})},getTemplateContent:function(e){if("subscription"in e&&"id"in e.subscription&&(this.subscriptionId=e.subscription.id),e.users&&1==e.users?e.userLabel="user":e.userLabel="users",e.mailboxes&&1==e.mailboxes?e.mbxLabel="mailbox":e.mbxLabel="mailboxes",e.docs.isAvail&&(1==e.docs.siteCount?e.docs.label="site":e.docs.label="sites"),e.showPaymentDetails=e.subscription.isPaid||e.docs.isAvail,e.lastVisit){var t=e.lastVisit,n=!1,r="";"browser"in t&&t.browser.trim()&&(r=t.browser,n=!0),"os"in t&&t.os.trim()&&(n?r+=" (".concat(t.os,")"):r=t.os),t.browserOs=r||!1}return(0,l.default)({data:e})}});t.default=u},5775:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li><span class="c-sb-list-item__label t-tx-charcoal-300">\n                Cancelled on '+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"company"):a)?l(a,"canceled"):a,t))+"\n        </span></li>\n"},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <li><span class="c-sb-list-item__label t-tx-charcoal-300">\n            Customer since '+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"company"):a)?l(a,"created"):a,t))+"\n        </span></li>\n"},5:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h5><a href="'+i(l(null!=(a=null!=(a=null!=t?s(t,"data"):t)?s(a,"member"):a)?s(a,"url"):a,t))+'" target="_blank">'+i(l(null!=(a=null!=t?s(t,"data"):t)?s(a,"role"):a,t))+"</a></h5>\n<ul>\n"+(null!=(a=s(n,"if").call(u,null!=(a=null!=(a=null!=t?s(t,"data"):t)?s(a,"member"):a)?s(a,"canceled"):a,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:18,column:2},end:{line:23,column:9}}}))?a:"")+(null!=(a=s(n,"if").call(u,null!=(a=null!=t?s(t,"data"):t)?s(a,"lastVisit"):a,{name:"if",hash:{},fn:e.program(10,o,0),inverse:e.noop,data:o,loc:{start:{line:24,column:2},end:{line:36,column:7}}}))?a:"")+"\n</ul>\n"},6:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li>Status: <span class="red">Canceled</span></li>\n    <li>Canceled: '+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"member"):a)?l(a,"canceledAt"):a,t))+"</li>\n"},8:function(e,t,n,r,o){return"    <li>Status: Active</li>\n"},10:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    <li>"+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"lastVisit"):a)?i(a,"at"):a,t))+"</li>\n"+(null!=(a=i(n,"if").call(l,null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"lastVisit"):a)?i(a,"browserOs"):a,{name:"if",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:26,column:2},end:{line:28,column:9}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"lastVisit"):a)?i(a,"device"):a,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:29,column:2},end:{line:31,column:9}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=(a=null!=t?i(t,"data"):t)?i(a,"lastVisit"):a)?i(a,"lastLoginTypeText"):a,{name:"if",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o,loc:{start:{line:32,column:2},end:{line:34,column:9}}}))?a:"")+'    <li><span class="t-tx-charcoal-600">Email Notifications:</span> '+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"data"):t)?i(a,"hasNotis"):a,{name:"if",hash:{},fn:e.program(17,o,0),inverse:e.program(19,o,0),data:o,loc:{start:{line:35,column:68},end:{line:35,column:109}}}))?a:"")+"</li>\n"},11:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    <li>"+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"lastVisit"):a)?l(a,"browserOs"):a,t))+"</li>\n"},13:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    <li>"+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"lastVisit"):a)?l(a,"device"):a,t))+"</li>\n"},15:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    <li>"+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"lastVisit"):a)?l(a,"lastLoginTypeText"):a,t))+"</li>\n"},17:function(e,t,n,r,o){return"Yes"},19:function(e,t,n,r,o){return"No"},21:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li><span class="t-tx-charcoal-600">Status:</span> '+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"company"):a)?l(a,"status"):a,t))+"</li>\n"},23:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li><span class="t-tx-charcoal-600">Billing: </span>'+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"subscription"):a)?l(a,"billingFrequencyText"):a,t))+"</li>\n"},25:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lambda,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=s(n,"if").call(l,null!=(a=null!=t?s(t,"data"):t)?s(a,"hasLTV"):a,{name:"if",hash:{},fn:e.program(26,o,0),inverse:e.noop,data:o,loc:{start:{line:50,column:4},end:{line:52,column:11}}}))?a:"")+(null!=(a=s(n,"if").call(l,null!=(a=null!=t?s(t,"data"):t)?s(a,"expectedUsers"):a,{name:"if",hash:{},fn:e.program(28,o,0),inverse:e.noop,data:o,loc:{start:{line:53,column:4},end:{line:55,column:11}}}))?a:"")+'    <li><span class="t-tx-charcoal-600">Plan:</span> '+u(i(null!=(a=null!=t?s(t,"data"):t)?s(a,"plan"):a,t))+'</li>\n    <li><span class="t-tx-charcoal-600">Counts:</span> '+u(i(null!=(a=null!=t?s(t,"data"):t)?s(a,"users"):a,t))+" "+u(i(null!=(a=null!=t?s(t,"data"):t)?s(a,"userLabel"):a,t))+"/"+u(i(null!=(a=null!=t?s(t,"data"):t)?s(a,"mailboxes"):a,t))+" "+u(i(null!=(a=null!=t?s(t,"data"):t)?s(a,"mbxLabel"):a,t))+'</li>\n    <li><span class="t-tx-charcoal-600">HIPAA:</span> '+(null!=(a=s(n,"if").call(l,null!=(a=null!=(a=null!=t?s(t,"data"):t)?s(a,"company"):a)?s(a,"hasHipaa"):a,{name:"if",hash:{},fn:e.program(17,o,0),inverse:e.program(19,o,0),data:o,loc:{start:{line:58,column:54},end:{line:58,column:103}}}))?a:"")+"</li>\n"+(null!=(a=s(n,"if").call(l,null!=(a=null!=t?s(t,"data"):t)?s(a,"addons"):a,{name:"if",hash:{},fn:e.program(30,o,0),inverse:e.noop,data:o,loc:{start:{line:59,column:4},end:{line:61,column:11}}}))?a:"")+'    <li><span class="t-tx-charcoal-600">Payment:</span> <span id="nextPmt">'+u(i(null!=(a=null!=(a=null!=t?s(t,"data"):t)?s(a,"subscription"):a)?s(a,"nextPaymentDate"):a,t))+'</span></li>\n    <li><span class="t-tx-charcoal-600">Extend:</span> <a href="javascript:void(0)" class="extend" data-days="2">2d</a>,\n        <a href="javascript:void(0)" class="extend" data-days="7">7d</a>,\n        <a href="javascript:void(0)" class="extend" data-days="15">15d</a>,\n        <a href="javascript:void(0)" class="extend" data-days="30">30d</a>\n    </li>\n'},26:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    <li>$"+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"data"):t)?l(a,"lifetimeVal"):a,t))+" lifetime value</li>\n"},28:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li><span class="t-tx-charcoal-600">Expected users:</span> '+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"data"):t)?l(a,"expectedUsers"):a,t))+"</li>\n"},30:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li><span class="t-tx-charcoal-600">Add-ons:</span> '+e.escapeExpression(o(n(212)).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?u(t,"data"):t)?u(i,"addons"):i,", ",{name:"join",hash:{},data:l,loc:{start:{line:60,column:56},end:{line:60,column:81}}}))+"</li>\n"},32:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li><span class="t-tx-charcoal-600">Tax Use Code:</span>\n        <abbr title="'+i(l(null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"subscription"):a)?u(a,"taxUseCodeName"):a,t))+'">\n            '+i(l(null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"subscription"):a)?u(a,"taxUseCode"):a,t))+'\n        </abbr>\n    </li>\n    <li><span class="t-tx-charcoal-600">Last Tax Rate:</span> '+i(l(null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"subscription"):a)?u(a,"latestTaxRate"):a,t))+"</li>\n"},34:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li><span class="t-tx-charcoal-600">Promos:</span><ul>\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"data"):t)?l(a,"promos"):a,{name:"each",hash:{},fn:e.program(35,o,0),inverse:e.noop,data:o,loc:{start:{line:81,column:4},end:{line:87,column:13}}}))?a:"")+"    </ul></li>\n"},35:function(e,t,n,r,o){var a,l=e.lambda,i=e.hooks.blockHelperMissing,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <li>\n            "+(null!=(a=i.call(t,l(null!=t?u(t,"available"):t,t),{name:"available",hash:{},fn:e.noop,inverse:e.program(36,o,0),data:o,loc:{start:{line:83,column:12},end:{line:83,column:78}}}))?a:"")+"\n            "+e.escapeExpression(l(null!=t?u(t,"name"):t,t))+"\n            "+(null!=(a=i.call(t,l(null!=t?u(t,"available"):t,t),{name:"available",hash:{},fn:e.noop,inverse:e.program(38,o,0),data:o,loc:{start:{line:85,column:12},end:{line:85,column:49}}}))?a:"")+"\n        </li>\n"},36:function(e,t,n,r,o){return'<strike title="Unavailable promotion">'},38:function(e,t,n,r,o){return"</strike>"},40:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <li><span class="t-tx-charcoal-600">AB Test:</span>\n        '+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=(a=null!=t?l(t,"data"):t)?l(a,"company"):a)?l(a,"abTests"):a,{name:"each",hash:{},fn:e.program(41,o,0),inverse:e.noop,data:o,loc:{start:{line:93,column:8},end:{line:93,column:142}}}))?a:"")+"\n    </li>\n"},41:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=u(n,"unless").call(null!=t?t:e.nullContext||{},o&&u(o,"first"),{name:"unless",hash:{},fn:e.program(42,o,0),inverse:e.noop,data:o,loc:{start:{line:93,column:38},end:{line:93,column:69}}}))?a:"")+'<span style="white-space: nowrap;">'+i(l(null!=t?u(t,"name"):t,t))+"-"+i(l(null!=t?u(t,"variation"):t,t))+"</span>"},42:function(e,t,n,r,o){return", "},44:function(e,t,n,r,o){return'    <li><span class="t-tx-charcoal-600">AB Test:</span> None</li>\n'},46:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    <li>Docs: Yes, "+i(l(null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"docs"):a)?u(a,"siteCount"):a,t))+" "+i(l(null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"docs"):a)?u(a,"label"):a,t))+"</li>\n"+(null!=(a=u(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"docs"):a)?u(a,"sites"):a,{name:"each",hash:{},fn:e.program(47,o,0),inverse:e.noop,data:o,loc:{start:{line:101,column:4},end:{line:107,column:13}}}))?a:"")},47:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"hasUrl"):t,{name:"if",hash:{},fn:e.program(48,o,0),inverse:e.program(50,o,0),data:o,loc:{start:{line:102,column:8},end:{line:106,column:15}}}))?a:""},48:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li><a href="'+l(a(null!=t?i(t,"url"):t,t))+'">'+l(a(null!=t?i(t,"subdomain"):t,t))+"</a></li>\n"},50:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            <li>"+e.escapeExpression(e.lambda(null!=t?a(t,"subdomain"):t,t))+": public site disabled</li>\n"},52:function(e,t,n,r,o){return'    <li><span class="t-tx-charcoal-600">Docs:</span> No</li>\n'},54:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"Manually linked:\n <ul>\n    <li>by "+i(l(null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"linked"):a)?u(a,"byName"):a,t))+"</li>\n    <li>on "+i(l(null!=(a=null!=(a=null!=t?u(t,"data"):t)?u(a,"linked"):a)?u(a,"at"):a,t))+"</li>\n</ul>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,a,l){var i,u=e.lambda,s=e.escapeExpression,c=null!=t?t:e.nullContext||{},d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h5 class="u-mrg-b-1"><a href="'+s(u(null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"company"):i)?d(i,"url"):i,t))+'" target="_blank">'+s(u(null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"company"):i)?d(i,"name"):i,t))+'</a> <a href="'+s(u(null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"company"):i)?d(i,"sumoLogicDashboard"):i,t))+'" target="_blank"></a></h5>\n\n<ul>\n'+(null!=(i=d(r,"if").call(c,null!=(i=null!=t?d(t,"data"):t)?d(i,"isCanceled"):i,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l,loc:{start:{line:4,column:4},end:{line:12,column:11}}}))?i:"")+"</ul>\n\n"+(null!=(i=e.hooks.blockHelperMissing.call(t,u(null!=(i=null!=t?d(t,"data"):t)?d(i,"hasMember"):i,t),{name:"data.hasMember",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l,loc:{start:{line:15,column:0},end:{line:39,column:19}}}))?i:"")+'\n<h4><a href="'+s(u(null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"subscription"):i)?d(i,"url"):i,t))+'" target="_blank">Subscription</a></h4>\n<ul>\n'+(null!=(i=d(r,"if").call(c,null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"company"):i)?d(i,"hasStatus"):i,{name:"if",hash:{},fn:e.program(21,l,0),inverse:e.noop,data:l,loc:{start:{line:43,column:0},end:{line:45,column:7}}}))?i:"")+(null!=(i=o(n(10)).call(c,null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"subscription"):i)?d(i,"billingFrequencyText"):i,"!==",null,{name:"ifCond",hash:{},fn:e.program(23,l,0),inverse:e.noop,data:l,loc:{start:{line:46,column:0},end:{line:48,column:11}}}))?i:"")+(null!=(i=d(r,"if").call(c,null!=(i=null!=t?d(t,"data"):t)?d(i,"showPaymentDetails"):i,{name:"if",hash:{},fn:e.program(25,l,0),inverse:e.noop,data:l,loc:{start:{line:49,column:0},end:{line:68,column:7}}}))?i:"")+"\n"+(null!=(i=d(r,"if").call(c,null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"subscription"):i)?d(i,"showTaxDetails"):i,{name:"if",hash:{},fn:e.program(32,l,0),inverse:e.noop,data:l,loc:{start:{line:70,column:0},end:{line:77,column:7}}}))?i:"")+"\n"+(null!=(i=d(r,"if").call(c,null!=(i=null!=t?d(t,"data"):t)?d(i,"promos"):i,{name:"if",hash:{},fn:e.program(34,l,0),inverse:e.noop,data:l,loc:{start:{line:79,column:0},end:{line:89,column:7}}}))?i:"")+"\n"+(null!=(i=d(r,"if").call(c,null!=(i=null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"company"):i)?d(i,"abTests"):i)?d(i,"length"):i,{name:"if",hash:{},fn:e.program(40,l,0),inverse:e.program(44,l,0),data:l,loc:{start:{line:91,column:0},end:{line:97,column:7}}}))?i:"")+"\n"+(null!=(i=d(r,"if").call(c,null!=(i=null!=(i=null!=t?d(t,"data"):t)?d(i,"docs"):i)?d(i,"isAvail"):i,{name:"if",hash:{},fn:e.program(46,l,0),inverse:e.program(52,l,0),data:l,loc:{start:{line:99,column:0},end:{line:110,column:7}}}))?i:"")+"</ul>\n\n"+(null!=(i=d(r,"if").call(c,null!=(i=null!=t?d(t,"data"):t)?d(i,"linked"):i,{name:"if",hash:{},fn:e.program(54,l,0),inverse:e.noop,data:l,loc:{start:{line:113,column:0},end:{line:119,column:7}}}))?i:"")},useData:!0})},5776:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(5)),o=l(n(5554)),a=l(n(5777));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.extend({initialize:function(e){o.default.prototype.initialize.call(this,e)},getTemplateContent:function(e){return(0,a.default)(e)},onPostContentLoaded:function(){this.$(".js-content").addClass("sentry"),r.default.Utils.Main.initTooltips(this.$("[rel=tooltip]"))}});t.default=i},5777:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"projects"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:24,column:13}}}))?a:""},2:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <h3 class="c-sb-list-group__subheader t-tx-charcoal-500 tx-13 tx-500 u-pad-0">'+i(l(null!=t?u(t,"project"):t,t))+"</h3>\n"+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?u(t,"issues"):t)?u(a,"length"):a,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:4,column:8},end:{line:17,column:19}}}))?a:"")+'\n            <li class="c-sb-list-item">view all issues for\n                <a class="viewAll u-pad-l-1 t-tx-blue-600" target="_blank" href="'+i(l(null!=t?u(t,"userIssuesUrl"):t,t))+'">user</a> /\n                <a class="viewAll t-tx-blue-600" target="_blank" href="'+i(l(null!=t?u(t,"companyIssuesUrl"):t,t))+'">company</a>\n            </li>\n        </ul>\n'},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <ul class="c-sb-list c-sb-list--compact u-pad-b-2">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"issues"):t,{name:"each",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:6,column:12},end:{line:13,column:21}}}))?a:"")+"\n"},4:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lambda,c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="c-sb-list-item">\n                    <span class="c-sb-list-item__text t-tx-charcoal-500 t-tx-ellipse">\n                        '+(null!=(i=o(n(10)).call(u,null!=t?d(t,"logger"):t,"===","javascript",{name:"ifCond",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l,loc:{start:{line:9,column:24},end:{line:9,column:77}}}))?i:"")+"\n                        "+(null!=(i=o(n(10)).call(u,null!=t?d(t,"logger"):t,"===","php",{name:"ifCond",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l,loc:{start:{line:10,column:24},end:{line:10,column:71}}}))?i:"")+'\n                        <a class="t-tx-blue-600" href="'+c(s(null!=t?d(t,"permalink"):t,t))+'">'+c(s(null!=t?d(t,"title"):t,t))+"</a>\n                    </span>\n"},5:function(e,t,n,r,o){return"[JS] "},7:function(e,t,n,r,o){return"[PHP] "},9:function(e,t,n,r,o){return"                No recent issues for this user\n"},11:function(e,t,n,r,o){return"    No projects were configured\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"projects"):t)?l(a,"length"):a,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:1,column:0},end:{line:27,column:7}}}))?a:"")+"\n"},useData:!0})},5778:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5)),o=c(n(8)),a=c(n(5554)),l=c(n(5779)),i=c(n(5780)),u=c(n(5781)),s=c(n(5782));function c(e){return e&&e.__esModule?e:{default:e}}var d=a.default.extend({events:{"click ul.subscribed a.remove":"confirmUnsubscribe","click ul.avail a.add":"confirmSubscribe"},initialize:function(e){a.default.prototype.initialize.call(this,e),this.data=!1},confirmUnsubscribe:function(e){e&&e.preventDefault();var t=this,n=(0,o.default)(e.target);r.default.Utils.Main.confirm("Unsubscribe this customer from <strong>".concat(n.data("name"),"</strong>?"),o.default.proxy((function(){t.doUnsubscribe(n)}),t),null,{ok:"Unsubscribe"})},doSubscribe:function(e,t){var n=this;t||(t=!1),p(this,e);var o=n.getParams(e);o.confirm=t,r.default.Utils.Ajax.put({url:"".concat(hsGlobal.path,"app/newsletter/").concat(this.data.appId,".json"),done:function(e){n.pluginLoaded(e)},fail:function(t,o,a){r.default.Utils.Ajax.fail(t,o,a),f(n,e)},params:o})},doUnsubscribe:function(e){var t=this;p(this,e),r.default.Utils.Ajax.del({url:"".concat(hsGlobal.path,"app/newsletter/").concat(this.data.appId,".json"),done:function(e){t.pluginLoaded(e)},params:t.getParams(e),fail:function(n,o,a){r.default.Utils.Ajax.fail(n,o,a),f(t,e)}})},sendConfirmationEmail:function(e){this.doSubscribe(e,!0)},confirmSubscribe:function(e){e&&e.preventDefault();var t=this,n=(0,o.default)(e.target);if("mailchimp"==t.model.get("slug")){var a=o.default.proxy((function(){t.sendConfirmationEmail(n)}),t),l=o.default.proxy((function(){t.doSubscribe(n)}),t);r.default.Utils.Main.confirm("Would you like to send the customer a confirmation email? <br>This is a good idea if they haven't opted-in yet.",null,null,{buttons:m(a,l)})}else r.default.Utils.Main.confirm("Subscribe this customer to <strong>".concat(n.data("name"),"</strong>?"),o.default.proxy((function(){t.doSubscribe(n)}),t),null,{ok:"Subscribe"})},getParams:function(e){var t=[],n=this.customer.get("emails");return n&&n.length>0&&o.default.each(n.models,(function(e,n){t.push(n.get("value"))})),{customer:{id:this.customer.get("id"),email:this.customer.get("email"),emails:t,fname:this.customer.get("fname"),lname:this.customer.get("lname")},data:e.data(),mailboxId:this.data.mailboxId}},pluginError:function(e,t){500!=e.status?this.$el.find(".js-content").html((0,l.default)({name:this.model.get("name")})):this.$el.find(".js-content").html(e.statusText)},getTemplateContent:function(e){e.path=hsGlobal.path;var t=null;switch(this.model.get("slug")){case"mailchimp":t=(0,i.default)(e);break;case"campaign-monitor":t=(0,u.default)(e);break;case"constant-contact":t=(0,s.default)(e)}return this.data=e,t}});function f(e,t){e.$(".busy".concat(t.data("id"))).hide(),t.show()}function p(e,t){e.$(".busy".concat(t.data("id"))).show(),t.hide()}function m(e,t){return[{addClass:"btn btn-success",text:"Send Confirmation Email",onClick:function(t){t.close(),e()}},{addClass:"btn",text:"Subscribe Only",onClick:function(e){e.close(),t&&t()}},{addClass:"btn btn-link",text:"Cancel",onClick:function(e){e.close()}}]}t.default=d},5779:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return"<p>Not on any lists</p>"},useData:!0})},5780:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h4>Subscribed</h4>\n<ul class="subscribed">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"lists"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:2},end:{line:11,column:11}}}))?a:"")+"</ul>\n"},2:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  <li>\n    "+l(a(null!=t?i(t,"shortName"):t,t))+'\n    <span class="busy'+l(a(null!=t?i(t,"id"):t,t))+' muted" style="display:none">unsubscribing...</span>\n    <a href="javascript:void(0)" data-id="'+l(a(null!=t?i(t,"id"):t,t))+'" data-name="'+l(a(null!=t?i(t,"name"):t,t))+'" class="remove t-tx-color-500 u-d-block">unsubscribe</a>\n    <p class="muted">Since '+l(a(null!=t?i(t,"addedAt"):t,t))+"</p>\n  </li>\n"},4:function(e,t,n,r,o){return'<p class="u-pad-b-1">Customer not on any lists</p>\n'},6:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?u(t,"available"):t)?u(i,"length"):i,">",3,{name:"ifCond",hash:{},fn:e.program(7,l,0),inverse:e.program(10,l,0),data:l,loc:{start:{line:17,column:0},end:{line:45,column:11}}}))?i:""},7:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="toggleGroup sb-group">\n  <a class="toggleBtn sb-toggle" href="#">\n    <h4 class="sb-toggle__title"><i class="caret sb-caret"></i>Available Lists</h4>\n  </a>\n  <div class="toggle">\n    <ul class="avail">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"available"):t,{name:"each",hash:{},fn:e.program(8,o,0),inverse:e.noop,data:o,loc:{start:{line:24,column:6},end:{line:30,column:15}}}))?a:"")+"    </ul>\n  </div>\n</div>\n"},8:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      <li>\n        "+l(a(null!=t?i(t,"shortName"):t,t))+'\n        <span class="busy'+l(a(null!=t?i(t,"id"):t,t))+' muted" style="display:none">subscribing...</span>\n        <a href="javascript:void(0)" data-id="'+l(a(null!=t?i(t,"id"):t,t))+'" data-name="'+l(a(null!=t?i(t,"name"):t,t))+'" class="add t-tx-color-500 u-d-block">subscribe</a>\n      </li>\n'},10:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h5>Available</h5>\n<ul class="avail">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"available"):t,{name:"each",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:37,column:2},end:{line:43,column:11}}}))?a:"")+"</ul>\n"},11:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  <li>\n    "+l(a(null!=t?i(t,"shortName"):t,t))+'\n    <span class="busy'+l(a(null!=t?i(t,"id"):t,t))+' muted" style="display:none">subscribing...</span>\n    <a href="javascript:void(0)" data-id="'+l(a(null!=t?i(t,"id"):t,t))+'" data-name="'+l(a(null!=t?i(t,"name"):t,t))+'" class="add t-tx-color-500 u-d-block">subscribe</a>\n  </li>\n'},13:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?u(t,"profiles"):t)?u(i,"length"):i,">",1,{name:"ifCond",hash:{},fn:e.program(14,l,0),inverse:e.program(17,l,0),data:l,loc:{start:{line:48,column:0},end:{line:57,column:11}}}))?i:""},14:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<h5>Profiles</h5>\n<ul>\n"+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"profiles"):t,{name:"each",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o,loc:{start:{line:51,column:2},end:{line:53,column:11}}}))?a:"")+"</ul>\n"},15:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <li><a href="'+l(a(null!=t?i(t,"webUrl"):t,t))+'" target="_blank">'+l(a(null!=t?i(t,"email"):t,t))+"</a></li>\n"},17:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p class="cust-links u-mrg-b-0 u-pad-t-2"><a class="t-tx-color-500" href="'+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"profiles"):t)?l(a,"0"):a)?l(a,"webUrl"):a,t))+'" target="_blank">MailChimp profile</a></p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=i(n,"if").call(l,null!=t?i(t,"lists"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:1,column:0},end:{line:15,column:7}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=t?i(t,"available"):t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:16,column:0},end:{line:46,column:7}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=t?i(t,"profiles"):t,{name:"if",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:47,column:0},end:{line:58,column:7}}}))?a:"")},useData:!0})},5781:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<h4>Subscribed</h4>\n\t<ul class="subscribed">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"lists"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:2},end:{line:11,column:11}}}))?a:"")+"\t</ul>\n"},2:function(e,t,r,a,l){var i,u=e.lambda,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<li>\n\t\t\t\t<a href="https://'+s(u(null!=t?c(t,"subdomain"):t,t))+'.createsend.com/subscribers/" target="_blank" title="'+s(u(null!=t?c(t,"name"):t,t))+'" class="t-tx-charcoal-300">'+s(u(null!=t?c(t,"shortName"):t,t))+'</a>\n\t\t\t\t<a href="javascript:void(0)" data-id="'+s(u(null!=t?c(t,"id"):t,t))+'" data-name="'+s(u(null!=t?c(t,"name"):t,t))+'" data-email="'+s(u(null!=t?c(t,"email"):t,t))+'" class="remove t-tx-blue-600">remove</a>\n\t\t\t\t<span class="busy'+s(u(null!=t?c(t,"id"):t,t))+' muted" style="display:none">removing...</span>\n\t\t\t<p class="muted">Since '+s(u(null!=t?c(t,"addedAt"):t,t))+(null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=t?c(t,"status"):t,"==","Unconfirmed",{name:"ifCond",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:9,column:37},end:{line:9,column:98}}}))?i:"")+"</p>\n\t\t\t</li>\n"},3:function(e,t,n,r,o){return", Unconfirmed"},5:function(e,t,n,r,o){return'\t<p class="u-mrg-b-2">Customer not on any lists</p>\n'},7:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?u(t,"available"):t)?u(i,"length"):i,">",3,{name:"ifCond",hash:{},fn:e.program(8,l,0),inverse:e.program(11,l,0),data:l,loc:{start:{line:17,column:1},end:{line:47,column:12}}}))?i:""},8:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<div class="toggleGroup sb-group">\n\t\t<a class="toggleBtn sb-toggle" href="#">\n\t\t\t<h4 class="sb-toggle__title">\n\t\t\t\t<i class="caret sb-caret"></i>Available Lists\n\t\t\t</h4>\n\t\t</a>\n\t\t<div class="toggle indent">\n\t\t\t<ul class="avail">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"available"):t,{name:"each",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:26,column:3},end:{line:32,column:13}}}))?a:"")+"\t\t\t\t</ul>\n\t\t</div>\n\t</div>\n"},9:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class="t-tx-charcoal-300" href="https://'+l(a(null!=t?i(t,"subdomain"):t,t))+'.createsend.com/subscribers/" target="_blank" title="'+l(a(null!=t?i(t,"name"):t,t))+'">'+l(a(null!=t?i(t,"shortName"):t,t))+'</a>\n\t\t\t\t\t\t<span class="busy'+l(a(null!=t?i(t,"id"):t,t))+' muted" style="display:none">adding...</span>\n\t\t\t\t\t\t<a href="javascript:void(0)" data-id="'+l(a(null!=t?i(t,"id"):t,t))+'" data-name="'+l(a(null!=t?i(t,"name"):t,t))+'" class="add t-tx-blue-600">add</a>\n\t\t\t\t\t</li>\n'},11:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<h5>Available</h5>\n\t\t\t<ul class="avail">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"available"):t,{name:"each",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:39,column:4},end:{line:45,column:13}}}))?a:"")+"\t\t\t</ul>\n"},12:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://'+l(a(null!=t?i(t,"subdomain"):t,t))+'.createsend.com/subscribers/" target="_blank" title="'+l(a(null!=t?i(t,"name"):t,t))+'">'+l(a(null!=t?i(t,"shortName"):t,t))+'</a> -\n\t\t\t\t\t\t<span class="busy'+l(a(null!=t?i(t,"id"):t,t))+' muted" style="display:none">adding...</span>\n\t\t\t\t\t\t<a href="javascript:void(0)" data-id="'+l(a(null!=t?i(t,"id"):t,t))+'" data-name="'+l(a(null!=t?i(t,"name"):t,t))+'" class="add t-tx-blue-600">add</a>\n\t\t\t\t\t</li>\n'},14:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?u(t,"profiles"):t)?u(i,"length"):i,">",1,{name:"ifCond",hash:{},fn:e.program(15,l,0),inverse:e.program(18,l,0),data:l,loc:{start:{line:50,column:1},end:{line:59,column:12}}}))?i:""},15:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\t\t<h5>Profiles</h5>\n\t\t<ul>\n"+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"profiles"):t,{name:"each",hash:{},fn:e.program(16,o,0),inverse:e.noop,data:o,loc:{start:{line:53,column:2},end:{line:55,column:11}}}))?a:"")+"\t\t</ul>\n"},16:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t<li><a class="t-tx-blue-600" href="https://'+l(a(null!=t?i(t,"subdomain"):t,t))+".createsend.com/subscribers/search?search="+l(a(null!=t?i(t,"email"):t,t))+'" target="_blank">'+l(a(null!=t?i(t,"email"):t,t))+"</a></li>\n"},18:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<p class="cust-links u-mrg-b-0 u-pad-t-1"><a class="t-tx-blue-600" href="https://'+i(l(null!=(a=null!=(a=null!=t?u(t,"profiles"):t)?u(a,"0"):a)?u(a,"subdomain"):a,t))+".createsend.com/subscribers/search?search="+i(l(null!=(a=null!=(a=null!=t?u(t,"profiles"):t)?u(a,"0"):a)?u(a,"email"):a,t))+'" target="_blank">Campaign Monitor profile</a></p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=i(n,"if").call(l,null!=t?i(t,"lists"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:1,column:0},end:{line:15,column:7}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=t?i(t,"available"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:16,column:0},end:{line:48,column:7}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=t?i(t,"profiles"):t,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o,loc:{start:{line:49,column:0},end:{line:60,column:7}}}))?a:"")+"\n\n"},useData:!0})},5782:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <h4>Subscribed</h4>\n  <ul class="subscribed">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"lists"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:8,column:13}}}))?a:"")+"  </ul>\n"},2:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <li>\n        <a class="t-tx-blue-600" href="https://ui.constantcontact.com/rnavmap/distui/contacts" target="_blank" title="'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:6,column:118},end:{line:6,column:126}}}):l)+'">'+s("function"==typeof(l=null!=(l=c(n,"shortName")||(null!=t?c(t,"shortName"):t))?l:u)?l.call(i,{name:"shortName",hash:{},data:o,loc:{start:{line:6,column:128},end:{line:6,column:141}}}):l)+"</a>"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"isHidden"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:6,column:145},end:{line:6,column:177}}}))?a:"")+"\n      </li>\n"},3:function(e,t,n,r,o){return" (Hidden)"},5:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <h5>Available</h5>\n  <ul class="avail">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"available"):t,{name:"each",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:14,column:4},end:{line:18,column:13}}}))?a:"")+"  </ul>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=i(n,"if").call(l,null!=t?i(t,"lists"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:10,column:7}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=t?i(t,"available"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:0},end:{line:20,column:7}}}))?a:"")+'<p class="cust-links u-mrg-b-0 u-pad-t-1"><a class="t-tx-blue-600" href="https://ui.constantcontact.com/rnavmap/distui/contacts" target="_blank">Contact Management</a></p>\n'},useData:!0})},5783:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5)),o=i(n(8)),a=i(n(5554)),l=i(n(5784));function i(e){return e&&e.__esModule?e:{default:e}}var u=a.default.extend({events:{"click ul.subscribed a.remove":"confirmUnsubscribe","click ul.avail a.add":"confirmSubscribe"},initialize:function(e){a.default.prototype.initialize.call(this,e),this.data=!1},doSubscribe:function(e,t){var n=this;t||(t=!1),c(this,e);var o=n.getParams(e);o.confirm=t,r.default.Utils.Ajax.put({url:"".concat(hsGlobal.path,"app/newsletter/").concat(this.data.appId,".json"),done:function(e){n.pluginLoaded(e)},fail:function(t,o,a){r.default.Utils.Ajax.fail(t,o,a),s(n,e)},params:o})},confirmSubscribe:function(e){e&&e.preventDefault();var t=this,n=(0,o.default)(e.target);r.default.Utils.Main.confirm("Subscribe this customer to <strong>".concat(n.data("name"),"</strong>?"),o.default.proxy((function(){t.doSubscribe(n)}),t),null,{ok:"Subscribe"})},doUnsubscribe:function(e){var t=this;c(this,e),r.default.Utils.Ajax.del({url:"".concat(hsGlobal.path,"app/newsletter/").concat(this.data.appId,".json"),done:function(e){t.pluginLoaded(e)},params:t.getParams(e),fail:function(n,o,a){r.default.Utils.Ajax.fail(n,o,a),s(t,e)}})},confirmUnsubscribe:function(e){e&&e.preventDefault();var t=this,n=(0,o.default)(e.target);r.default.Utils.Main.confirm("Unsubscribe this customer from <strong>".concat(n.data("name"),"</strong>?"),o.default.proxy((function(){t.doUnsubscribe(n)}),t),null,{ok:"Unsubscribe"})},getParams:function(e){var t=[],n=this.customer.get("emails");return n&&n.length>0&&o.default.each(n.models,(function(e,n){t.push(n.get("value"))})),{customer:{id:this.customer.get("id"),email:this.customer.get("email"),emails:t,subscribed:this.data.subscribed,fname:this.customer.get("fname"),lname:this.customer.get("lname")},data:e.data(),mailboxId:this.data.mailboxId}},onPostContentLoaded:function(){this.data&&39==this.data.appId&&function(e){var t=e.$("ul.unstyled");t&&t.length&&t.after('<a href="http://app.bronto.com/mail/list/lists/" target="_blank" style="display:inline-block;margin-bottom:10px">View Contact List</a>');var n=e.$("table.table td.num");n.length&&o.default.each(n,(function(e,t){var n=(0,o.default)(t),r=n.find("a").text(),a=r;r.length>18&&(r="".concat(r.substr(0,18),"...")),n.html('<span title="'.concat(a,'">').concat(r,"</span>"))}))}(this)},pluginError:function(e,t){this.$el.find(".js-content").html("No data available")},getTemplateContent:function(e){e.path=hsGlobal.path,"woocommerce"==this.model.get("slug")&&function(e){var t=e.profiles;if(!t)return;var n=[];o.default.each(t,(function(e,t){"url"in t&&!1!==t.url&&n.push(t)})),e.profiles=n}(e);var t=null;switch(this.model.get("slug")){case"magento":case"bigcommerce":case"infusionsoft":case"shopify":case"woocommerce":case"bronto":t=(0,l.default)(e)}return this.data=e,t}});function s(e,t){e.$(".busy".concat(t.data("id"))).hide(),t.show()}function c(e,t){e.$(".busy".concat(t.data("id"))).show(),t.hide()}t.default=u},5784:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,a,l){var i,u=e.lambda,s=e.escapeExpression,c=null!=t?t:e.nullContext||{},d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <ul class="c-sb-list c-sb-list--two-line u-pad-b-2">\n\t\t<li class="c-sb-list-item">\n\t\t\t<span class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t\t\tCustomer Since\n\t\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t\t\t'+s(u(null!=(i=null!=t?d(t,"customer"):t)?d(i,"createdAt"):i,t))+'\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</li>\n\t\t<li class="c-sb-list-item">\n\t\t\t<span title="'+s(u(null!=(i=null!=t?d(t,"customer"):t)?d(i,"totalOrders"):i,t))+" "+s(u(null!=(i=null!=t?d(t,"labels"):t)?d(i,"baseOrder"):i,t))+'s" class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t\t\tLifetime Value\n\t\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t\t\t'+s(u(null!=(i=null!=t?d(t,"customer"):t)?d(i,"lifetimeVal"):i,t))+"\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</li>\n"+(null!=(i=o(n(10)).call(c,null!=(i=null!=t?d(t,"orders"):t)?d(i,"length"):i,">",1,{name:"ifCond",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:19,column:2},end:{line:36,column:13}}}))?i:"")+"\t</ul>\n\n"+(null!=(i=d(r,"if").call(c,null!=t?d(t,"orders"):t,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l,loc:{start:{line:39,column:1},end:{line:63,column:8}}}))?i:"")+(null!=(i=d(r,"if").call(c,null!=t?d(t,"tags"):t,{name:"if",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l,loc:{start:{line:64,column:1},end:{line:86,column:9}}}))?i:"")+(null!=(i=d(r,"if").call(c,null!=(i=null!=t?d(t,"profiles"):t)?d(i,"length"):i,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l,loc:{start:{line:87,column:4},end:{line:100,column:11}}}))?i:"")},2:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t  <li class="c-sb-list-item">\n\t\t\t\t<span title="'+i(l(null!=(a=null!=t?u(t,"customer"):t)?u(a,"yearOrders"):a,t))+" "+i(l(null!=(a=null!=t?u(t,"labels"):t)?u(a,"baseOrder"):a,t))+'s" class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t\t\t\tPast 12 Months\n\t\t\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t\t\t\t'+i(l(null!=(a=null!=t?u(t,"customer"):t)?u(a,"yearSales"):a,t))+'\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</li>\n\t\t\t<li class="c-sb-list-item">\n\t\t\t\t<span title="'+i(l(null!=(a=null!=t?u(t,"customer"):t)?u(a,"yearOrders"):a,t))+" "+i(l(null!=(a=null!=t?u(t,"labels"):t)?u(a,"baseOrder"):a,t))+'s" class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t\t\t\tAverage '+i(l(null!=(a=null!=t?u(t,"labels"):t)?u(a,"baseOrder"):a,t))+'\n\t\t\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t\t\t\t '+i(l(null!=(a=null!=t?u(t,"customer"):t)?u(a,"avgOrder"):a,t))+"\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</li>\n"},4:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t  <div class="toggleGroup sb-group">\n\t\t\t<a class="toggleBtn sb-toggle" href="#">\n\t\t\t\t<h4 class="sb-toggle__title"><i class="caret sb-caret"></i>'+i(l(null!=(a=null!=t?u(t,"labels"):t)?u(a,"orders"):a,t))+" ("+i(l(null!=(a=null!=t?u(t,"orders"):t)?u(a,"length"):a,t))+')</h4>\n\t\t\t</a>\n\t\t\t<div class="toggle">\n'+(null!=(a=u(n,"each").call(null!=t?t:e.nullContext||{},null!=t?u(t,"orders"):t,{name:"each",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:45,column:4},end:{line:60,column:13}}}))?a:"")+"\t\t\t</div>\n\t\t</div>\n"},5:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t<table class="table table-condensed ecomm-app">\n\t\t\t\t\t<tr>\n'+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"canceled"):t,{name:"if",hash:{},fn:e.program(6,o,0),inverse:e.program(8,o,0),data:o,loc:{start:{line:48,column:5},end:{line:52,column:12}}}))?a:"")+'\t\t\t\t\t\t<td style="text-align:right;">'+i(l(null!=t?u(t,"amt"):t,t))+'</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr class="order-info">\n\t\t\t\t\t\t<td class="muted">'+i(l(null!=t?u(t,"date"):t,t))+'</td>\n\t\t\t\t\t\t<td class="'+i(l(null!=t?u(t,"statusClass"):t,t))+'" style="text-align:right;">'+i(l(null!=t?u(t,"status"):t,t))+"</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n"},6:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t\t<td style="text-decoration:line-through;"><a href="'+l(a(null!=t?i(t,"url"):t,t))+'" target="_blank" alt="'+l(a(null!=t?i(t,"status"):t,t))+'" title="'+l(a(null!=t?i(t,"status"):t,t))+'">'+l(a(null!=t?i(t,"num"):t,t))+"</a></td>\n"},8:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t\t<td class="num"><a href="'+l(a(null!=t?i(t,"url"):t,t))+'" target="_blank" alt="'+l(a(null!=t?i(t,"status"):t,t))+'" title="'+l(a(null!=t?i(t,"status"):t,t))+'">'+l(a(null!=t?i(t,"num"):t,t))+"</a></td>\n"},10:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<div class="toggleGroup sb-group">\n\t\t\t<a class="toggleBtn sb-toggle" href="#">\n\t\t\t\t<h4 class="sb-toggle__title">\n\t\t\t\t\t<i class="caret sb-caret"></i>Tags ('+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"tags"):t)?l(a,"length"):a,t))+')\n\t\t\t\t</h4>\n\t\t\t</a>\n\t\t\t<div class="toggle">\n\t\t\t\t<ul class="c-sb-list c-sb-list--two-line u-pad-b-2">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"tags"):t,{name:"each",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:73,column:5},end:{line:82,column:14}}}))?a:"")+"\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n"},11:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t\t\t\t  <li class="c-sb-list-item">\n\t\t\t\t\t\t\t<span class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t\t\t\t\t\t\t'+l(a(null!=t?i(t,"createdAt"):t,t))+'\n\t\t\t\t\t\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t\t\t\t\t\t\t'+l(a(null!=t?i(t,"name"):t,t))+"\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</li>\n"},13:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=(i=null!=t?u(t,"profiles"):t)?u(i,"length"):i,"==",1,{name:"ifCond",hash:{},fn:e.program(14,l,0),inverse:e.program(17,l,0),data:l,loc:{start:{line:88,column:8},end:{line:99,column:19}}}))?i:""},14:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?u(t,"profiles"):t)?u(i,"0"):i)?u(i,"url"):i,"!=","",{name:"ifCond",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l,loc:{start:{line:89,column:12},end:{line:91,column:23}}}))?i:""},15:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <p class="cust-links u-mrg-b-2 u-pad-t-1"><a href="'+i(l(null!=(a=null!=(a=null!=t?u(t,"profiles"):t)?u(a,"0"):a)?u(a,"url"):a,t))+'" class="t-tx-blue-600" target="_blank">'+i(l(null!=(a=null!=t?u(t,"customer"):t)?u(a,"storeName"):a,t))+" Profile</a></p>\n"},17:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            <h5>Profiles</h5>\n            <ul>\n"+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"profiles"):t,{name:"each",hash:{},fn:e.program(18,o,0),inverse:e.noop,data:o,loc:{start:{line:95,column:16},end:{line:97,column:25}}}))?a:"")+"            </ul>\n"},18:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <li><a href="'+l(a(null!=t?i(t,"url"):t,t))+'" target="_blank">'+l(a(null!=t?i(t,"email"):t,t))+"</a></li>\n"},20:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"showCust404"):t,{name:"if",hash:{},fn:e.program(21,o,0),inverse:e.noop,data:o,loc:{start:{line:102,column:1},end:{line:104,column:8}}}))?a:""},21:function(e,t,n,r,o){return'\t\t<p class="u-mrg-b-0">Customer not found</p>\n'},23:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="toggleGroup sb-group">\n\t\t\t<a class="toggleBtn sb-toggle" href="#">\n\t\t\t\t<h4 class="sb-toggle__title">\n\t\t\t\t\t<i class="caret sb-caret"></i>Subscribed Lists ('+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"subscribed"):t)?l(a,"count"):a,t))+')\n\t\t\t\t</h4>\n\t\t\t</a>\n      <div class="toggle">\n        <ul class="subscribed">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"subscribed"):t)?l(a,"list"):a,{name:"each",hash:{},fn:e.program(24,o,0),inverse:e.noop,data:o,loc:{start:{line:116,column:10},end:{line:122,column:19}}}))?a:"")+"        </ul>\n      </div>\n    </div>\n"},24:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li title="'+l(a(null!=t?i(t,"name"):t,t))+'">\n              '+l(a(null!=t?i(t,"shortName"):t,t))+'&nbsp;&nbsp;\n              <div class="spinner sm busy'+l(a(null!=t?i(t,"id"):t,t))+'" style="display:none"></div>\n              <a href="javascript:void(0)" data-id="'+l(a(null!=t?i(t,"id"):t,t))+'" data-name="'+l(a(null!=t?i(t,"name"):t,t))+'" data-email="'+l(a(null!=t?i(t,"email"):t,t))+'" class="remove t-tx-blue-600">(remove)</a>\n            </li>\n'},26:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="toggleGroup sb-group">\n\t\t\t<a class="toggleBtn sb-toggle" href="#">\n\t\t\t\t<h4 class="sb-toggle__title">\n\t\t\t\t\t<i class="caret sb-caret"></i>Available Lists ('+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"available"):t)?l(a,"count"):a,t))+')\n\t\t\t\t</h4>\n\t\t\t</a>\n      <div class="toggle">\n        <ul class="avail">\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"available"):t)?l(a,"list"):a,{name:"each",hash:{},fn:e.program(27,o,0),inverse:e.noop,data:o,loc:{start:{line:136,column:10},end:{line:142,column:19}}}))?a:"")+"        </ul>\n      </div>\n    </div>\n"},27:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <li title="'+l(a(null!=t?i(t,"name"):t,t))+'">\n              '+l(a(null!=t?i(t,"shortName"):t,t))+'&nbsp;&nbsp;\n              <div class="spinner sm busy'+l(a(null!=t?i(t,"id"):t,t))+'" style="display:none"></div>\n              <a href="javascript:void(0)" data-id="'+l(a(null!=t?i(t,"id"):t,t))+'" data-email="'+l(a(null!=t?i(t,"email"):t,t))+'" data-name="'+l(a(null!=t?i(t,"name"):t,t))+'" class="add t-tx-blue-600">(add)</a>\n            </li>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=i(n,"if").call(l,null!=t?i(t,"customer"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(20,o,0),data:o,loc:{start:{line:1,column:0},end:{line:105,column:7}}}))?a:"")+"\n"+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"subscribed"):t)?i(a,"count"):a,{name:"if",hash:{},fn:e.program(23,o,0),inverse:e.noop,data:o,loc:{start:{line:107,column:0},end:{line:126,column:7}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"available"):t)?i(a,"count"):a,{name:"if",hash:{},fn:e.program(26,o,0),inverse:e.noop,data:o,loc:{start:{line:127,column:0},end:{line:146,column:7}}}))?a:"")},useData:!0})},5785:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(8)),o=i(n(5554)),a=i(n(5786)),l=i(n(5787));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.extend({initialize:function(e){o.default.prototype.initialize.call(this,e),this.data=!1},getParams:function(e){var t=[],n=this.customer.get("emails");return n&&n.length>0&&r.default.each(n.models,(function(e,n){t.push(n.get("value"))})),{customer:{id:this.customer.get("id"),email:this.customer.get("email"),emails:t,fname:this.customer.get("fname"),lname:this.customer.get("lname")},data:e.data(),mailboxId:this.data.mailboxId}},pluginError:function(e,t){this.$el.find(".js-content").html((0,a.default)({name:this.model.get("name")}))},getTemplateContent:function(e){e.path=hsGlobal.path;var t=(0,l.default)(e);return this.model.get("mixpanel"),this.data=e,t}});t.default=u},5786:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return"<p>Not on any lists</p>"},useData:!0})},5787:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,r,o,a){var l,i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(l=(i=n(10),i&&(i.__esModule?i.default:i)).call(null!=t?t:e.nullContext||{},null!=(l=null!=t?u(t,"profiles"):t)?u(l,"length"):l,">",1,{name:"ifCond",hash:{},fn:e.program(2,a,0),inverse:e.program(25,a,0),data:a,loc:{start:{line:2,column:4},end:{line:153,column:15}}}))?l:""},2:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"profiles"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:8},end:{line:79,column:15}}}))?a:""},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"profiles"):t,{name:"each",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:12},end:{line:78,column:21}}}))?a:""},4:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lambda,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=s(n,"if").call(l,o&&s(o,"index"),{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:16},end:{line:7,column:23}}}))?a:"")+'                <h5 class="tx-400">'+u(i(null!=t?s(t,"displayName"):t,t))+'</h5>\n                <ul class="c-sb-list c-sb-list--two-line u-pad-b-2">\n                    <li class="c-sb-list-item">\n                        <span class="c-sb-list-item__label t-tx-charcoal-300">\n                        Last Seen\n                        <span class="c-sb-list-item__text t-tx-charcoal-500">\n                           '+u(i(null!=t?s(t,"seen"):t,t))+'\n                        </span>\n                        </span>\n                    </li>\n                </ul>\n                <div class="toggleGroup sb-group">\n                    <a class="toggleBtn sb-toggle" href="#">\n                        <h4 class="sb-toggle__title">\n                            <i class="caret sb-caret"></i>Default Properties\n                        </h4>\n                    </a>\n                    <div class="toggle">\n                        <ul>\n'+(null!=(a=s(n,"each").call(l,null!=t?s(t,"properties"):t,{name:"each",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:27,column:28},end:{line:33,column:37}}}))?a:"")+"                        </ul>\n                    </div>\n                </div>\n"+(null!=(a=s(n,"if").call(l,null!=t?s(t,"customProps"):t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:37,column:16},end:{line:56,column:23}}}))?a:"")+'                <div class="toggleGroup open sb-group">\n                    <a class="toggleBtn sb-toggle" href="#">\n                        <h4 class="sb-toggle__title">\n                            <i class="caret sb-caret"></i>Recent Events\n                        </h4>\n                    </a>\n                    <div class="toggle">\n'+(null!=(a=s(n,"if").call(l,null!=t?s(t,"events"):t,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.program(21,o,0),data:o,loc:{start:{line:64,column:24},end:{line:72,column:31}}}))?a:"")+'                    </div>\n                </div>\n                <p class="cust-links u-mrg-b-2 u-mrg-t-2">\n                    <a href="https://'+(null!=(a=s(n,"if").call(l,null!=t?s(t,"euDataResidency"):t,{name:"if",hash:{},fn:e.program(23,o,0),inverse:e.noop,data:o,loc:{start:{line:76,column:37},end:{line:76,column:70}}}))?a:"")+"mixpanel.com/report/"+u(i(null!=t?s(t,"project"):t,t))+"/explore/#user?distinct_id="+u(i(null!=t?s(t,"distinct"):t,t))+'" target="_blank">Mixpanel Profile</a>\n                </p>\n'},5:function(e,t,n,r,o){return'                    <div class="divider"></div>\n'},7:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isLink"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(10,o,0),data:o,loc:{start:{line:28,column:32},end:{line:32,column:39}}}))?a:""},8:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                    <li><a href="'+l(a(null!=t?i(t,"val"):t,t))+'" title="'+l(a(null!=t?i(t,"val"):t,t))+'">'+l(a(null!=t?i(t,"name"):t,t))+"</a></li>\n"},10:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                    <li>"+l(a(null!=t?i(t,"name"):t,t))+': <span class="t-tx-charcoal-500">'+l(a(null!=t?i(t,"val"):t,t))+"</span></li>\n"},12:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <div class="toggleGroup sb-group">\n                        <a class="toggleBtn sb-toggle" href="#">\n                            <h4 class="sb-toggle__title">\n                                <i class="caret sb-caret"></i>Custom Properties\n                            </h4>\n                        </a>\n                        <div class="toggle">\n                            <ul>\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"customProps"):t,{name:"each",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:46,column:32},end:{line:52,column:41}}}))?a:"")+"                            </ul>\n                        </div>\n                    </div>\n"},13:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isLink"):t,{name:"if",hash:{},fn:e.program(14,o,0),inverse:e.program(16,o,0),data:o,loc:{start:{line:47,column:36},end:{line:51,column:43}}}))?a:""},14:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                        <li><a href="'+l(a(null!=t?i(t,"val"):t,t))+'" title="'+l(a(null!=t?i(t,"val"):t,t))+'">'+l(a(null!=t?i(t,"name"):t,t))+"</a></li>\n"},16:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                        <li>"+l(a(null!=t?i(t,"name"):t,t))+': <span class="t-tx-charcoal-500">'+l(a(null!=t?i(t,"val"):t,t))+"</span></li>\n"},18:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                            <ul>\n"+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"events"):t,{name:"each",hash:{},fn:e.program(19,o,0),inverse:e.noop,data:o,loc:{start:{line:66,column:32},end:{line:68,column:41}}}))?a:"")+"                            </ul>\n"},19:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                    <li>"+l(a(null!=t?i(t,"name"):t,t))+': <span class="t-tx-charcoal-500">'+l(a(null!=t?i(t,"time"):t,t))+"</span></li>\n"},21:function(e,t,n,r,o){return"                            No recent events\n"},23:function(e,t,n,r,o){return"eu."},25:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"profiles"):t,{name:"each",hash:{},fn:e.program(26,o,0),inverse:e.noop,data:o,loc:{start:{line:81,column:8},end:{line:152,column:17}}}))?a:""},26:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            <h5>"+i(l(null!=t?s(t,"displayName"):t,t))+'</h5>\n            <ul class="c-sb-list c-sb-list--two-line u-pad-b-2">\n                <li class="c-sb-list-item">\n                    <span class="c-sb-list-item__label t-tx-charcoal-300">\n                        Last Seen\n                        <span class="c-sb-list-item__text t-tx-charcoal-500">\n                          '+i(l(null!=t?s(t,"seen"):t,t))+'\n                        </span>\n                    </span>\n                </li>\n            </ul>\n            <div class="toggleGroup sb-group">\n                <a class="toggleBtn sb-toggle" href="#">\n                    <h4 class="sb-toggle__title">\n                        <i class="caret sb-caret"></i>Default Properties\n                    </h4>\n                </a>\n                <div class="toggle">\n                    <ul>\n'+(null!=(a=s(n,"each").call(u,null!=t?s(t,"properties"):t,{name:"each",hash:{},fn:e.program(27,o,0),inverse:e.noop,data:o,loc:{start:{line:101,column:24},end:{line:107,column:33}}}))?a:"")+"                    </ul>\n                </div>\n            </div>\n"+(null!=(a=s(n,"if").call(u,null!=t?s(t,"customProps"):t,{name:"if",hash:{},fn:e.program(32,o,0),inverse:e.noop,data:o,loc:{start:{line:111,column:12},end:{line:130,column:19}}}))?a:"")+'            <div class="toggleGroup open sb-group">\n                <a class="toggleBtn sb-toggle" href="#">\n                    <h4 class="sb-toggle__title">\n                        <i class="caret sb-caret"></i>Recent Events\n                    </h4>\n                </a>\n                <div class="toggle">\n'+(null!=(a=s(n,"if").call(u,null!=t?s(t,"events"):t,{name:"if",hash:{},fn:e.program(36,o,0),inverse:e.program(39,o,0),data:o,loc:{start:{line:138,column:20},end:{line:146,column:27}}}))?a:"")+'                </div>\n            </div>\n            <p class="cust-links u-mrg-b-0 u-pad-t-1">\n                <a href="https://'+(null!=(a=s(n,"if").call(u,null!=t?s(t,"euDataResidency"):t,{name:"if",hash:{},fn:e.program(23,o,0),inverse:e.noop,data:o,loc:{start:{line:150,column:33},end:{line:150,column:66}}}))?a:"")+"mixpanel.com/report/"+i(l(null!=t?s(t,"project"):t,t))+"/explore/#user?distinct_id="+i(l(null!=t?s(t,"distinct"):t,t))+'" target="_blank">Mixpanel Profile</a>\n            </p>\n'},27:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isLink"):t,{name:"if",hash:{},fn:e.program(28,o,0),inverse:e.program(30,o,0),data:o,loc:{start:{line:102,column:28},end:{line:106,column:35}}}))?a:""},28:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                                <li><a href="'+l(a(null!=t?i(t,"val"):t,t))+'" title="'+l(a(null!=t?i(t,"val"):t,t))+'">'+l(a(null!=t?i(t,"name"):t,t))+"</a></li>\n"},30:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                <li>"+l(a(null!=t?i(t,"name"):t,t))+': <span class="t-tx-charcoal-500">'+l(a(null!=t?i(t,"val"):t,t))+"</span></li></li>\n"},32:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="toggleGroup sb-group">\n                    <a class="toggleBtn sb-toggle" href="#">\n                        <h4 class="sb-toggle__title">\n                            <i class="caret sb-caret"></i>Custom Properties\n                        </h4>\n                    </a>\n                    <div class="toggle">\n                        <ul>\n'+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"customProps"):t,{name:"each",hash:{},fn:e.program(33,o,0),inverse:e.noop,data:o,loc:{start:{line:120,column:28},end:{line:126,column:37}}}))?a:"")+"                        </ul>\n                    </div>\n                </div>\n"},33:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isLink"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(34,o,0),data:o,loc:{start:{line:121,column:32},end:{line:125,column:39}}}))?a:""},34:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                    <li>"+l(a(null!=t?i(t,"name"):t,t))+': <span class="t-tx-charcoal-500"></span>'+l(a(null!=t?i(t,"val"):t,t))+"</span></li>\n"},36:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        <ul>\n"+(null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"events"):t,{name:"each",hash:{},fn:e.program(37,o,0),inverse:e.noop,data:o,loc:{start:{line:140,column:28},end:{line:142,column:37}}}))?a:"")+"                        </ul>\n"},37:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                <li>"+l(a(null!=t?i(t,"name"):t,t))+': <span class="t-tx-charcoal-500">'+l(a(null!=t?i(t,"time"):t,t))+"</span></li>\n"},39:function(e,t,n,r,o){return"                        No recent events\n"},41:function(e,t,n,r,o){return'    <p class="u-mrg-b-0">Customer not found</p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"profiles"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(41,o,0),data:o,loc:{start:{line:1,column:0},end:{line:156,column:7}}}))?a:""},useData:!0})},5788:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(5573)),a=l(n(5789));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.extend({regions:{pluginLayout:".js-content"},notFoundMessage:"No Accounts, Contacts or Leads found",generalErrorMessage:"We had trouble accessing your Salesforce data, our team as been alerted and we will look into it. Please try again later",getNotFoundTemplateContent:function(){return this.notFoundMessage},pluginError:function(e,t){this.clearTimeout("killswitch"),404!=e.status?500!=e.status||this.showSimpleMessage(this.generalErrorMessage):this.showSimpleMessage(this.notFoundMessage)},callParentPluginLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.has(e,"error")?this.showSimpleMessage(this.generalErrorMessage):!r.default.isEmpty(e)&&e.data?this.pluginLayout.show(new a.default({mailbox:this.mailbox,response:e.data})):this.showSimpleMessage(this.notFoundMessage)},showSimpleMessage:function(e){this.$el.find(".js-content").html(e)}});t.default=i},5789:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(5)),o=d(n(1)),a=d(n(8)),l=d(n(20)),i=d(n(6)),u=d(n(5790)),s=d(n(5791)),c=d(n(5793));function d(e){return e&&e.__esModule?e:{default:e}}var f=i.default.Layout.extend({template:u.default,regions:{sfProfileSelect:"#sf-profile-select",sfProfileContainer:"#sf-profile-container"},views:{},initialize:function(e){var t=e.response||{};this.mailbox=e.mailbox,this.profiles=new l.default.Collection(t.profiles),this.currentProfileId=t.selected_profile_id,appData.salesforce={instanceUrl:t.instance_url}},findProfileById:function(e){return this.profiles.findWhere({id:e})},getCurrentProfileId:function(){return this.currentProfileId},getCurrentProfile:function(){return this.findProfileById(this.getCurrentProfileId())},onShow:function(){this.renderChildren()},renderChildren:function(){this.views.profilesSelectView=new s.default({profiles:this.profiles,currentProfile:this.getCurrentProfile()}),this.listenTo(this.views.profilesSelectView,"profile:selected",this.onProfileSelected),this.sfProfileSelect.show(this.views.profilesSelectView),this.views.profileLayout=new c.default({currentProfile:this.getCurrentProfile()}),this.sfProfileContainer.show(this.views.profileLayout)},onProfileSelected:function(e){this.currentProfileId=e;var t=this.getCurrentProfile();t.get("dataObjects")?this.renderChildren():r.default.Utils.Ajax.get({url:this.getDataObjectsUrl(),done:o.default.bind((function(e){e.dataObjects&&t.set("dataObjects",e.dataObjects),this.renderChildren()}),this),fail:o.default.bind((function(e){this.renderChildren(),this.handleDataObjectFetchError(e)}),this)})},getDataObjectsUrl:function(){var e=this.mailbox.id,t=this.getCurrentProfileId();return"/api/v0/mailbox/".concat(e,"/salesforce/data-objects/").concat(t)},handleDataObjectFetchError:function(e){if(e.responseText){var t=a.default.parseJSON(e.responseText);t.data&&t.data.error&&this.views.profileLayout.triggerMethod("dataObjects:fetch:error",t.data)}}});t.default=f},5790:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div id="sfdc" class="sidebar-app">\n    <div id="sf-profile-select"></div>\n    <div id="sf-profile-container"></div>\n</div>\n'},useData:!0})},5791:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(6)),a=l(n(5792));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.ItemView.extend({template:a.default,ui:{profileSelect:".js-profiles",profileLink:".js-current-profile-link"},events:{"change @ui.profileSelect":"onProfileSelected"},initialize:function(e){this.profiles=e.profiles,this.currentProfile=e.currentProfile},serializeData:function(){var e=this.getOptions();return{options:e,hasOptions:e&&Object.keys(e).length>1,instanceUrl:appData.salesforce.instanceUrl,currentProfile:this.currentProfile.toJSON()}},getOptions:function(){var e=this.profiles.map((function(e){return{value:e.get("id"),name:e.get("name"),type:e.get("attributes").type}}));return r.default.groupBy(e,"type")},onProfileSelected:function(){this.trigger("profile:selected",this.ui.profileSelect.val())}});t.default=i},5792:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o,a,l){var i,u=e.lambda,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <select id="accounts" class="js-profiles">\n'+(null!=(i=c(n,"each").call(null!=t?t:e.nullContext||{},null!=t?c(t,"options"):t,{name:"each",hash:{},fn:e.program(2,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:3,column:8},end:{line:7,column:17}}}))?i:"")+'    </select>\n    <a href="'+s(u(null!=t?c(t,"instanceUrl"):t,t))+"/"+s(u(null!=(i=null!=t?c(t,"currentProfile"):t)?c(i,"id"):i,t))+'" class="tx-no-decoration js-current-profile-link t-tx-blue-600 u-d-block" target="_blank" title="Open in Salesforce">View Profile</a>\n'},2:function(e,t,r,o,a,l,i){var u,s,c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <optgroup label="'+c(e.lambda(a&&d(a,"key"),t))+'s">\n                '+c((s=n(243),s&&(s.__esModule?s.default:s)).call(null!=t?t:e.nullContext||{},t,null!=(u=null!=i[1]?d(i[1],"currentProfile"):i[1])?d(u,"id"):u,{name:"options",hash:{},data:a,loc:{start:{line:5,column:16},end:{line:5,column:53}}}))+"\n            </optgroup>\n"},4:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <ul class="c-sb-list c-sb-list--two-line">\n\t\t<li class="c-sb-list-item">\n\t\t\t<span class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t\t'+i(l(null!=(a=null!=(a=null!=t?u(t,"currentProfile"):t)?u(a,"attributes"):a)?u(a,"type"):a,t))+'\n\t\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t\t<a class="t-tx-blue-600" href="'+i(l(null!=t?u(t,"instanceUrl"):t,t))+"/"+i(l(null!=(a=null!=t?u(t,"currentProfile"):t)?u(a,"id"):a,t))+'" target="_blank" title="Open in Salesforce">'+i(l(null!=(a=null!=t?u(t,"currentProfile"):t)?u(a,"name"):a,t))+"</a>\n\t\t\t</span>\n\t\t\t</span>\n\t\t</li>\n\t</ul>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"hasOptions"):t,{name:"if",hash:{},fn:e.program(1,o,0,a,l),inverse:e.program(4,o,0,a,l),data:o,loc:{start:{line:1,column:0},end:{line:21,column:7}}}))?i:""},useData:!0,useDepths:!0})},5793:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(6)),o=u(n(5794)),a=u(n(5795)),l=u(n(5797)),i=u(n(5799));function u(e){return e&&e.__esModule?e:{default:e}}var s=r.default.Layout.extend({template:o.default,regions:{sfProfileDetails:"#sf-profile-details",sfProfileDataObjects:"#sf-profile-data-objects"},views:{},initialize:function(e){this.currentProfile=e.currentProfile},onShow:function(){this.views.dataObjectsView=new a.default({dataObjects:this.currentProfile.get("dataObjects")}),this.sfProfileDataObjects.show(this.views.dataObjectsView),this.views.profileDetailsView=new l.default({profile:this.currentProfile}),this.sfProfileDetails.show(this.views.profileDetailsView)},onDataObjectsFetchError:function(e){this.sfProfileDataObjects.show(new i.default(e))}});t.default=s},5794:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div id="sf-profile-details"></div>\n<div id="sf-profile-data-objects"></div>\n'},useData:!0})},5795:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(6)),a=l(n(5796));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.ItemView.extend({template:a.default,className:"s-salesforce-data-objects-view",dateFormat:"MMM D, YYYY",initialize:function(e){this.dataObjects=e.dataObjects||{}},serializeData:function(){return r.default.extend(this.dataObjects,{dateFormat:this.dateFormat,instanceUrl:appData.salesforce.instanceUrl})}});t.default=i},5796:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,r,a,l,i,u){var s,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="toggleGroup open sb-group">\n        <a class="toggleBtn sb-toggle" title="Expand/Collapse" href="#">\n            <h4 class="sb-toggle__title">\n                <i class="caret sb-caret"></i>Activity History\n            </h4>\n        </a>\n        <div class="toggle">\n            <ul class="c-timeline u-mrg-l-0 u-mrg-b-3">\n'+(null!=(s=o(n(5564)).call(null!=t?t:e.nullContext||{},null!=t?c(t,"activityhistories"):t,{name:"limit",hash:{limit:"5"},fn:e.program(2,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:10,column:16},end:{line:16,column:26}}}))?s:"")+"            </ul>\n        </div>\n    </div>\x3c!--/toggleGroup--\x3e\n"},2:function(e,t,r,a,l,i,u){var s,c=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="c-timeline__item">\n                    <span class="tx-400 u-d-block"><a href="'+d(c(null!=u[1]?f(u[1],"instanceUrl"):u[1],t))+"/"+d(c(null!=t?f(t,"Id"):t,t))+'" target="_blank">'+d(c(null!=t?f(t,"Subject"):t,t))+'</a></span>\n                    <span class="tx-400 u-d-block t-tx-charcoal-300">'+d(o(n(151)).call(null!=t?t:e.nullContext||{},null!=t?f(t,"ActivityDate"):t,null!=u[1]?f(u[1],"dateFormat"):u[1],{name:"formatDate",hash:{},data:l,loc:{start:{line:13,column:69},end:{line:13,column:110}}}))+" - "+d(c(null!=t?f(t,"ActivitySubtype"):t,t))+'</span>\n                    <span class="tx-400 u-d-block t-tx-charcoal-300">'+d(c(null!=(s=null!=t?f(t,"Owner"):t)?f(s,"Name"):s,t))+"</span>\n                </li>\n"},4:function(e,t,r,a,l,i,u){var s,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="toggleGroup open sb-group">\n        <a class="toggleBtn sb-toggle" title="Expand/Collapse" href="#">\n            <h4 class="sb-toggle__title">\n                <i class="caret sb-caret"></i>Open Activities\n            </h4>\n        </a>\n        <div class="toggle">\n            <ul class="c-timeline">\n'+(null!=(s=o(n(5564)).call(null!=t?t:e.nullContext||{},null!=t?c(t,"openactivities"):t,{name:"limit",hash:{limit:"5"},fn:e.program(5,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:31,column:16},end:{line:37,column:26}}}))?s:"")+"            </ul>\n        </div>\n    </div>\x3c!--/toggleGroup--\x3e\n"},5:function(e,t,r,a,l,i,u){var s,c=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="u-pad-b-3">\n                    <span class="tx-400 u-d-block"><a href="'+d(c(null!=u[1]?f(u[1],"instanceUrl"):u[1],t))+"/"+d(c(null!=t?f(t,"Id"):t,t))+'" target="_blank">'+d(c(null!=t?f(t,"Subject"):t,t))+'</a></span>\n                    <span class="tx-400 u-d-block t-tx-charcoal-300">'+d(o(n(151)).call(null!=t?t:e.nullContext||{},null!=t?f(t,"ActivityDate"):t,null!=u[1]?f(u[1],"dateFormat"):u[1],{name:"formatDate",hash:{},data:l,loc:{start:{line:34,column:69},end:{line:34,column:110}}}))+" - "+d(c(null!=t?f(t,"ActivitySubtype"):t,t))+'</span>\n                    <span class="tx-400 u-d-block t-tx-charcoal-300">'+d(c(null!=(s=null!=t?f(t,"Owner"):t)?f(s,"Name"):s,t))+"</span>\n                </li>\n"},7:function(e,t,r,a,l,i,u){var s,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="toggleGroup open sb-group">\n        <a class="toggleBtn sb-toggle" title="Expand/Collapse" href="#">\n            <h4 class="sb-toggle__title">\n                <i class="caret sb-caret"></i>Cases\n            </h4>\n        </a>\n        <div class="toggle">\n            <ul class="c-timeline">\n'+(null!=(s=o(n(5564)).call(null!=t?t:e.nullContext||{},null!=t?c(t,"cases"):t,{name:"limit",hash:{limit:"5"},fn:e.program(8,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:52,column:16},end:{line:57,column:26}}}))?s:"")+"            </ul>\n        </div>\n    </div>\x3c!--/toggleGroup--\x3e\n"},8:function(e,t,r,a,l,i,u){var s,c=e.lambda,d=e.escapeExpression,f=null!=t?t:e.nullContext||{},p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="u-pad-b-3">\n                    <span class="tx-400 u-d-block"><a href="'+d(c(null!=u[1]?p(u[1],"instanceUrl"):u[1],t))+"/"+d(c(null!=t?p(t,"Id"):t,t))+'" target="_blank">'+(null!=(s=p(r,"if").call(f,null!=t?p(t,"Subject"):t,{name:"if",hash:{},fn:e.program(9,l,0,i,u),inverse:e.program(11,l,0,i,u),data:l,loc:{start:{line:54,column:103},end:{line:54,column:154}}}))?s:"")+'</a><br> <span class="badge">'+d(c(null!=t?p(t,"Status"):t,t))+'</span></span>\n                    <span class="tx-400 u-d-block t-tx-charcoal-300 u-pad-t-1">'+d(o(n(151)).call(f,null!=t?p(t,"LastModifiedDate"):t,null!=u[1]?p(u[1],"dateFormat"):u[1],{name:"formatDate",hash:{},data:l,loc:{start:{line:55,column:79},end:{line:55,column:124}}}))+(null!=(s=p(r,"if").call(f,null!=t?p(t,"Priority"):t,{name:"if",hash:{},fn:e.program(13,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:55,column:124},end:{line:55,column:162}}}))?s:"")+"</span>\n                </li>\n"},9:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=t?a(t,"Subject"):t,t))},11:function(e,t,n,r,o){return"No Subject"},13:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" - "+e.escapeExpression(e.lambda(null!=t?a(t,"Priority"):t,t))},15:function(e,t,r,a,l,i,u){var s,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="toggleGroup open sb-group">\n        <a class="toggleBtn sb-toggle" title="Expand/Collapse" href="#">\n            <h4 class="sb-toggle__title">\n                <i class="caret sb-caret"></i>Orders\n            </h4>\n        </a>\n        <div class="toggle">\n            <ul class="c-timeline">\n'+(null!=(s=o(n(5564)).call(null!=t?t:e.nullContext||{},null!=t?c(t,"orders"):t,{name:"limit",hash:{limit:"5"},fn:e.program(16,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:72,column:16},end:{line:78,column:26}}}))?s:"")+"            </ul>\n        </div>\n    </div>\x3c!--/toggleGroup--\x3e\n"},16:function(e,t,r,a,l,i,u){var s,c=e.lambda,d=e.escapeExpression,f=null!=t?t:e.nullContext||{},p=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li class="u-pad-b-3">\n                    <span class="tx-400 u-d-block"><a href="'+d(c(null!=u[1]?p(u[1],"instanceUrl"):u[1],t))+"/"+d(c(null!=t?p(t,"Id"):t,t))+'" target="_blank">'+d(c(null!=t?p(t,"OrderNumber"):t,t))+'</a><br> <span class="badge">'+d(c(null!=t?p(t,"Status"):t,t))+'</span></span>\n                    <span class="tx-400 u-d-block t-tx-charcoal-300 u-pad-t-1">'+d(o(n(151)).call(f,null!=t?p(t,"EffectiveDate"):t,null!=u[1]?p(u[1],"dateFormat"):u[1],{name:"formatDate",hash:{},data:l,loc:{start:{line:75,column:79},end:{line:75,column:121}}}))+(null!=(s=p(r,"if").call(f,null!=t?p(t,"Type"):t,{name:"if",hash:{},fn:e.program(17,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:75,column:121},end:{line:75,column:151}}}))?s:"")+"</span>\n                    "+(null!=(s=p(r,"if").call(f,null!=t?p(t,"TotalAmount"):t,{name:"if",hash:{},fn:e.program(19,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:76,column:20},end:{line:76,column:118}}}))?s:"")+"\n                </li>\n"},17:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" - "+e.escapeExpression(e.lambda(null!=t?a(t,"Type"):t,t))},19:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block t-tx-charcoal-300">$'+e.escapeExpression(e.lambda(null!=t?a(t,"TotalAmount"):t,t))+"</span>"},21:function(e,t,r,a,l,i,u){var s,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="toggleGroup open sb-group">\n        <a class="toggleBtn sb-toggle" title="Expand/Collapse" href="#">\n            <h4 class="sb-toggle__title">\n                <i class="caret sb-caret"></i>Opportunities\n            </h4>\n        </a>\n        <div class="toggle">\n            <ul class="c-timeline">\n'+(null!=(s=o(n(5564)).call(null!=t?t:e.nullContext||{},null!=t?c(t,"opportunities"):t,{name:"limit",hash:{limit:"5"},fn:e.program(22,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:93,column:16},end:{line:106,column:26}}}))?s:"")+"            </ul>\n        </div>\n    </div>\x3c!--/toggleGroup--\x3e\n"},22:function(e,t,n,r,o,a,l){var i,u=e.lambda,s=e.escapeExpression,c=null!=t?t:e.nullContext||{},d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <li>\n                    <span class="tx-400 u-d-block"><a href="'+s(u(null!=l[1]?d(l[1],"instanceUrl"):l[1],t))+"/"+s(u(null!=t?d(t,"Id"):t,t))+'" target="_blank">'+s(u(null!=t?d(t,"Name"):t,t))+"</a>"+(null!=(i=d(n,"if").call(c,null!=t?d(t,"Amount"):t,{name:"if",hash:{},fn:e.program(23,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:95,column:115},end:{line:95,column:150}}}))?i:"")+'</span>\n                    <span class="tx-400 u-d-block t-tx-charcoal-300"><span class="badge">'+s(u(null!=t?d(t,"StageName"):t,t))+"</span></span>\n                    "+(null!=(i=d(n,"if").call(c,null!=t?d(t,"Type"):t,{name:"if",hash:{},fn:e.program(25,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:97,column:20},end:{line:97,column:113}}}))?i:"")+'\n                    <span class="tx-400 u-d-block t-tx-charcoal-300">\n'+(null!=(i=d(n,"if").call(c,null!=t?d(t,"IsClosed"):t,{name:"if",hash:{},fn:e.program(27,o,0,a,l),inverse:e.program(29,o,0,a,l),data:o,loc:{start:{line:99,column:20},end:{line:103,column:27}}}))?i:"")+"                    </span>\n                </li>\n"},23:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" - $"+e.escapeExpression(e.lambda(null!=t?a(t,"Amount"):t,t))},25:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block t-tx-charcoal-300 u-pad-t-1">'+e.escapeExpression(e.lambda(null!=t?a(t,"Type"):t,t))+"</span>"},27:function(e,t,r,a,l,i,u){var s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        Closed on "+e.escapeExpression(o(n(151)).call(null!=t?t:e.nullContext||{},null!=t?s(t,"CloseDate"):t,null!=u[1]?s(u[1],"dateFormat"):u[1],{name:"formatDate",hash:{},data:l,loc:{start:{line:100,column:34},end:{line:100,column:72}}}))+"\n"},29:function(e,t,r,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        "+(null!=(i=o(n(10)).call(null!=t?t:e.nullContext||{},null!=t?u(t,"Probability"):t,"!==",void 0,{name:"ifCond",hash:{},fn:e.program(30,l,0),inverse:e.noop,data:l,loc:{start:{line:102,column:24},end:{line:102,column:102}}}))?i:"")+"\n"},30:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=t?a(t,"Probability"):t,t))+"% Probability"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(n,"if").call(u,null!=(i=null!=t?s(t,"activityhistories"):t)?s(i,"length"):i,{name:"if",hash:{},fn:e.program(1,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:20,column:7}}}))?i:"")+"\n"+(null!=(i=s(n,"if").call(u,null!=(i=null!=t?s(t,"openactivities"):t)?s(i,"length"):i,{name:"if",hash:{},fn:e.program(4,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:22,column:0},end:{line:41,column:7}}}))?i:"")+"\n"+(null!=(i=s(n,"if").call(u,null!=(i=null!=t?s(t,"cases"):t)?s(i,"length"):i,{name:"if",hash:{},fn:e.program(7,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:43,column:0},end:{line:61,column:7}}}))?i:"")+"\n"+(null!=(i=s(n,"if").call(u,null!=(i=null!=t?s(t,"orders"):t)?s(i,"length"):i,{name:"if",hash:{},fn:e.program(15,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:63,column:0},end:{line:82,column:7}}}))?i:"")+"\n"+(null!=(i=s(n,"if").call(u,null!=(i=null!=t?s(t,"opportunities"):t)?s(i,"length"):i,{name:"if",hash:{},fn:e.program(21,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:84,column:0},end:{line:110,column:7}}}))?i:"")},useData:!0,useDepths:!0})},5797:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=(s(n(23)),s(n(6))),a=s(n(18)),l=s(n(5798)),i=s(n(105)),u=s(n(151));function s(e){return e&&e.__esModule?e:{default:e}}var c="".concat("MMM D, YYYY"," h:mm a");var d=o.default.ItemView.extend({template:l.default,initialize:function(e){this.profile=e.profile},serializeData:function(){return{instanceUrl:appData.salesforce.instanceUrl,lastModified:this.profile.get("lastmodifieddate"),description:this.getField("Description"),fields:this.getFields()}},getFields:function(){var e=[];return r.default.each(this.profile.get("fields"),(function(t,n,o){if("Description"!==n&&""!=t.value&&!r.default.isNull(t.value)){switch("PhotoUrl"===n&&(t.value=appData.salesforce.instanceUrl+t.value),t.type){case"currency":t.value=(0,i.default)(t.value);break;case"address":t.value=function(e){if(r.default.isNull(e))return"";var t="";return r.default.each([{key:"street",suffix:", ",modifier:function(e){return e.replace(/(?:\r\n|\r|\n)/g," ")}},{key:"city",suffix:", "},{key:"state",suffix:" "},{key:"postalCode",suffix:""}],(function(n){var o=e[n.key];r.default.isNull(o)||(r.default.isFunction(n.modifier)&&(o=n.modifier(o)),t+=o+n.suffix)})),t.replace(/(\s)+/," ")}(t.value);break;case"date":t.value=(0,u.default)(t.value,"MMM D, YYYY");break;case"datetime":t.value=(0,u.default)(t.value,c);break;case"url":t.value=function(e){var t=e,n=e;!1===/https?:\/\//.test(e)&&(t="http://".concat(e));var r='<a href="'.concat(t,'" target="_blank">').concat(n,"</a>");return new a.default.SafeString(r)}(t.value)}e.push(t)}})),e},getField:function(e){var t=this.profile.get("fields");return t&&t[e]?t[e]:null}});t.default=d},5798:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="t-tx-charcoal-300 u-mrg-b-2">'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"description"):t)?l(a,"value"):a,t))+"</div>\n"},3:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t<li class="c-sb-list-item">\n\t\t<span class="c-sb-list-item__label t-tx-charcoal-300">\n\t\t'+l(a(null!=t?i(t,"label"):t,t))+'\n\t\t<span class="c-sb-list-item__text t-tx-charcoal-500">\n\t\t\t'+l(a(null!=t?i(t,"value"):t,t))+"\n\t\t</span>\n\t\t</span>\n\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=i(n,"if").call(l,null!=t?i(t,"description"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:4,column:7}}}))?a:"")+'\n<ul class="c-sb-list c-sb-list--two-line u-pad-b-2">\n'+(null!=(a=i(n,"each").call(l,null!=t?i(t,"fields"):t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:0},end:{line:16,column:9}}}))?a:"")+"</ul>\n\n"},useData:!0})},5799:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(6)).default.ItemView.extend({template:r.default.template("<%= error %>"),initialize:function(e){this.error=e.error},serializeData:function(){return{error:this.error}}});t.default=a},5800:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n(5)),o=c(n(1)),a=c(n(70)),l=c(n(5554)),i=c(n(5801)),u=c(n(293)),s=c(n(5572));function c(e){return e&&e.__esModule?e:{default:e}}var d=l.default.extend({regions:{pluginLayout:".js-content"},initialize:function(e){l.default.prototype.initialize.call(this,e),this.initialResponse={},this.hasLoadedIssues=!1,this.ticket=e.ticket;var t=this.getChannelName();t&&(this.onChannelMessage=o.default.bind(this.onChannelMessage,this),this.pusherChannel=PusherClient.subscribe(t,"jira-event",this.onChannelMessage))},onClose:function(){l.default.prototype.onClose&&l.default.prototype.onClose.apply(this,arguments);var e=this.getChannelName();e&&PusherClient.unsubscribe(e,"jira-event",this.onChannelMessage)},onChannelMessage:function(e){switch(e.status){case 404:return this.pluginError(e);case 500:e.error="An error occurred"}return!this.hasLoadedIssues&&e.data&&e.data.issues?(this.hasLoadedIssues=!0,this.clearTimeout("killswitch"),this.callParentPluginLoaded(e)):this.hasLoadedIssues?this.updateUserInterface(e):void(this.initialResponse=o.default.extend({},this.initialResponse,e.data))},pluginError:function(e){if(this.clearTimeout("killswitch"),e&&500===e.status)this.callParentPluginLoaded({error:"An error occurred"});else{e&&404===e.status&&(this.hasLoadedIssues=!0);var t=JSON.parse(e.responseText);this.initUserInterface(t)}},callParentPluginLoaded:function(e){l.default.prototype.pluginLoaded.call(this,e),this.initUserInterface(e)},pluginLoaded:function(e,t,n){n&&202===n.status?this.initialResponse=e.data:(this.hasLoadedIssues=!0,this.clearTimeout("killswitch"),this.callParentPluginLoaded(e))},fetchPlugin:function(){return this.pusherChannel?this.pusherChannel.subscribed?l.default.prototype.fetchPlugin.call(this):(this.pusherChannel.bind("pusher:subscription_succeeded",o.default.bind(this.fetchPlugin,this)),void this.setTimeout("killswitch",(function(){this.callParentPluginLoaded({error:"An error occurred"})}),1e4)):this.callParentPluginLoaded({error:"An error occurred"})},getChannelName:function(){var e=this.model.get("slug").toLowerCase();if(this.ticket){var t=this.getTicketId();if(t)return PusherClient.channelName("sidebar.ticket.".concat(t,".app.").concat(e));var n=this.ticket.customer;if(n)return n.id?PusherClient.channelName("sidebar.customer.".concat(n.id,".app.").concat(e)):void 0}},doJiraError:function(e){r.default.Utils.Main.error(e.errors.join("\n")),this.closeBusy()},updateUserInterface:function(e){this.pluginLayout.currentView.trigger("update-options",e.data)},getTicketId:function(){var e=this.ticket,t=e.id,n=e.thread;return t||(n?n.ticketID:void 0)},getTicketType:function(){return this.ticket.type},initUserInterface:function(e){var t={appId:this.model.get("id"),mailboxId:this.mailbox.id,ticketId:this.getTicketId(),ticketType:this.getTicketType(),searchCollection:this.searchCollection,searchModel:this.searchModel};this.initialResponse=o.default.extend({},this.initialResponse,e.data,t),o.default.isArray(this.initialResponse.issues)||(this.initialResponse.issues=[]);var n=new i.default(this.initialResponse);this.listenTo(n,"issues:add",(function(e){var t=this.getTicketId();this.abortOnClose(e.link(this.model.get("id"),t,{done:function(){r.default.Utils.Main.success("Issue linked")},fail:function(e,t){"abort"!==t&&r.default.Utils.Main.error("Unable to link issue. Please try again.")}}))})),this.listenTo(n,"issues:remove",(function(e){var t=this.getTicketId();this.abortOnClose(e.unlink(this.model.get("id"),t,{done:function(){r.default.Utils.Main.success("Issue unlinked")},fail:function(e,t){"abort"!==t&&r.default.Utils.Main.error("Unable to unlink issue. Please try again.")}}))})),this.pluginLayout.show(n)}});a.default.mixin(d,u.default,s.default);var f=d;t.default=f},5801:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(6)),a=s(n(5802)),l=s(n(5803)),i=s(n(5840)),u=s(n(5651));function s(e){return e&&e.__esModule?e:{default:e}}var c=o.default.CompositeView.extend({template:a.default,className:"s-jira-list",itemView:i.default,itemViewContainer:"#jira-issues-list",itemViewOptions:function(){return{appId:this.options.appId,ticketId:this.options.ticketId}},ui:{linkIssueButton:".js-link-issue"},events:{"click @ui.linkIssueButton":"linkIssue"},initialize:function(e){var t=e.config?e.config.params:{};this.options.config=t,this.options.projects=this.getProjects(t,e.mailboxId),this.collection=new u.default(e.issues,{appId:e.appId,ticketId:e.ticketId}),this.collection.startRealtime(),this.listenTo(this.collection,"add remove",this.updateLinkIssueButton),this.listenTo(this,"itemview:unlink:issue",(function(e,t){this.handleRemove(t)})),this.listenTo(this,"update-options",(function(e){if(e.config&&e.config.params){var t=e.config.params.jiraProjects,n=e.config.params.jiraMailboxProjects;t&&t.length>0&&n&&n.length>0&&(this.options.projects=this.getProjects(e.config.params,e.mailboxId))}}))},onClose:function(){this.collection.stopRealtime()},serializeData:function(){return{hasIssues:this.collection.length>0}},linkIssue:function(e){e&&e.preventDefault();var t=this.collection.pluck("id"),n=r.default.extend({},this.options,{issueIds:t,searchCollection:this.searchCollection,searchModel:this.searchModel}),o=new l.default(n);this.listenTo(o,"issues:search",(function(e){this.searchCollection=e.searchCollection,this.searchModel=e.searchModel})),this.listenTo(o,"link:issue",this.handleAdd),this.listenTo(o,"unlink:issue",this.handleRemove),App.modalRegion.wrapAndShow(o,{modalClass:"s-jira-modal"})},getProjects:function(e,t){if(!e.jiraProjects||!e.jiraMailboxProjects)return[];var n=e.jiraProjects,o=e.jiraMailboxProjects[t];return!o||o.length<1?[]:r.default.filter(n,(function(e){return e.enabled&&r.default.contains(o,e.id)}))},handleAdd:function(e){this.collection.add(e),this.trigger("issues:add",e)},handleRemove:function(e){this.collection.remove(e.get("id")),this.trigger("issues:remove",e)},updateLinkIssueButton:function(){var e=this.collection.length>0?"Link another issue":"Link an issue";this.ui.linkIssueButton&&this.ui.linkIssueButton.text(e)}});t.default=c},5802:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"has-issues"},3:function(e,t,n,r,o){return"another"},5:function(e,t,n,r,o){return"an"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul id="jira-issues-list" class="c-jira-list list-unstyled list-with-badge"></ul>\n<p class="cust-links '+(null!=(a=i(n,"if").call(l,null!=t?i(t,"hasIssues"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:21},end:{line:2,column:55}}}))?a:"")+'">\n    <button class="c-button c-button--sidebar js-link-issue">Link '+(null!=(a=i(n,"if").call(l,null!=t?i(t,"hasIssues"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:3,column:66},end:{line:3,column:107}}}))?a:"")+" issue</button>\n</p>\n"},useData:!0})},5803:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5)),o=s(n(1)),a=s(n(6)),l=s(n(5804)),i=s(n(5805)),u=s(n(5838));function s(e){return e&&e.__esModule?e:{default:e}}var c=a.default.Layout.extend({template:l.default,regions:{mainRegion:"#jira-main-region"},initialize:function(e){this.ticketId=e.ticketId,this.RootView=this.ticketId?i.default:u.default,this.viewOptions=e,this.viewStack=[{viewClass:this.RootView,viewOptions:this.viewOptions}]},onShow:function(){this.showPrevious()},showNext:function(e,t){t=o.default.extend({},this.viewOptions,t),this.viewStack.push({viewClass:this.RootView,viewOptions:t}),this.showView(e,t)},showPrevious:function(){this.viewStack.length>1&&this.viewStack.pop();var e=this.viewStack[this.viewStack.length-1];this.showView(e.viewClass,e.viewOptions)},showView:function(e,t){var n=new e(t);this.ticketId&&(this.listenTo(n,"back",this.showPrevious),this.listenTo(n,"next",this.showNext),this.listenTo(n,"new:issue",(function(){r.default.Utils.Main.success("Issue created"),this.trigger("close")})),this.listenTo(n,"itemview:link:issue",(function(e,t){this.viewOptions.issueIds.push(t.get("id")),this.viewOptions.issues.push(t.toJSON()),this.trigger("link:issue",t),this.trigger("close")})),this.listenTo(n,"itemview:unlink:issue",(function(e,t){this.viewOptions.issueIds=o.default.without(this.viewOptions.issueIds,t.get("id")),this.viewOptions.issues=o.default.reject(this.viewOptions.issues,(function(e){return t.get("id")===e.id})),this.trigger("unlink:issue",t),this.trigger("close")})),this.listenTo(n,"error:issue",(function(e){r.default.Utils.Main.error(e)})),this.listenTo(n,"issues:search",(function(e){this.viewOptions.searchCollection=e.searchCollection,this.viewOptions.searchModel=e.searchModel,this.trigger("issues:search",e)}))),this.mainRegion.show(n)}});t.default=c},5804:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div id="jira-main-region"></div>\n'},useData:!0})},5805:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(5)),o=b(n(1)),a=b(n(8)),l=b(n(20)),i=b(n(70)),u=b(n(6)),s=b(n(5806)),c=b(n(5651)),d=b(n(5807)),f=b(n(5834)),p=b(n(5836)),m=b(n(345)),h=b(n(1561)),v=b(n(293)),y=b(n(5572));b(n(5529));function b(e){return e&&e.__esModule?e:{default:e}}var g=u.default.CompositeView.extend({template:s.default,className:"c-jira-modal",emptyView:f.default,itemView:p.default,itemViewContainer:"#jira-search-items",itemViewOptions:function(){return{appId:this.appId,mailboxId:this.mailboxId,ticketId:this.ticketId,issueIds:this.issueIds}},ui:{newIssueButton:".js-new-issue",searchInput:".js-search",searchClear:".js-search-clear",clearIcon:".js-clear-icon",loadingIcon:".js-loading-icon",title:".js-title",form:".js-search-form",page:".page",firstPage:".first",lastPage:".last"},events:{"click @ui.newIssueButton":"newIssue","click @ui.page":"goTo","click @ui.firstPage":"goTo","click @ui.lastPage":"goTo","click @ui.searchClear":"clearSearch","keyup @ui.searchInput":"handleKeyUpOnSearch","submit @ui.form":"handleSubmit"},initialize:function(e){this.appId=e.appId,this.mailboxId=e.mailboxId,this.ticketId=e.ticketId,this.searchTerm=e.searchTerm||"",this.previousSearchTerm="",this.recentIssues=e.recent||[],this.issueIds=e.issueIds||[],this.model=e.searchModel||new l.default.Model,this.collection=e.searchCollection||new c.default(this.recentIssues,{appId:this.appId}),this.listenTo(this.collection,"paginate",this.handlePaginate),this.listenTo(this,"itemview:unlink:issue",this.handleUnlink),e.searchCollection&&e.searchCollection.length>0&&e.searchModel&&e.searchModel.get("query")&&(this.doPaginate=!0),this.debouncedSearch=this.debounce(this.maybeSearch,500)},onRender:function(){this.paginateRegion=new u.default.Region({el:this.$(".paginate")})},onShow:function(){if(this.ui.title.text(this.getViewTitle()),this.toggleHighlightOnNewIssueButton(),this.toggleSearchState(),this.$(".paginate").html(""),!0===this.doPaginate&&this.handlePaginate(this.collection.getPaginationData()),this.initializeTypeahead(),!this.model.get("query")){var e=this.getLookupValuesFromSearchCache();e.length>0&&this.ui.searchInput.val(e[0]).trigger("keyup")}},initializeTypeahead:function(e){e&&this.ui.searchInput.typeahead("destroy");var t=o.default.bind((function(e,t){var n=this.getLookupValuesFromSearchCache(),r=[],o=new RegExp(e,"i");a.default.each(n,(function(e,t){o.test(t)&&r.push(t)})),t(r)}),this);this.ui.searchInput.typeahead({hint:!0,highlight:!1,minLength:0},{limit:10,name:"queries",source:t}),this.ui.searchInput.bind("typeahead:autocomplete typeahead:select",o.default.bind((function(e){this.ui.searchInput.typeahead("close")}),this)),this.ui.searchInput.bind("typeahead:close",o.default.bind((function(e){this.handleKeyUpOnSearch(e)}),this))},onClose:function(){this.ui.searchInput.typeahead("destroy")},serializeData:function(){return o.default.extend({},u.default.CompositeView.prototype.serializeData(),{recentIssues:this.recentIssues,searchTerm:this.model.get("query"),title:this.getViewTitle(),highlightNewIssueAction:!this.collection||this.collection.length<1})},getViewTitle:function(){var e=o.default.isFunction(this.ui.searchInput.val)&&""!==a.default.trim(this.ui.searchInput.val()),t=this.recentIssues&&this.recentIssues.length>0;return!e&&t?"Recent Issues":"Search Results"},goTo:function(e){e&&e.preventDefault();var t=(0,a.default)(e.target),n=t&&t.data("page");n&&this.search(n)},newIssue:function(e){e&&e.preventDefault(),this.trigger("next",d.default)},handleKeyUpOnSearch:function(e){this.$(".tt-menu").is(":visible")?e&&13===e.which&&this.ui.searchInput.typeahead("close"):(e&&13===e.which&&e.preventDefault(),this.toggleSearchState(),this.model.set("query",a.default.trim(this.ui.searchInput.val())),this.debouncedSearch())},handlePaginate:function(e){var t=new m.default({baseUrl:this.collection.url(),model:new l.default.Model(e),showPrevNext:!0,maxPages:5,minPagesToShowFirstLast:6});this.paginateRegion.show(t),(0,a.default)(".modal-backdrop").scrollTop(0)},handleSubmit:function(e){e&&e.preventDefault()},handleUnlink:function(e,t){this.trigger("unlink:issue",t)},clearSearch:function(e){e&&e.preventDefault(),this.ui.searchInput.val(""),this.ui.searchInput.typeahead("val",""),this.ui.searchInput.trigger("keyup"),this.ui.searchInput.focus()},resetUI:function(e,t){this.collection.reset(e),this.ui.title.text(this.getViewTitle()),this.toggleHighlightOnNewIssueButton(),t&&this.$(".paginate").html("")},maybeSearch:function(){var e=this.model.get("query");this.previousSearchTerm&&e===this.previousSearchTerm||(this.previousSearchTerm=e,this.search(1))},afterSearch:function(){this.shouldExecuteCallback()&&(this.isLoading=!1,this.toggleSearchState(),this.trigger("issues:search",{searchCollection:this.collection,searchModel:this.model}))},beforeSearch:function(){this.isLoading=!0,this.toggleSearchState()},search:function(e){if(""===a.default.trim(this.ui.searchInput.val()))return this.resetUI(this.recentIssues,!0),this.afterSearch();var t=this.model.get("query");e=e||1,this.beforeSearch();var n=this.collection.search({query:t,page:e},{success:o.default.bind((function(e){this.shouldExecuteCallback()&&(this.resetUI(e.models,!1),e.length>0&&this.cacheSearch(this.model.get("query")))}),this),error:o.default.bind((function(e,t){"abort"!==t&&this.shouldExecuteCallback()&&this.resetUI([],!0)}),this)});n.always(o.default.bind(this.afterSearch,this)),this.abortOnClose(n)},shouldExecuteCallback:function(){return this.ui.title&&o.default.isFunction(this.ui.title.text)},cacheSearch:function(e){var t=this.getLookupValuesFromSearchCache(),n=a.default.trim(e).toLowerCase(),r=o.default.map(t,(function(e){return a.default.trim(e).toLowerCase()}));if(n&&!(n.length<2)){if(!t||0===t.length)return this.setLookupValuesFromSearchCache([e]);var l=o.default.indexOf(r,n);if(-1!==l)return t.unshift(t.splice(l,1)[0]),this.setLookupValuesFromSearchCache(t),void(this.ui.searchInput&&o.default.isFunction(this.ui.searchInput)&&this.initializeTypeahead("reinitialize"));t.unshift(e),t.length>10&&t.pop(),this.setLookupValuesFromSearchCache(t)}},getLookupValuesFromSearchCache:function(){return r.default.Utils.LocalStorage.get("jira-queries")||[]},setLookupValuesFromSearchCache:function(e){r.default.Utils.LocalStorage.set("jira-queries",e)},toggleHighlightOnNewIssueButton:function(){var e=!this.collection||this.collection.length<1;this.ui.newIssueButton&&this.ui.newIssueButton.toggleClass("btn-success",e)},toggleSearchState:function(){this.clearTimeout("jira-search-loading"),!0===this.isLoading?(this.ui.clearIcon.css("display","none"),this.ui.loadingIcon.css("display","inline-block")):""===a.default.trim(this.ui.searchInput.val())?(this.ui.clearIcon.css("display","none"),this.ui.loadingIcon.css("display","none")):this.setTimeout("jira-search-loading",(function(){this.ui.clearIcon.css("display","inline-block"),this.ui.loadingIcon.css("display","none")}),500)}});i.default.mixin(g,h.default,y.default,v.default);var O=g;t.default=O},5806:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"btn-success"},3:function(e,t,n,r,o){return" modal-list"},compiler:[8,">= 4.3.0"],main:function(e,t,r,o,a){var l,i,u=null!=t?t:e.nullContext||{},s=e.lambda,c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal-header c-jira-modal__header">\n    <h5>Link an Issue</h5>\n    <div class="btn-group pull-right">\n        <a href="#" class="btn '+(null!=(l=d(r,"if").call(u,null!=t?d(t,"highlightNewIssueAction"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:31},end:{line:4,column:80}}}))?l:"")+' js-new-issue">New Issue</a>\n    </div>\n</div>\n<div class="modal-body c-jira-modal__body">\n    <form id="jiraSearch" class="js-search-form c-jira-modal-search-form">\n        <div class="search-large c-jira-modal-search">\n            <input type="text" class="search js-search c-jira-modal-search__input" autocomplete="off" placeholder="Search using plain text, Jira key, or JQL" value="'+c(s(null!=t?d(t,"searchTerm"):t,t))+'">\n            <span class="search-icon c-jira-modal-search__icon"><i class="icon-search-sm"></i></span>\n            <a href="#" class="c-jira-modal-search__clear js-search-clear" title="Clear search">\n                <i class="icon-circle-close-solid js-clear-icon is-clearable"></i>\n                <span class="spinner js-loading-icon is-loading"></span>\n            </a>\n        </div>\n    </form>\n\n    <h3 class="c-jira-modal__title js-title u-mrg-b-4">'+c(s(null!=t?d(t,"title"):t,t))+'</h3>\n\n    <ul id="jira-search-items" class="c-jira-modal-search-result-list '+(null!=(l=(i=n(10),i&&(i.__esModule?i.default:i)).call(u,null!=t?d(t,"searchTem"):t,"||",null!=t?d(t,"recentIssues"):t,{name:"ifCond",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:21,column:70},end:{line:21,column:131}}}))?l:"")+'"></ul>\n\n    <div class="paginate c-jira-modal-pagination"></div>\n</div>\n'},useData:!0})},5807:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=b(n(5)),o=b(n(1)),a=b(n(8)),l=b(n(20)),i=b(n(70)),u=b(n(6)),s=b(n(5808)),c=b(n(5809)),d=b(n(5652)),f=b(n(5810)),p=b(n(5828)),m=b(n(5830)),h=b(n(5832)),v=b(n(5572)),y=b(n(61));function b(e){return e&&e.__esModule?e:{default:e}}var g=["attachment","description","reporter"],O=u.default.Layout.extend({template:s.default,className:"c-jira-modal c-jira-modal--new-issue",ui:{backButton:".js-back",saveButton:".js-save",projectInput:"#project",issueTypeInput:"#type",reporterInput:"#reporter",summaryInput:"#summary",descriptionInput:"#description",fileInputs:":file",additionalFieldsInput:".js-additional-field-input",additionalFieldsRadios:".js-additional-field-radios",additionalFieldsCheckboxes:".js-additional-field-checkboxes",additionalFieldsDateTime:".js-additional-field-datetime"},events:{"click @ui.backButton":"back","click @ui.saveButton":"save","change @ui.fileInputs":"handleChangeFiles","change @ui.projectInput":"handleChangeProject","change @ui.issueTypeInput":"handleChangeIssueType"},regions:{additionalFieldsRegion:".js-additional-fields-region",attachmentsRegion:".js-attachments-region",issueTypesDropdownRegion:".js-issue-types-dropdown-region",usersDropdownRegion:".js-users-dropdown-region"},initialize:function(){o.default.extend(this,o.default.pick(this.options,"appId","ticketId")),this.collection=new c.default(this.options.projects,{appId:this.appId}),this.model=new d.default({project:w("defaultJiraProject"),reporter:w("defaultJiraReporter"),issuetype:w("defaultJiraIssuetype"),attachments:[]}),this.viewValidator=new y.default(this,"sumo"),this.listenTo(this.model,"change",this.render)},onClose:function(){this.viewValidator&&this.viewValidator.unbind()},onShow:function(){this.handleChangeProject(),this.renderAttachments()},serializeData:function(){var e={projects:this.collection.toJSON()};return o.default.extend({},this.model.toJSON(),e)},serializeForm:function(){var e={description:this.getValue(this.ui.descriptionInput),issuetype:this.getValue(this.ui.issueTypeInput,"integer"),project:this.getValue(this.ui.projectInput,"integer"),reporter:this.getValue(this.ui.reporterInput),summary:this.getValue(this.ui.summaryInput),ticketId:this.ticketId};e.additionalFields=this.getAdditionalFields();var t=this.model.get("attachments")||[],n=(0,a.default)('.attachments input[type="checkbox"]');e.attachments=o.default.map(t,(function(e){var t=n[e.index];return e.selected=(0,a.default)(t).is(":checked"),e})),this.model.set(e,{silent:!0})},back:function(e){e&&e.preventDefault(),this.trigger("back")},renderAttachments:function(){this.setValue(this.ui.fileInputs,"");var e=this.model.get("attachments")||[];this.attachmentsRegion.show(new p.default({collection:new l.default.Collection(e)}))},showErrorsOnAdditionalFields:function(e){var t=this.$("".concat(this.additionalFieldsRegion.el," [data-error]"));if(t.length>0&&t.html("").closest(".control-group").removeClass("error"),e){var n=e.additionalFields||[];o.default.each(n,(function(e,t){var n=this.$("".concat(this.additionalFieldsRegion.el," [data-error=").concat(t,"]"));if(n.length>0){var r=n.closest(".control-group").find("label").first().text(),o="required"===e?"".concat(r," is required"):e.replace("Operation value",r);n.html(o).closest(".control-group").addClass("error")}}),this)}},handleChangeFiles:function(e){e&&e.preventDefault();var t=e.currentTarget.files,n=this.model.get("attachments")||[];o.default.each(t,(function(e,t){n.push({file:e,name:e.name,selected:!0,error:void 0,index:t})})),this.model.set("attachments",n,{silent:!0}),this.renderAttachments()},handleChangeIssueType:function(){var e=this.getValue(this.ui.projectInput),t=this.collection.get(e),n=this.getValue(this.ui.issueTypeInput),r=t.get("issueTypes"),a=o.default.find(r,(function(e){return e.id===n})),i=a?a.fields:[],u=o.default.pluck(o.default.filter(i,(function(e){var t=o.default.contains(d.default.baseAttributes,e.key),n=!0===e.required;return t&&n})),"key");this.model.setAdditionalRequiredAttributes(u),this.refreshAdditionalRequiredAttributes(u);var s=g.filter((function(e){return!Object.keys(i).includes(e)}));this.model.setFilteredAttributes(s),this.refreshFilteredAttributes(s);var c=o.default.filter(i,(function(e){var t=o.default.contains(d.default.baseAttributes,e.key),n=!0===e.required;return!t&&n}));c=o.default.map(c,(function(e){return"assignee"===e.key&&(e.allowedValues=t.get("users")||[]),e})),this.additionalFieldsRegion.show(new f.default({appId:this.appId,collection:new l.default.Collection(c)}))},refreshAdditionalRequiredAttributes:function(e){var t=this;g.forEach((function(n){var r=o.default.contains(e,n);t.$(".js-field-key-".concat(n)).find(".required").first().toggle(r)}))},refreshFilteredAttributes:function(e){var t=this;g.forEach((function(n){var r=o.default.contains(e,n);t.$(".js-field-key-".concat(n)).toggle(!r)}))},handleChangeProject:function(){var e=this.getValue(this.ui.projectInput),t=this.collection.get(e);this.additionalFieldsRegion.show(new f.default({})),this.issueTypesDropdownRegion.show(new m.default({})),this.usersDropdownRegion.show(new h.default({})),t&&(this.ui.saveButton.prop("disabled",!0),a.default.when(this.fetchIssueTypesAndFields(t),this.fetchUsers(t)).done(o.default.bind((function(e,n){var r=e[0].projects[0].issuetypes,a=n[0],i=a.filter((function(e){return!!e.accountId})).length>0;i?this.model.unset("reporterKey"):this.model.set("reporterKey","name");var u=o.default.reject(r,(function(e){return!0===e.subtask}));t.set("issueTypes",r,{silent:!0}),t.set("users",a,{silent:!0}),this.issueTypesDropdownRegion.show(new m.default({collection:new l.default.Collection(u),issueType:this.model.get("issuetype")})),this.usersDropdownRegion.show(new h.default({collection:new l.default.Collection(a),hasAccountId:i,reporter:this.model.get("reporter")})),this.handleChangeIssueType(),this.ui.saveButton.prop("disabled",!1)}),this)).fail((function(e,t){"abort"!==t&&(401===e.status&&r.default.Utils.Main.error("Please check the connected Jira account has permissions to create/edit issues and modify the reporter for this project."),this.ui.saveButton.prop("disabled",!1))})))},fetchIssueTypesAndFields:function(e){this.abortPromise(this.fetchIssueTypesAndFieldsPromise);var t=e.get("issueTypes")||[];return t.length>0&&void 0!==t[0].fields?(new a.default.Deferred).resolve([{projects:[{issuetypes:t}]}]).promise():(this.fetchIssueTypesAndFieldsPromise=this.abortOnClose(r.default.Utils.Ajax.get({url:[hsGlobal.path+"api/v0/jira",this.appId,"project",e.get("key"),"issue-field-data"].join("/")})),this.fetchIssueTypesAndFieldsPromise)},fetchUsers:function(e){this.abortPromise(this.fetchUsersPromise);var t=e.get("users")||[];return t.length>0?(new a.default.Deferred).resolve([t]).promise():(this.fetchUsersPromise=this.abortOnClose(r.default.Utils.Ajax.get({url:[hsGlobal.path+"api/v0/jira",this.appId,"project",e.get("key"),"users"].join("/")})),this.fetchUsersPromise)},save:function(e){e&&e.preventDefault(),this.ui.saveButton.button("loading"),this.$(":input").prop("disabled",!0),this.$(".selectize-input").addClass("disabled"),this.showErrorsOnAdditionalFields(),this.serializeForm();var t=this.model.toJSON(),n=this.model.validate(t);return this.model.isValid()?this.abortOnClose(this.model.save(null,this.getOptions()).always(o.default.bind(this.onSaveAlways,this))):(this.showErrorsOnAdditionalFields(n),this.onSaveAlways(),a.default.Deferred().resolve())},onSaveAlways:function(){this.$(":input").prop("disabled",!1),this.$(".selectize-input").removeClass("disabled"),this.$(".error").first().scrollTop(0).find(":input").focus(),this.ui.saveButton.button&&this.ui.saveButton.button("reset")},onSaveError:function(e,t){if(t&&t.responseText){var n=JSON.parse(t.responseText),r=n.data&&n.data.errors;r&&(o.default.each(r,(function(e,t){this.viewValidator.invalid(this,t,e)}),this),this.showErrorsOnAdditionalFields({additionalFields:r}))}this.trigger("error:issue","Something went wrong. Please try again.")},onSaveSuccess:function(e){o.default.each(["project","reporter","issuetype"],(function(t){!function(e,t){r.default.Utils.LocalStorage.set(e,t)}("defaultJira".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),e.get(t))})),this.trigger("new:issue",e)},getOptions:function(){var e=this,t={url:"".concat(this.model.urlRoot,"/").concat(this.appId,"/issue"),error:o.default.bind(this.onSaveError,this),success:o.default.bind(this.onSaveSuccess,this)},n=o.default.filter(this.model.get("attachments")||[],(function(e){return!0===e.selected})),r=o.default.map(n,(function(e){return e.file}));return r.length<1||this.model.isAttributeFiltered("attachment")?o.default.extend({},t,{data:JSON.stringify(this.model.toJSONFiltered()),dataType:"json",contentType:"application/json"}):(t=o.default.extend({},t,{data:new FormData,processData:!1,contentType:!1}),o.default.each(this.model.attributes,(function(n,r){"attachments"===r||e.model.isAttributeFiltered(r)||function e(t,n,r){if(o.default.isArray(r))return void o.default.each(r,(function(r){e(t,"".concat(n,"[]"),r)}));if(o.default.isObject(r))return void o.default.each(r,(function(r,o){e(t,"".concat(n,"[").concat(o,"]"),r)}));t.append(n,r)}(t.data,r,n)})),o.default.each(r,(function(e){t.data.append("attachments[]",e)})),t)},getInput:function(e){return"string"==typeof e?this.$(e):e.length?e:this.$(e.selector)},getValue:function(e,t){e=this.getInput(e);var n=a.default.trim(e.val());switch(t){case"integer":return parseInt(n,10);default:return n}},setValue:function(e,t){(e=this.getInput(e)).val(t)},getAdditionalFields:function(){var e={};return this.$(this.ui.additionalFieldsInput.selector).each((function(){var t=(0,a.default)(this),n=t.attr("type"),r=t.attr("name"),l=t.val(),i=t.data("formatter"),u=t.data("key")||"value",s=t.data("child");if(!t.hasClass("selectize-control"))if(o.default.isArray(l))e[r]=o.default.map(l,(function(e){var t={};return t[u]=e,t}));else if("array"!==i)if("arrayHash"!==i){if("hash"!==i)"number"===n&&(l.match(/^\d+$/)?l=parseInt(l):l.match(/^\d+\.\d+$/)&&(l=parseFloat(l))),"url"===n&&l&&l.length>1&&-1==l.search(/^(https?|ftp):\/\//)&&(l="http://".concat(l)),e[r]=l;else if(e[r]={},e[r][u]=l,s){var c=(0,a.default)('[data-child-of="'.concat(s,'"]'));e[r].child={value:c.val()}}}else e[r]=o.default.map(l.split(","),(function(e){var t={};return t[u]=a.default.trim(e),t}));else e[r]=o.default.map(l.split(","),(function(e){return a.default.trim(e)}))})),this.$(this.ui.additionalFieldsRadios.selector).each((function(){var t=(0,a.default)(this),n=t.find("input:checked"),r=t.find('input[type="radio"]').first().attr("name"),o=n.val();e[r]={value:o}})),this.$(this.ui.additionalFieldsCheckboxes.selector).each((function(){var t=(0,a.default)(this),n=[];t.find('input[type="checkbox"]').each((function(){var e=(0,a.default)(this);e.is(":checked")&&n.push({value:e.val()})}));var r=t.find('input[type="checkbox"]').first().attr("name");e[r]=n})),this.$(this.ui.additionalFieldsDateTime.selector).each((function(){var t=(0,a.default)(this),n=t.data("key"),r=t.find(".js-additional-field-input--date").val(),o=t.find(".js-additional-field-input--hour").val(),l=t.find(".js-additional-field-input--minute").val();e[n]=r?function(e,t,n){var r=(new Date).getTimezoneOffset()/60,o=r>=0?"+":"-";r=Math.abs(r),t||(t=0);n||(n=0);t<10&&(t="0".concat(t));n<10&&(n="0".concat(n));r<10&&(r="0".concat(r));return"".concat(e,"T").concat(t,":").concat(n,":00.000").concat(o).concat(r,"00")}(r,o,l):null})),e}});function w(e){return r.default.Utils.LocalStorage.get(e)||null}i.default.mixin(O,v.default);var P=O;t.default=P},5808:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,r,o,a,l,i){var u,s,c=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <option value="'+d(c(null!=t?f(t,"id"):t,t))+'" '+(null!=(u=(s=n(10),s&&(s.__esModule?s.default:s)).call(null!=t?t:e.nullContext||{},null!=t?f(t,"id"):t,"==",null!=i[1]?f(i[1],"project"):i[1],{name:"ifCond",hash:{},fn:e.program(2,a,0,l,i),inverse:e.noop,data:a,loc:{start:{line:13,column:52},end:{line:13,column:117}}}))?u:"")+">"+d(c(null!=t?f(t,"name"):t,t))+"</option>\n"},2:function(e,t,n,r,o){return'selected="selected"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=e.lambda,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="modal-header c-jira-modal__header">\n    <a href="#" class="btn c-jira-modal__back js-back"><i class="icon icon-caret-left"></i></a>\n    <h5>New Issue</h5>\n</div>\n<div class="modal-body">\n    <form id="jiraAdd" class="form-vertical">\n        <div class="control-group">\n            <label class="control-label" for="project">Project <i class="required js-required-asterisk"></i></label>\n            <div class="controls">\n                <select class="input-xlarge" name="project" id="project">\n                    <option value="">Select one</option>\n'+(null!=(i=c(n,"each").call(null!=t?t:e.nullContext||{},null!=t?c(t,"projects"):t,{name:"each",hash:{},fn:e.program(1,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:12,column:20},end:{line:14,column:29}}}))?i:"")+'                </select>\n                <span class="help-block" data-error="project"></span>\n            </div>\x3c!--/controls--\x3e\n        </div>\x3c!--/control-group--\x3e\n\n        <div class="control-group">\n            <label class="control-label" for="type">Type <i class="required js-required-asterisk"></i></label>\n            <div class="controls">\n                <div class="js-issue-types-dropdown-region"></div>\n                <span class="help-block" data-error="issuetype"></span>\n            </div>\x3c!--/controls--\x3e\n        </div>\x3c!--/control-group--\x3e\n\n        <div class="js-sub-tasks-dropdown-region c-jira-nested-form-controls"></div>\n\n        <div class="control-group">\n            <label class="control-label" for="summary">Summary <i class="required js-required-asterisk"></i></label>\n            <div class="controls">\n                <input type="text" class="input-xlarge" name="summary" id="summary" value='+s(u(null!=t?c(t,"summary"):t,t))+'>\n                <span class="help-block" data-error="summary"></span>\n            </div>\x3c!--/controls--\x3e\n        </div>\x3c!--/control-group--\x3e\n\n        <div class="control-group js-field-key-description">\n            <label class="control-label" for="description">Description <i class="required js-required-asterisk hidden"></i></label>\n            <div class="controls">\n                <textarea rows="3" class="full-width" id="description">'+s(u(null!=t?c(t,"description"):t,t))+'</textarea>\n                <span class="help-block" data-error="description"></span>\n            </div>\x3c!--/controls--\x3e\n        </div>\x3c!--/control-group--\x3e\n\n        <div class="js-additional-fields-region c-jira-nested-form-controls"></div>\n\n        <div class="control-group js-field-key-attachment">\n            <label class="control-label" for="attachments">Attachments</label>\n            <div class="controls">\n                <div class="js-attachments-region"></div>\n                <input type="file" name="attachments" id="attachments" multiple>\n                <span class="help-block" data-error="attachments"></span>\n            </div>\n        </div>\n\n        <div class="control-group js-field-key-reporter">\n            <label class="control-label" for="reporter">Reporter  <i class="required js-required-asterisk"></i></label>\n            <div class="controls">\n                <div class="js-users-dropdown-region"></div>\n                <span class="help-block" data-error="reporter"></span>\n            </div>\x3c!--/controls--\x3e\n        </div>\x3c!--/control-group--\x3e\n\n        <div class="control-group">\n            <div class="controls right">\n                <button data-loading-text="Saving..." class="btn btn-success js-save">Create New Issue</button>\n            </div>\x3c!--/controls--\x3e\n        </div>\x3c!--/control-group--\x3e\n    </form>\n</div>\n'},useData:!0,useDepths:!0})},5809:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(20)).default.Collection.extend({initialize:function(e,t){r.default.extend(this,r.default.pick(t,"appId"))},url:function(){return"".concat(hsGlobal.path,"api/v0/jira/").concat(this.appId,"/projects")},getReportersForProject:function(e,t){var n=r.default.find(this.models,(function(t){return t.id==e}));n&&n.get("key");return t=r.default.extend({},t,{url:"".concat(hsGlobal.path,"api/v0/jira/").concat(this.appId,"/project/assignable-users")}),this.fetch(t)}});t.default=a},5810:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(6)),o=p(n(5811)),a=p(n(5815)),l=p(n(5817)),i=p(n(5819)),u=p(n(5820)),s=p(n(5553)),c=p(n(5822)),d=p(n(5824)),f=p(n(5826));function p(e){return e&&e.__esModule?e:{default:e}}var m=r.default.ItemView.extend({render:function(){this.$el.empty(),this.addFields()},onShow:function(){this.$el.hide(),this.collection&&this.collection.length>0&&this.$el.slideDown(300)},addFields:function(){!this.collection||this.collection.length<1||this.collection.each((function(e){var t=this.getView(e);t&&(t.render(),this.$el.append(t.el))}),this)},getView:function(e){var t,n=e.get("schema");if(n.custom){t=n.custom.replace("com.atlassian.jira.plugin.system.customfieldtypes:","")}else t=n.system;switch(t){case"assignee":var r=(e.get("allowedValues")||[]).filter((function(e){return!!e.accountId})).length>0;return new d.default({model:e,formatterKey:r?"accountId":"name",valueKey:r?"accountId":"name",labelKey:"displayName"});case"cascadingselect":return new a.default({model:e});case"duedate":case"datepicker":return new i.default({model:e});case"datetime":return new u.default({model:e});case"float":return new s.default({model:e,type:"number"});case"grouppicker":return new o.default({appId:this.options.appId,formatter:"hash",formatterKey:"name",labelField:"name",model:e,placeholder:"Find a group...",searchField:"name",url:"/rest/api/2/groups/picker",valueField:"name"});case"labels":return new o.default({appId:this.options.appId,customFieldId:e.get("key").replace("customfield_",""),create:!0,delimiter:",",formatter:"array",labelField:"label",model:e,placeholder:"Find or create labels...",searchField:"label",url:"/rest/api/1.0/labels/suggest",valueField:"label"});case"multicheckboxes":return new l.default({model:e});case"multiselect":return new d.default({model:e,type:"multiple"});case"components":return new o.default({appId:this.options.appId,create:!1,delimiter:",",formatter:"arrayHash",formatterKey:"name",labelField:"name",model:e,placeholder:"Add component(s)...",searchField:"name",valueField:"name"});case"multigrouppicker":return new o.default({appId:this.options.appId,delimiter:",",formatter:"arrayHash",formatterKey:"name",labelField:"name",model:e,placeholder:"Find a group...",searchField:"name",url:"/rest/api/2/groups/picker",valueField:"name"});case"multiuserpicker":return new o.default({appId:this.options.appId,delimiter:",",formatter:"arrayHash",formatterKey:"name",labelField:"displayName",model:e,placeholder:"Find users...",searchField:"displayName",url:"/rest/api/latest/user/picker",valueField:"key"});case"multiversion":return new d.default({model:e,type:"multiple",formatterKey:"name",valueKey:"name",labelKey:"name"});case"project":return new d.default({model:e,formatterKey:"key",valueKey:"key",labelKey:"name"});case"radiobuttons":return new c.default({model:e});case"select":return new d.default({model:e});case"textarea":return new f.default({model:e});case"url":return new s.default({model:e,type:"url"});case"version":return new d.default({model:e,formatterKey:"name",valueKey:"name",labelKey:"name"});case"userpicker":return new o.default({appId:this.options.appId,formatter:"hash",formatterKey:"name",labelField:"displayName",model:e,placeholder:"Find a user...",searchField:"displayName",url:"/rest/api/latest/user/picker",valueField:"key"});default:return new s.default({model:e})}}});t.default=m},5811:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(5812)),a=i(n(5813)),l=i(n(5553));function i(e){return e&&e.__esModule?e:{default:e}}var u=l.default.extend({template:o.default,initialize:function(e){l.default.prototype.initialize.apply(this,[e]),this.options.url&&(this.autocompleteModel=new a.default({appId:this.options.appId,url:this.options.url}))},onRender:function(){var e=r.default.extend({},{closeAfterSelect:!0,create:!1,copyClassesToDropdown:!1,hideSelected:!0,highlight:!1},r.default.pick(this.options,"create","valueField","labelField","searchField","options"));this.autocompleteModel?(e.load=r.default.bind((function(e,t){this.autocompleteModel.set({callback:t,query:e}),this.autocompleteModel.fetch()}),this),e.loadThrottle=100):e.options=this.model.get("allowedValues"),this.options.delimiter&&(e.delimiter=this.options.delimiter),this.$(".js-additional-field-input").selectize(e)},serializeData:function(){return r.default.extend({},l.default.prototype.serializeData.call(this),r.default.pick(this.options,"delimiter","placeholder"))}});t.default=u},5812:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <input\n                    class="input-xlarge js-additional-field-input"\n                    name="'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:7,column:26},end:{line:7,column:34}}}):l)+'"\n                    id="'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:8,column:24},end:{line:8,column:32}}}):l)+'"\n                    placeholder="'+s("function"==typeof(l=null!=(l=c(n,"placeholder")||(null!=t?c(t,"placeholder"):t))?l:u)?l.call(i,{name:"placeholder",hash:{},data:o,loc:{start:{line:9,column:33},end:{line:9,column:48}}}):l)+'"\n                    '+(null!=(a=c(n,"if").call(i,null!=t?c(t,"formatter"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:20},end:{line:10,column:74}}}))?a:"")+"\n                    "+(null!=(a=c(n,"if").call(i,null!=t?c(t,"formatterKey"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:20},end:{line:11,column:74}}}))?a:"")+"\n            />\n"},2:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-formatter="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"formatter")||(null!=t?l(t,"formatter"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"formatter",hash:{},data:o,loc:{start:{line:10,column:53},end:{line:10,column:66}}}):a)+'"'},4:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-key="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"formatterKey")||(null!=t?l(t,"formatterKey"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"formatterKey",hash:{},data:o,loc:{start:{line:11,column:50},end:{line:11,column:66}}}):a)+'"'},6:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <select\n                    class="input-xlarge js-additional-field-input"\n                    name="'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:16,column:26},end:{line:16,column:34}}}):l)+'"\n                    id="'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:17,column:24},end:{line:17,column:32}}}):l)+'"\n                    placeholder="'+s("function"==typeof(l=null!=(l=c(n,"placeholder")||(null!=t?c(t,"placeholder"):t))?l:u)?l.call(i,{name:"placeholder",hash:{},data:o,loc:{start:{line:18,column:33},end:{line:18,column:48}}}):l)+'"\n                    '+(null!=(a=c(n,"if").call(i,null!=t?c(t,"formatter"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:20},end:{line:19,column:74}}}))?a:"")+"\n                    "+(null!=(a=c(n,"if").call(i,null!=t?c(t,"formatterKey"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.noop,data:o,loc:{start:{line:20,column:20},end:{line:20,column:74}}}))?a:"")+"\n            ></select>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group">\n    <label class="control-label" for="'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:2,column:38},end:{line:2,column:46}}}):l)+'">'+s("function"==typeof(l=null!=(l=c(n,"label")||(null!=t?c(t,"label"):t))?l:u)?l.call(i,{name:"label",hash:{},data:o,loc:{start:{line:2,column:48},end:{line:2,column:57}}}):l)+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls">\n'+(null!=(a=c(n,"if").call(i,null!=t?c(t,"delimiter"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:4,column:8},end:{line:22,column:15}}}))?a:"")+'        <span class="help-block" data-error="'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:23,column:45},end:{line:23,column:53}}}):l)+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e'},useData:!0})},5813:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1)),o=a(n(20));function a(e){return e&&e.__esModule?e:{default:e}}var l=o.default.Model.extend({defaultValues:{appId:"",url:"",query:""},url:function(){return"".concat(hsGlobal.path,"api/v0/jira/").concat(this.get("appId"),"/autocomplete")},parse:function(e){return{results:e}},fetch:function(e){var t=this.get("callback");return e=r.default.extend({},{data:{url:this.get("url"),query:this.get("query")},success:function(e){t&&t(e.get("results"))},error:function(){t&&t()}},e),o.default.Model.prototype.fetch.call(this,e)}});t.default=l},5814:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-formatter="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"formatter")||(null!=t?l(t,"formatter"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"formatter",hash:{},data:o,loc:{start:{line:9,column:48},end:{line:9,column:61}}}):a)+'"'},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-key="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"formatterKey")||(null!=t?l(t,"formatterKey"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"formatterKey",hash:{},data:o,loc:{start:{line:10,column:45},end:{line:10,column:61}}}):a)+'"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group">\n    <label class="control-label" for="'+c(typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:u)===s?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:2,column:38},end:{line:2,column:46}}}):l)+'">'+c(typeof(l=null!=(l=d(n,"label")||(null!=t?d(t,"label"):t))?l:u)===s?l.call(i,{name:"label",hash:{},data:o,loc:{start:{line:2,column:48},end:{line:2,column:57}}}):l)+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls">\n        <input type="'+c(typeof(l=null!=(l=d(n,"type")||(null!=t?d(t,"type"):t))?l:u)===s?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:4,column:21},end:{line:4,column:29}}}):l)+'"\n               class="input-xlarge js-additional-field-input"\n               name="'+c(typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:u)===s?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:6,column:21},end:{line:6,column:29}}}):l)+'"\n               id="'+c(typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:u)===s?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:7,column:19},end:{line:7,column:27}}}):l)+'"\n               value="'+c(typeof(l=null!=(l=d(n,"value")||(null!=t?d(t,"value"):t))?l:u)===s?l.call(i,{name:"value",hash:{},data:o,loc:{start:{line:8,column:22},end:{line:8,column:31}}}):l)+'"\n               '+(null!=(a=d(n,"if").call(i,null!=t?d(t,"formatter"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:9,column:15},end:{line:9,column:69}}}))?a:"")+"\n               "+(null!=(a=d(n,"if").call(i,null!=t?d(t,"formatterKey"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:15},end:{line:10,column:69}}}))?a:"")+'\n        />\n        <span class="help-block" data-error="'+c(typeof(l=null!=(l=d(n,"name")||(null!=t?d(t,"name"):t))?l:u)===s?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:12,column:45},end:{line:12,column:53}}}):l)+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e'},useData:!0})},5815:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(5816)),a=l(n(5553));function l(e){return e&&e.__esModule?e:{default:e}}var i=a.default.extend({template:o.default,ui:{parent:".js-additional-field-input",child:".child"},events:{"change @ui.parent":"updateChild"},initialize:function(e){a.default.prototype.initialize.apply(this,[e]),this.allowedValues=this.model?this.model.get("allowedValues"):[]},serializeData:function(){return r.default.extend({},a.default.prototype.serializeData.call(this),{options:this.allowedValues})},onRender:function(){this.updateChild()},updateChild:function(){var e=this.ui.parent.val(),t=r.default.find(this.allowedValues,(function(t){return t.value===e}));if(this.ui.child.html(""),t&&t.children&&t.children.length>0){var n='<select class="input-xlarge" data-child-of="'.concat(this.model.get("key"),'">');n+="<option></option>",n+=r.default.map(t.children,(function(e){return'<option value="'.concat(e.value,'">').concat(e.value,"</option>")})).join(""),n+="</select>",this.ui.child.html(n)}}});t.default=i},5816:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <option value="'+l(a(null!=t?i(t,"value"):t,t))+'">'+l(a(null!=t?i(t,"value"):t,t))+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group">\n    <label class="control-label" for="'+i(l(null!=t?u(t,"name"):t,t))+'">'+i(l(null!=t?u(t,"label"):t,t))+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls">\n        <select class="input-xlarge js-additional-field-input" data-formatter="hash" data-key="value" data-child="'+i(l(null!=t?u(t,"name"):t,t))+'" name="'+i(l(null!=t?u(t,"name"):t,t))+'" id="'+i(l(null!=t?u(t,"name"):t,t))+'">\n            <option></option>\n'+(null!=(a=u(n,"each").call(null!=t?t:e.nullContext||{},null!=t?u(t,"options"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:6,column:12},end:{line:8,column:21}}}))?a:"")+'        </select>\n        <div class="child">\n\n        </div>\n        <span class="help-block" data-error="'+i(l(null!=t?u(t,"name"):t,t))+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e'},useData:!0})},5817:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(5818)),a=l(n(5553));function l(e){return e&&e.__esModule?e:{default:e}}var i=a.default.extend({template:o.default,serializeData:function(){return r.default.extend({},a.default.prototype.serializeData.call(this),{options:this.model.get("allowedValues")})}});t.default=i},5818:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o,a,l){var i=e.lambda,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="checkbox">\n                <label>\n                    <input type="checkbox" name="'+u(i(null!=l[1]?s(l[1],"name"):l[1],t))+'" value="'+u(i(null!=t?s(t,"value"):t,t))+'" />\n                    '+u(i(null!=t?s(t,"value"):t,t))+"\n                </label>\n            </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=e.lambda,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group js-additional-field-checkboxes">\n    <label class="control-label">'+s(u(null!=t?c(t,"label"):t,t))+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls">\n'+(null!=(i=c(n,"each").call(null!=t?t:e.nullContext||{},null!=t?c(t,"options"):t,{name:"each",hash:{},fn:e.program(1,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:4,column:8},end:{line:11,column:17}}}))?i:"")+'        <span class="help-block" data-error="'+s(u(null!=t?c(t,"name"):t,t))+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e'},useData:!0,useDepths:!0})},5819:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(8));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(5553)).default.extend({onRender:function(){this.$(".js-additional-field-input").datepicker({format:"yyyy-mm-dd",todayHighlight:!0}).on("changeDate",(function(){var e=(0,r.default)(this);e.datepicker("hide"),setTimeout((function(){e.trigger("blur")}),50)}))}});t.default=a},5820:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(8)),a=l(n(5821));function l(e){return e&&e.__esModule?e:{default:e}}var i=l(n(5553)).default.extend({template:a.default,ui:{hours:".js-additional-field-input--hour",minutes:".js-additional-field-input--minute"},onRender:function(){this.$(".js-additional-field-input--date").datepicker({format:"yyyy-mm-dd",todayHighlight:!0}).on("changeDate",(function(){var e=(0,o.default)(this);e.datepicker("hide"),setTimeout((function(){e.trigger("blur")}),50)})),this.renderTimeControls()},renderTimeControls:function(){var e=u(24),t=u(60);s(this.ui.hours,e),s(this.ui.minutes,t)}});function u(e){return r.default.map(Array.apply(null,{length:e}),(function(e,t){return{label:t<10?"0".concat(t):t,value:t}}))}function s(e,t){var n=r.default.map(t,(function(e){return'<option value="'.concat(e.value,'">').concat(e.label,"</option>")}));e.html(n)}t.default=i},5821:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,u="function",s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group">\n    <label class="control-label">'+s(typeof(a=null!=(a=c(n,"label")||(null!=t?c(t,"label"):t))?a:i)===u?a.call(l,{name:"label",hash:{},data:o,loc:{start:{line:2,column:33},end:{line:2,column:42}}}):a)+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls js-additional-field-datetime" data-key="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:3,column:65},end:{line:3,column:73}}}):a)+'">\n        <div>\n            <div class="jira-datetime-date-field">\n                <input type="text" class="input-xlarge js-additional-field-input--date" name="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:6,column:94},end:{line:6,column:102}}}):a)+'" id="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:6,column:108},end:{line:6,column:116}}}):a)+'" value="'+s(typeof(a=null!=(a=c(n,"value")||(null!=t?c(t,"value"):t))?a:i)===u?a.call(l,{name:"value",hash:{},data:o,loc:{start:{line:6,column:125},end:{line:6,column:134}}}):a)+'">\n            </div>\n            <div class="jira-datetime-hour-field">\n                <select class="js-additional-field-input--hour"></select>\n            </div>:\n            <div class="jira-datetime-minute-field">\n                <select class="js-additional-field-input--minute"></select>\n            </div>\n        </div>\n        <span class="help-block" data-error="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:15,column:45},end:{line:15,column:53}}}):a)+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e'},useData:!0})},5822:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(5823)),a=l(n(5553));function l(e){return e&&e.__esModule?e:{default:e}}var i=a.default.extend({template:o.default,serializeData:function(){return r.default.extend({},a.default.prototype.serializeData.call(this),{options:this.model.get("allowedValues")})}});t.default=i},5823:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o,a,l){var i=e.lambda,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="radio">\n                <label>\n                    <input type="radio" name="'+u(i(null!=l[1]?s(l[1],"name"):l[1],t))+'" value="'+u(i(null!=t?s(t,"value"):t,t))+'" />\n                    '+u(i(null!=t?s(t,"value"):t,t))+"\n                </label>\n            </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=e.lambda,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group js-additional-field-radios">\n    <label class="control-label">'+s(u(null!=t?c(t,"label"):t,t))+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls">\n'+(null!=(i=c(n,"each").call(null!=t?t:e.nullContext||{},null!=t?c(t,"options"):t,{name:"each",hash:{},fn:e.program(1,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:4,column:8},end:{line:11,column:17}}}))?i:"")+'        <span class="help-block" data-error="'+s(u(null!=t?c(t,"name"):t,t))+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e'},useData:!0,useDepths:!0})},5824:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(5825)),a=l(n(5553));function l(e){return e&&e.__esModule?e:{default:e}}var i=a.default.extend({template:o.default,serializeData:function(){var e=this.options&&this.options.valueKey||"value",t=this.options&&this.options.labelKey||"value",n=this.options&&this.options.formatterKey||"value",o=r.default.map(this.model.get("allowedValues"),(function(n){return{value:n[e],label:n[t]}}));return r.default.extend({},a.default.prototype.serializeData.call(this),{options:o,type:this.options&&this.options.type,formatterKey:n})}});t.default=i},5825:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'<option value="">Select one</option>'},3:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <option value="'+l(a(null!=t?i(t,"value"):t,t))+'">'+l(a(null!=t?i(t,"label"):t,t))+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group">\n    <label class="control-label" for="'+i(l(null!=t?s(t,"name"):t,t))+'">'+i(l(null!=t?s(t,"label"):t,t))+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls">\n        <select class="input-xlarge js-additional-field-input" data-formatter="hash" data-key="'+i(l(null!=t?s(t,"formatterKey"):t,t))+'" name="'+i(l(null!=t?s(t,"name"):t,t))+'" id="'+i(l(null!=t?s(t,"name"):t,t))+'" '+i(l(null!=t?s(t,"type"):t,t))+">\n            "+(null!=(a=s(n,"unless").call(u,null!=t?s(t,"type"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:12},end:{line:5,column:75}}}))?a:"")+"\n"+(null!=(a=s(n,"each").call(u,null!=t?s(t,"options"):t,{name:"each",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:6,column:12},end:{line:8,column:21}}}))?a:"")+'        </select>\n        <span class="help-block" data-error="'+i(l(null!=t?s(t,"name"):t,t))+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e\n'},useData:!0})},5826:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5827));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(5553)).default.extend({template:r.default});t.default=a},5827:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,u="function",s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="control-group">\n    <label class="control-label" for="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:2,column:38},end:{line:2,column:46}}}):a)+'">'+s(typeof(a=null!=(a=c(n,"label")||(null!=t?c(t,"label"):t))?a:i)===u?a.call(l,{name:"label",hash:{},data:o,loc:{start:{line:2,column:48},end:{line:2,column:57}}}):a)+' <i class="required js-required-asterisk"></i></label>\n    <div class="controls">\n        <textarea class="input-xlarge js-additional-field-input" name="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:4,column:71},end:{line:4,column:79}}}):a)+'" id="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:4,column:85},end:{line:4,column:93}}}):a)+'">'+s(typeof(a=null!=(a=c(n,"value")||(null!=t?c(t,"value"):t))?a:i)===u?a.call(l,{name:"value",hash:{},data:o,loc:{start:{line:4,column:95},end:{line:4,column:104}}}):a)+'</textarea>\n        <span class="help-block" data-error="'+s(typeof(a=null!=(a=c(n,"name")||(null!=t?c(t,"name"):t))?a:i)===u?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:5,column:45},end:{line:5,column:53}}}):a)+'"></span>\n    </div>\x3c!--/controls--\x3e\n</div>\x3c!--/control-group--\x3e'},useData:!0})},5828:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(6)),o=a(n(5829));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.ItemView.extend({template:o.default,className:"attachments",serializeData:function(){return{attachments:this.collection.toJSON()}}});t.default=l},5829:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div>\n        <label class="checkbox">\n            <input type="checkbox"'+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"selected"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:34},end:{line:4,column:80}}}))?a:"")+"> "+i(l(null!=t?u(t,"name"):t,t))+'\n        </label>\n        <span class="help-block">'+i(l(null!=t?u(t,"error"):t,t))+"</span>\n    </div>\n"},2:function(e,t,n,r,o){return' checked="checked"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"attachments"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:8,column:9}}}))?a:""},useData:!0})},5830:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(20)),o=l(n(6)),a=l(n(5831));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.ItemView.extend({template:a.default,tagName:"select",className:"input-xlarge",id:"type",attributes:{name:"type"},initialize:function(e){this.issueType=e.issueType,this.collection=e.collection||new r.default.Collection},onShow:function(){(!this.collection||this.collection.length<1)&&this.$el.attr("disabled","disabled")},serializeData:function(){return{issueType:this.issueType,issueTypes:this.collection.toJSON(),allowNull:this.collection.length>1}}});t.default=i},5831:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'    <option value="">Select one</option>\n'},3:function(e,t,r,o,a,l,i){var u,s,c=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <option value="'+d(c(null!=t?f(t,"id"):t,t))+'" '+(null!=(u=(s=n(10),s&&(s.__esModule?s.default:s)).call(null!=t?t:e.nullContext||{},null!=t?f(t,"id"):t,"==",null!=i[1]?f(i[1],"issueType"):i[1],{name:"ifCond",hash:{},fn:e.program(4,a,0,l,i),inverse:e.noop,data:a,loc:{start:{line:5,column:32},end:{line:5,column:99}}}))?u:"")+">"+d(c(null!=t?f(t,"name"):t,t))+"</option>\n"},4:function(e,t,n,r,o){return'selected="selected"'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(i=s(n,"if").call(u,null!=t?s(t,"allowNull"):t,{name:"if",hash:{},fn:e.program(1,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:3,column:7}}}))?i:"")+(null!=(i=s(n,"each").call(u,null!=t?s(t,"issueTypes"):t,{name:"each",hash:{},fn:e.program(3,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:4,column:0},end:{line:6,column:9}}}))?i:"")},useData:!0,useDepths:!0})},5832:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(20)),o=l(n(6)),a=l(n(5833));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.ItemView.extend({template:a.default,tagName:"select",className:"input-xlarge",id:"reporter",attributes:{name:"reporter"},initialize:function(e){this.reporter=e.reporter,this.collection=e.collection||new r.default.Collection,this.hasAccountId=e.hasAccountId},onShow:function(){(!this.collection||this.collection.length<1)&&this.$el.attr("disabled","disabled")},serializeData:function(){return{reporter:this.reporter,users:this.collection.toJSON(),hasAccountId:this.hasAccountId}}});t.default=i},5833:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=u(n,"each").call(null!=t?t:e.nullContext||{},null!=t?u(t,"users"):t,{name:"each",hash:{},fn:e.program(2,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:3,column:4},end:{line:5,column:13}}}))?i:""},2:function(e,t,r,a,l,i,u){var s,c=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option value="'+d(c(null!=t?f(t,"accountId"):t,t))+'" '+(null!=(s=o(n(10)).call(null!=t?t:e.nullContext||{},null!=t?f(t,"accountId"):t,"==",null!=u[1]?f(u[1],"reporter"):u[1],{name:"ifCond",hash:{},fn:e.program(3,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:4,column:43},end:{line:4,column:116}}}))?s:"")+">"+d(c(null!=t?f(t,"displayName"):t,t))+"</option>\n"},3:function(e,t,n,r,o){return'selected="selected"'},5:function(e,t,n,r,o,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=u(n,"each").call(null!=t?t:e.nullContext||{},null!=t?u(t,"users"):t,{name:"each",hash:{},fn:e.program(6,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:7,column:4},end:{line:9,column:13}}}))?i:""},6:function(e,t,r,a,l,i,u){var s,c=e.lambda,d=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <option value="'+d(c(null!=t?f(t,"name"):t,t))+'" '+(null!=(s=o(n(10)).call(null!=t?t:e.nullContext||{},null!=t?f(t,"name"):t,"==",null!=u[1]?f(u[1],"reporter"):u[1],{name:"ifCond",hash:{},fn:e.program(3,l,0,i,u),inverse:e.noop,data:l,loc:{start:{line:8,column:38},end:{line:8,column:106}}}))?s:"")+">"+d(c(null!=t?f(t,"displayName"):t,t))+"</option>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<option value="">Select one</option>\n'+(null!=(i=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"hasAccountId"):t,{name:"if",hash:{},fn:e.program(1,o,0,a,l),inverse:e.program(5,o,0,a,l),data:o,loc:{start:{line:2,column:0},end:{line:10,column:7}}}))?i:"")},useData:!0,useDepths:!0})},5834:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(6)),o=a(n(5835));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.ItemView.extend({template:o.default,tagName:"li"});t.default=l},5835:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<ul class="c-jira-modal-search-result-list">\n    <li class="c-jira-modal-search-result-list__item is-empty">\n        <div class="c-jira-modal-search-result">\n            <div class="o-flexy o-flexy--top">\n                <div class="o-flexy__block u-mrg-r-5">\n                    <div class="c-jira-modal-search-result__content">\n                        <div class="c-jira-modal-placeholder c-jira-modal-placeholder--sm"></div>\n                        <div class="c-jira-modal-placeholder"></div>\n                        <div class="c-jira-modal-placeholder"></div>\n                    </div>\n                </div>\n                <div class="o-flexy__item">\n                    <div class="c-jira-modal-search-result__action">\n                        <div class="c-jira-modal-search-result__button"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </li>\n\n    <li class="c-jira-modal-search-result-list__item is-empty">\n        <div class="c-jira-modal-search-result">\n            <div class="o-flexy o-flexy--top">\n                <div class="o-flexy__block u-mrg-r-5">\n                    <div class="c-jira-modal-search-result__content">\n                        <div class="c-jira-modal-placeholder c-jira-modal-placeholder--sm"></div>\n                        <div class="c-jira-modal-placeholder"></div>\n                        <div class="c-jira-modal-placeholder"></div>\n                    </div>\n                </div>\n                <div class="o-flexy__item">\n                    <div class="c-jira-modal-search-result__action">\n                        <div class="c-jira-modal-search-result__button"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </li>\n\n    <li class="c-jira-modal-search-result-list__item is-empty">\n        <div class="c-jira-modal-search-result">\n            <div class="o-flexy o-flexy--top">\n                <div class="o-flexy__block u-mrg-r-5">\n                    <div class="c-jira-modal-search-result__content">\n                        <div class="c-jira-modal-placeholder c-jira-modal-placeholder--sm"></div>\n                        <div class="c-jira-modal-placeholder"></div>\n                        <div class="c-jira-modal-placeholder"></div>\n                    </div>\n                </div>\n                <div class="o-flexy__item">\n                    <div class="c-jira-modal-search-result__action">\n                        <div class="c-jira-modal-search-result__button"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </li>\n\n</ul>\n'},useData:!0})},5836:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(6)),a=i(n(5837)),l=i(n(23));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.ItemView.extend({template:a.default,tagName:"li",className:"c-jira-modal-search-result-list__item",ui:{linkIssueButton:".js-link-issue",unlinkIssueButton:".js-unlink-issue"},events:{"click @ui.linkIssueButton":"linkIssue","click @ui.unlinkIssueButton":"unlinkIssue"},initialize:function(e){this.appId=e.appId,this.ticketId=e.ticketId,this.issueIds=e.issueIds},serializeData:function(){var e=this.model.toJSON();return r.default.extend({},e,{description:l.default.truncate(e.description,120),isLinked:r.default.contains(this.issueIds,e.id),status:e.status.name})},linkIssue:function(e){e&&e.preventDefault(),this.trigger("link:issue",this.model)},unlinkIssue:function(e){e&&e.preventDefault(),this.trigger("unlink:issue",this.model)}});t.default=u},5837:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'                    <button class="btn btn-default c-jira-modal-search-result__button js-unlink-issue">Unlink Issue</button>\n'},3:function(e,t,n,r,o){return'                    <button class="btn btn-default c-jira-modal-search-result__button js-link-issue">Link Issue</button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="c-jira-modal-search-result">\n    <div class="o-flexy o-flexy--top">\n        <div class="o-flexy__block u-mrg-r-5">\n            <div class="c-jira-modal-search-result__content">\n                <h3 class="c-jira-modal-search-result__title tx-500">\n                    <div class="o-flexy o-flexy--top">\n                        <span class="u-mrg-r-2">\n                            <img src="'+c(typeof(l=null!=(l=d(n,"iconUrl")||(null!=t?d(t,"iconUrl"):t))?l:u)===s?l.call(i,{name:"iconUrl",hash:{},data:o,loc:{start:{line:8,column:38},end:{line:8,column:49}}}):l)+'" title="'+c(typeof(l=null!=(l=d(n,"type")||(null!=t?d(t,"type"):t))?l:u)===s?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:8,column:58},end:{line:8,column:66}}}):l)+'" alt="'+c(typeof(l=null!=(l=d(n,"type")||(null!=t?d(t,"type"):t))?l:u)===s?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:8,column:73},end:{line:8,column:81}}}):l)+'" class="c-jira-modal-search-result__icon jira-icon" />\n                            <a href="'+c(typeof(l=null!=(l=d(n,"url")||(null!=t?d(t,"url"):t))?l:u)===s?l.call(i,{name:"url",hash:{},data:o,loc:{start:{line:9,column:37},end:{line:9,column:44}}}):l)+'" target="_blank"><span class="c-jira-modal-search-result__summary">'+c(typeof(l=null!=(l=d(n,"key")||(null!=t?d(t,"key"):t))?l:u)===s?l.call(i,{name:"key",hash:{},data:o,loc:{start:{line:9,column:112},end:{line:9,column:119}}}):l)+" "+c(typeof(l=null!=(l=d(n,"summary")||(null!=t?d(t,"summary"):t))?l:u)===s?l.call(i,{name:"summary",hash:{},data:o,loc:{start:{line:9,column:120},end:{line:9,column:131}}}):l)+'</span><i class="badge transparent">'+c(typeof(l=null!=(l=d(n,"status")||(null!=t?d(t,"status"):t))?l:u)===s?l.call(i,{name:"status",hash:{},data:o,loc:{start:{line:9,column:167},end:{line:9,column:177}}}):l)+'</i></a>\n                        </span>\n                    </div>\n                </h3>\n                <p class="tx-wrap-break">\n                    '+c(typeof(l=null!=(l=d(n,"description")||(null!=t?d(t,"description"):t))?l:u)===s?l.call(i,{name:"description",hash:{},data:o,loc:{start:{line:14,column:20},end:{line:14,column:35}}}):l)+'\n                </p>\n            </div>\n        </div>\n        <div class="o-flexy__item">\n            <div class="c-jira-modal-search-result__action">\n'+(null!=(a=d(n,"if").call(i,null!=t?d(t,"isLinked"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:20,column:16},end:{line:24,column:23}}}))?a:"")+"            </div>\n        </div>\n    </div>\n</div>\n"},useData:!0})},5838:function(e,t,n){window;var r=a(n(6)),o=a(n(5839));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.ItemView.extend({template:o.default});e.exports=l},5839:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="modal-header c-jira-modal__header">\n  <h5>Link an Issue</h5>\n</div>\n<div class="modal-body c-jira-modal__body">\n  <p>Heyo! It\'s not currently possible to link a Jira issue during a chat. Once the chat is over, you can link an issue to the\n    Conversation.\n  </p>\n</div>'},useData:!0})},5840:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(6)),a=i(n(5841)),l=i(n(23));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.ItemView.extend({template:a.default,tagName:"li",className:"c-jira-list__item open",ui:{unlinkIssueButton:".js-unlink-issue"},events:{"click @ui.unlinkIssueButton":"unlinkIssue"},initialize:function(e){this.appId=e.appId,this.ticketId=e.ticketId},serializeData:function(){var e=this.model.toJSON();return r.default.extend({},e,{excerpt:l.default.truncate("".concat(e.key," ").concat(e.summary),80),status:e.status.name,ticketId:this.ticketId})},unlinkIssue:function(e){e&&e.preventDefault(),this.trigger("unlink:issue",this.model)}});t.default=u},5841:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"u-width-12"},3:function(e,t,n,r,o){return'<a href="#" title="Unlink Jira Issue" class="c-jira-list__link c-jira-list__link--unlink unlink-issue js-unlink-issue t-tx-blue-600">\n  <i class="icon-close-sm-alt"></i>\n</a>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+c(typeof(l=null!=(l=d(n,"url")||(null!=t?d(t,"url"):t))?l:u)===s?l.call(i,{name:"url",hash:{},data:o,loc:{start:{line:1,column:9},end:{line:1,column:16}}}):l)+'" target="_blank" title="Jira Issue" class="c-jira-list__link c-jira-list__link--issue issue '+(null!=(a=d(n,"unless").call(i,null!=t?d(t,"ticketId"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:109},end:{line:1,column:150}}}))?a:"")+' t-tx-blue-600">\n  <img src="'+c(typeof(l=null!=(l=d(n,"iconUrl")||(null!=t?d(t,"iconUrl"):t))?l:u)===s?l.call(i,{name:"iconUrl",hash:{},data:o,loc:{start:{line:2,column:12},end:{line:2,column:23}}}):l)+'" title="'+c(typeof(l=null!=(l=d(n,"type")||(null!=t?d(t,"type"):t))?l:u)===s?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:2,column:32},end:{line:2,column:40}}}):l)+'" alt="'+c(typeof(l=null!=(l=d(n,"type")||(null!=t?d(t,"type"):t))?l:u)===s?l.call(i,{name:"type",hash:{},data:o,loc:{start:{line:2,column:47},end:{line:2,column:55}}}):l)+'" class="c-jira-list__icon" />\n    <span class="c-jira-list__summary" title="'+c(typeof(l=null!=(l=d(n,"key")||(null!=t?d(t,"key"):t))?l:u)===s?l.call(i,{name:"key",hash:{},data:o,loc:{start:{line:3,column:46},end:{line:3,column:53}}}):l)+" "+c(typeof(l=null!=(l=d(n,"summary")||(null!=t?d(t,"summary"):t))?l:u)===s?l.call(i,{name:"summary",hash:{},data:o,loc:{start:{line:3,column:54},end:{line:3,column:65}}}):l)+'">\n      '+c(typeof(l=null!=(l=d(n,"excerpt")||(null!=t?d(t,"excerpt"):t))?l:u)===s?l.call(i,{name:"excerpt",hash:{},data:o,loc:{start:{line:4,column:6},end:{line:4,column:17}}}):l)+'\n    </span>\n    <i class="badge transparent">'+c(typeof(l=null!=(l=d(n,"status")||(null!=t?d(t,"status"):t))?l:u)===s?l.call(i,{name:"status",hash:{},data:o,loc:{start:{line:6,column:33},end:{line:6,column:43}}}):l)+"</i>\n</a>\n"+(null!=(a=d(n,"if").call(i,null!=t?d(t,"ticketId"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:0},end:{line:12,column:7}}}))?a:"")},useData:!0})},5842:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5)),o=i(n(5843)),a=i(n(5573)),l=i(n(5655));function i(e){return e&&e.__esModule?e:{default:e}}var u=a.default.extend({regions:{pluginLayout:".js-content"},errorMessage:"We had trouble accessing your HubSpot data, our team has been alerted and we will look into it. Please try again later.",callParentPluginLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=e.data,n=t.customer_id,r=t.hubId,a=t.profiles,i=t.selected_profile_id,u=this.model.get("slug");this.pluginLayout.show(new l.default({customerId:n,instanceUrl:r,profiles:a,ProfileModelClass:o.default,selectedProfileId:i,profileLinkTitle:"Open in HubSpot",slug:u}))},pluginError:function(e){if(this.clearTimeout("killswitch"),e&&500===e.status)return this.showSimpleMessage(this.errorMessage);a.default.prototype.pluginError.apply(this,e)},showSimpleMessage:function(e){this.$el.find(".js-content").html(e)},doCrmError:function(e){r.default.Utils.Main.error(e.errors.join("\n")),this.closeBusy()}});t.default=u},5843:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(1)),o=d(n(5587)),a=d(n(5653)),l=d(n(5853)),i=d(n(5855)),u=d(n(5858)),s=d(n(5861)),c=d(n(5866));function d(e){return e&&e.__esModule?e:{default:e}}var f=o.default.extend({profileFieldsCollectionOptions:{modelMap:{email:a.default,url:l.default}},dataObjectsCollectionOptions:{modelMap:{activity:i.default,deal:u.default,list:s.default,workflow:c.default}},unsubscribe:function(e,t){var n={customerId:e,contactId:this.get("id"),email:this.get("email")};t=r.default.extend({wait:!0},t);return this.save(n,r.default.extend({url:"/api/v0/hubspot/unsubscribe"},t))}});t.default=f},5844:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(1)),o=s(n(20)),a=s(n(5845)),l=s(n(5846)),i=s(n(5847)),u=s(n(5848));function s(e){return e&&e.__esModule?e:{default:e}}var c=o.default.Collection.extend({model:function(e,t){r.default.extend(t,{parse:!0});var n=t.collection.modelMap[e.type];return n?new n(e,t):new u.default(e,t)},initialize:function(e,t){t=t||{},this.modelMap=r.default.extend({},{currency:a.default,date:l.default,datetime:i.default},t.modelMap)}});t.default=c},5845:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(105));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Model.extend({toJSON:function(){return r.default.extend({},o.default.Model.prototype.toJSON.apply(this,arguments),{formattedValue:(0,a.default)(this.get("value"))})}});t.default=i},5846:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(35));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Model.extend({toJSON:function(){return r.default.extend({},o.default.Model.prototype.toJSON.apply(this,arguments),{formattedValue:(0,a.default)(this.get("value")).format("MMM D, YYYY")})}});t.default=i},5847:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(151));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Model.extend({toJSON:function(){return r.default.extend({},o.default.Model.prototype.toJSON.apply(this,arguments),{formattedValue:(0,a.default)(this.get("value"),"MMM D, YYYY h:mm a")})}});t.default=i},5848:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(5530));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Model.extend({toJSON:function(){return r.default.extend({},o.default.Model.prototype.toJSON.apply(this,arguments),{formattedValue:(0,a.default)("".concat(this.get("value")),{defaultProtocol:"http",target:"_blank"}),isHtml:!0})}});t.default=i},5849:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(5850));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Collection.extend({model:function(e,t){return new a.default(e,r.default.extend(t,{modelMap:t.collection.modelMap,parse:!0}))},parse:function(e){return r.default.filter(e,(function(e){return e.items&&(e.items.length||e.showEmpty)}))},initialize:function(e,t){t=t||{},this.modelMap=r.default.extend({},t.modelMap),this.getFetchUrl=t.getFetchUrl},fetch:function(e){var t=(e=e||{}).data?e.data.id:0;e.data&&r.default.isObject(e.data)&&(e.data=JSON.stringify(e.data));var n=r.default.isFunction(this.getFetchUrl)?this.getFetchUrl(t):"/api/v0/hubspot/related/".concat(t);return e=r.default.extend({contentType:"application/json",type:"POST",url:n},e),o.default.Collection.prototype.fetch.call(this,e)}});t.default=i},5850:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(5851));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Model.extend({constructor:function(e,t){this.relatedDataItems=new a.default([],{modelMap:t.modelMap}),o.default.Model.prototype.constructor.apply(this,arguments)},parse:function(e){return e&&(e.type&&this.relatedDataItems.setCustomProps(e.type),e.items.length&&this.relatedDataItems.reset(e.items)),r.default.omit(e,"items")}});t.default=i},5851:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(5852));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Collection.extend({model:function(e,t){r.default.extend(t,{parse:!0});var n=e.type,o=t.collection.modelMap[n];return o?new o(e,t):new a.default(e,t)},setCustomProps:function(e){var t=this.modelMap[e];t&&(this.className=t.prototype.parentViewClassName||"",this.limit=t.prototype.limit,this.moreUrl=t.prototype.moreUrl,this.HeaderViewClass=t.prototype.HeaderViewClass,this.FooterViewClass=t.prototype.FooterViewClass,this.EmptyViewClass=t.prototype.EmptyViewClass,t.prototype.collectionComparator&&(this.comparator=t.prototype.collectionComparator,this.sort()))},initialize:function(e,t){t=t||{},this.modelMap=r.default.extend({},t.modelMap)}});t.default=i},5852:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(20)),o=a(n(5551));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.Model.extend({ItemViewClass:o.default,EmptyViewClass:o.default});t.default=l},5853:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(20)),a=l(n(5854));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.Model.extend({toJSON:function(){return r.default.extend({},o.default.Model.prototype.toJSON.apply(this,arguments),{formattedValue:(0,a.default)(this.get("value")),isHtml:!0})}});t.default=i},5854:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(18))&&r.__esModule?r:{default:r};function a(e){var t=e,n=e;!1===/https?:\/\//.test(e)&&(t="http://"+e);var r='<a href="'+t+'" target="_blank">'+n+"</a>";return new o.default.SafeString(r)}o.default.registerHelper("formatUrl",a);var l=a;t.default=l},5855:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(20)),o=a(n(5856));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.Model.extend({ItemViewClass:o.default,itemViewClassName:"c-timeline__item",parentViewClassName:"c-timeline"});t.default=l},5856:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(5857)),a=i(n(5551)),l=i(n(5654));function i(e){return e&&e.__esModule?e:{default:e}}var u=a.default.extend({template:o.default,serializeData:function(){return r.default.extend({},a.default.prototype.serializeData.apply(this,arguments),{date:l.default.getFormattedDate(this.model.get("date"))})}});t.default=u},5857:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block">'+(null!=(a="function"==typeof(l=null!=(l=s(n,"subject")||(null!=t?s(t,"subject"):t))?l:u)?l.call(i,{name:"subject",hash:{},data:o,loc:{start:{line:1,column:31},end:{line:1,column:44}}}):l)?a:"")+'</span>\n<span class="tx-400 u-d-block t-tx-charcoal-300">'+e.escapeExpression("function"==typeof(l=null!=(l=s(n,"date")||(null!=t?s(t,"date"):t))?l:u)?l.call(i,{name:"date",hash:{},data:o,loc:{start:{line:2,column:49},end:{line:2,column:57}}}):l)+"</span>\n"},useData:!0})},5858:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(20)),o=a(n(5859));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.Model.extend({ItemViewClass:o.default,itemViewClassName:"u-mrg-b-3",limit:5,moreUrl:function(e,t){return"https://app.hubspot.com/contacts/".concat(e,"/deals/list/view/all/?associations-contact=").concat(t)},parentViewClassName:"c-timeline"});t.default=l},5859:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(5860)),a=i(n(5551)),l=i(n(5654));function i(e){return e&&e.__esModule?e:{default:e}}var u=a.default.extend({template:o.default,serializeData:function(){var e=this.model.get("closeDate"),t=this.model.get("probability");return r.default.extend({},a.default.prototype.serializeData.apply(this,arguments),{closeDate:l.default.getFormattedDate(e,{excludeTime:!0}),isExpected:this.isNotClosed(),showProbability:this.isNotClosed(),probability:t?100*t:null})},isNotClosed:function(){var e=this.model.get("probability");return e&&e!==this.CLOSED_LOST&&e!==this.CLOSED_WON}});u.prototype.CLOSED_LOST=0,u.prototype.CLOSED_WON=1;var s=u;t.default=s},5860:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" - $"+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"amount")||(null!=t?l(t,"amount"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"amount",hash:{},data:o,loc:{start:{line:1,column:146},end:{line:1,column:156}}}):a)},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block t-tx-charcoal-300"><span class="badge">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"dealStage")||(null!=t?l(t,"dealStage"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"dealStage",hash:{},data:o,loc:{start:{line:2,column:86},end:{line:2,column:99}}}):a)+"</span></span>"},5:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block t-tx-charcoal-300">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"dealType")||(null!=t?l(t,"dealType"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"dealType",hash:{},data:o,loc:{start:{line:3,column:65},end:{line:3,column:77}}}):a)+"</span>"},7:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        "+(null!=(a=u(n,"if").call(i,null!=t?u(t,"isExpected"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(10,o,0),data:o,loc:{start:{line:6,column:8},end:{line:6,column:64}}}))?a:"")+" on "+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"closeDate")||(null!=t?u(t,"closeDate"):t))?l:e.hooks.helperMissing)?l.call(i,{name:"closeDate",hash:{},data:o,loc:{start:{line:6,column:68},end:{line:6,column:81}}}):l)+"<br>\n"},8:function(e,t,n,r,o){return"Expected to close"},10:function(e,t,n,r,o){return"Closed"},12:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(a=null!=(a=l(n,"probability")||(null!=t?l(t,"probability"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"probability",hash:{},data:o,loc:{start:{line:8,column:27},end:{line:8,column:42}}}):a)+"% Probability"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block"><a href="https://app.hubspot.com/sales/'+s("function"==typeof(l=null!=(l=c(n,"instanceUrl")||(null!=t?c(t,"instanceUrl"):t))?l:u)?l.call(i,{name:"instanceUrl",hash:{},data:o,loc:{start:{line:1,column:70},end:{line:1,column:85}}}):l)+"/deal/"+s("function"==typeof(l=null!=(l=c(n,"id")||(null!=t?c(t,"id"):t))?l:u)?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:1,column:91},end:{line:1,column:97}}}):l)+'/" target="_blank">'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:116},end:{line:1,column:124}}}):l)+"</a>"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"amount"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:128},end:{line:1,column:163}}}))?a:"")+"</span>\n"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"dealState"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:2,column:120}}}))?a:"")+"\n"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"dealType"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:0},end:{line:3,column:91}}}))?a:"")+'\n<span class="tx-400 u-d-block t-tx-charcoal-300">\n'+(null!=(a=c(n,"if").call(i,null!=t?c(t,"closeDate"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:4},end:{line:7,column:11}}}))?a:"")+"    "+(null!=(a=c(n,"if").call(i,null!=t?c(t,"showProbability"):t,{name:"if",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:4},end:{line:8,column:62}}}))?a:"")+"\n</span>\n"},useData:!0})},5861:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(29)),a=i(n(5862)),l=i(n(5864));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.extend({FooterViewClass:a.default,ItemViewClass:l.default,destroy:function(e){var t=e.data||{};return e=r.default.extend({contentType:"application/json",data:JSON.stringify(t),type:"POST",url:"/api/v0/hubspot/lists/".concat(this.get("id"),"/remove")},r.default.omit(e,"data")),o.default.prototype.destroy.call(this,e)}});t.default=u},5862:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5)),o=i(n(1)),a=i(n(6)),l=i(n(5863));function i(e){return e&&e.__esModule?e:{default:e}}var u=a.default.ItemView.extend({template:l.default,ui:{loading:".js-loading",unsubscribe:".js-unsubscribe"},events:{"click @ui.unsubscribe":"unsubscribeFromAll"},initialize:function(e){o.default.extend(this,o.default.pick(e,"customerId","profile"))},onShow:function(){!0===this.profile.get("optedOut")&&this.$el.hide()},unsubscribeFromAll:function(e){var t=this;e&&e.preventDefault(),r.default.Utils.Main.confirm("Unsubscribe <strong>".concat(this.profile.get("email"),"</strong> from all emails? This cannot be undone. "),(function(){t.ui.loading.show(),t.profile.unsubscribe(t.customerId).error((function(){r.default.Utils.Main.error("Unable to unsubscribe ".concat(t.model.get("email"),".")),t.ui.loading.hide()})).success((function(){r.default.Utils.Main.success("Unsubscribed"),t.profile.set({optedOut:!0})}))}),null,{ok:"Unsubscribe from all emails",cancel:"Cancel"})}});t.default=u},5863:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<p class="tx-left tx-13 u-mrg-b-2">\n    <a href="#" class="js-unsubscribe t-tx-blue-600">Unsubscribe</a>\n    <span style="display:none; position: relative; top:-3px; left:2px; float: right" id="spinner" class="spinner js-loading"></span>\n</p>\n'},useData:!0})},5864:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5)),o=i(n(1)),a=i(n(5865)),l=i(n(5551));function i(e){return e&&e.__esModule?e:{default:e}}var u=l.default.extend({template:a.default,ui:{remove:".js-remove"},events:{"click @ui.remove":"removeListItem"},initialize:function(e){o.default.extend(this,o.default.pick(e,"profile"))},serializeData:function(){return o.default.extend({},l.default.prototype.serializeData.apply(this,arguments),{isRemovable:this.isRemovable(),isOptedOut:!0===this.profile.get("optedOut")})},removeListItem:function(e){e&&e.preventDefault(),this.model.destroy({data:{contactId:this.profile.id,customerId:this.customerId},error:this.onError})},onError:function(){r.default.Utils.Main.error("Could not remove contact from list. Try again later.")},isRemovable:function(){return!this.model.get("dynamic")&&!this.profile.get("optedOut")}});t.default=u},5865:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'- <a href="#" class="js-remove tx-400">remove</a>\n'},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    - <span class="tx-400 t-tx-charcoal-300">'+(null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"isOptedOut"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:5,column:45},end:{line:5,column:97}}}))?a:"")+"</span>\n"},4:function(e,t,n,r,o){return"opted out"},6:function(e,t,n,r,o){return"smart list"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400">'+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"name")||(null!=t?u(t,"name"):t))?l:e.hooks.helperMissing)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:21},end:{line:1,column:29}}}):l)+"</span>\n"+(null!=(a=u(n,"if").call(i,null!=t?u(t,"isRemovable"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:0},end:{line:6,column:7}}}))?a:"")+"\n"},useData:!0})},5866:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(29)),a=l(n(5867));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.extend({ItemViewClass:a.default,destroy:function(e){var t=e.data||{};return e=r.default.extend({contentType:"application/json",data:JSON.stringify(t),type:"POST",url:"/api/v0/hubspot/workflows/".concat(this.get("id"),"/enrollments/").concat(t.contactEmail)},r.default.omit(e,"data")),o.default.prototype.destroy.call(this,e)}});t.default=i},5867:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(5)),o=i(n(1)),a=i(n(5868)),l=i(n(5551));function i(e){return e&&e.__esModule?e:{default:e}}var u=l.default.extend({template:a.default,ui:{remove:".js-remove"},events:{"click @ui.remove":"removeWorkflowItem"},removeWorkflowItem:function(e){e&&e.preventDefault(),this.model.destroy({data:{contactId:this.profile.get("id"),contactEmail:this.profile.get("email"),customerId:this.customerId},error:this.onError})},onError:function(){r.default.Utils.Main.error("Could not unenroll contact from workflow. Try again later.")},serializeData:function(){return o.default.extend({},l.default.prototype.serializeData.apply(this,arguments),{isCompleted:"completed"===this.model.get("status")})}});t.default=u},5868:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <span class="tx-400 t-tx-charcoal-300">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"status")||(null!=t?l(t,"status"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"status",hash:{},data:o,loc:{start:{line:3,column:43},end:{line:3,column:53}}}):a)+"</span>\n"},3:function(e,t,n,r,o){return'    <a href="#" class="js-remove tx-400">unenroll</a>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400">'+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"name")||(null!=t?u(t,"name"):t))?l:e.hooks.helperMissing)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:21},end:{line:1,column:29}}}):l)+"</span> -\n"+(null!=(a=u(n,"if").call(i,null!=t?u(t,"isCompleted"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:0},end:{line:6,column:7}}}))?a:"")},useData:!0})},5869:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-profile-switcher-region"></div>\n<div class="js-profile-region"></div>\n\n'},useData:!0})},5870:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="js-details-region u-pad-b-2"></div>\n<div class="js-related-data-region"></div>\n'},useData:!0})},5871:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(6)),o=l(n(5872)),a=l(n(5873));function l(e){return e&&e.__esModule?e:{default:e}}var i=r.default.CompositeView.extend({template:o.default,itemView:a.default,itemViewContainer:".js-details",initialize:function(){this.collection=this.model.fields}});t.default=i},5872:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="t-tx-charcoal-300 u-mrg-b-3">'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"description"):t)?l(a,"value"):a,t))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"description"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:3,column:7}}}))?a:"")+'<div class="js-details"></div>'},useData:!0})},5873:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(6)),o=a(n(5874));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.ItemView.extend({template:o.default});t.default=l},5874:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+(null!=(a="function"==typeof(l=null!=(l=i(n,"formattedValue")||(null!=t?i(t,"formattedValue"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"formattedValue",hash:{},data:o,loc:{start:{line:7,column:20},end:{line:7,column:40}}}):l)?a:"")+"\n"},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    "+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"formattedValue")||(null!=t?l(t,"formattedValue"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"formattedValue",hash:{},data:o,loc:{start:{line:9,column:20},end:{line:9,column:38}}}):a)+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="c-sb-list c-sb-list--two-line">\n    <li class="c-sb-list-item">\n        <span class="c-sb-list-item__label t-tx-charcoal-300">\n            '+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"label")||(null!=t?u(t,"label"):t))?l:e.hooks.helperMissing)?l.call(i,{name:"label",hash:{},data:o,loc:{start:{line:4,column:12},end:{line:4,column:21}}}):l)+'\n            <span class="c-sb-list-item__text t-tx-charcoal-500">\n'+(null!=(a=u(n,"if").call(i,null!=t?u(t,"isHtml"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:6,column:15},end:{line:10,column:23}}}))?a:"")+"            </span>\n        </span>\n    </li>\n</ul>\n"},useData:!0})},5875:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(6)),o=l(n(5876)),a=l(n(5877));function l(e){return e&&e.__esModule?e:{default:e}}var i=r.default.Layout.extend({className:"toggleGroup open",template:o.default,regions:{headerRegion:".js-header-region",footerRegion:".js-footer-region",mainRegion:".js-main-region"},initialize:function(e){var t=this;this.options=e,this.collection=this.model.relatedDataItems,this.HeaderViewClass=this.collection.HeaderViewClass,this.FooterViewClass=this.collection.FooterViewClass,this.EmptyViewClass=this.collection.EmptyViewClass,this.listenTo(this.collection,"remove",(function(){0!==t.collection.length||t.model.get("showEmpty")||(t.EmptyViewClass?(t.HeaderViewClass&&t.headerRegion.close(),t.FooterViewClass&&t.footerRegion.close(),t.mainRegion.show(new t.EmptyViewClass(t.options))):t.remove())})),this.listenTo(e.profile,"change:optedOut",this.render)},onShow:function(){this.showRegions()},onDomRefresh:function(){this.showRegions()},showRegions:function(){this.HeaderViewClass&&this.headerRegion.show(new this.HeaderViewClass(this.options)),this.FooterViewClass&&this.footerRegion.show(new this.FooterViewClass(this.options)),0!==this.collection.length&&this.EmptyViewClass?this.mainRegion.show(new this.EmptyViewClass(this.options)):this.mainRegion.show(new a.default(this.options))}});t.default=i},5876:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a class="toggleBtn sb-toggle" href="#" title="Expand/Collapse">\n    <h4 class="sb-toggle__title">\n        <i class="caret sb-caret"></i>'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"label")||(null!=t?l(t,"label"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o,loc:{start:{line:3,column:38},end:{line:3,column:47}}}):a)+'\n    </h4>\n</a>\n<div class="toggle">\n    <div class="js-header-region"></div>\n    <div class="js-main-region"></div>\n    <div class="js-footer-region"></div>\n</div>\n'},useData:!0})},5877:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(6)),a=i(n(5878)),l=i(n(5551));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.CompositeView.extend({template:a.default,addItemView:function(e,t,n){var r=this.collection.limit;r&&n>=r||o.default.CompositeView.prototype.addItemView.apply(this,arguments)},itemViewContainer:".js-related-data-items",itemView:function(e){var t=e.model,n={customerId:e.customerId,instanceUrl:e.instanceUrl,model:t,profile:e.profile};return t.ItemViewClass?new t.ItemViewClass(n):new l.default(n)},itemViewOptions:function(){return{instanceUrl:this.instanceUrl,profile:this.profile,customerId:this.customerId}},initialize:function(e){r.default.extend(this,r.default.pick(e,"customerId","instanceUrl","profile")),this.collection=this.model.relatedDataItems,this.listenTo(this.collection,"reset",this.render)},serializeData:function(){return r.default.extend({},this.model.toJSON(),{className:this.collection.className,isLimited:this.isLimited(),moreUrl:this.getMoreUrl()})},getChildViewOptions:function(){return{collection:this.collection,customerId:this.customerId,instanceUrl:this.instanceUrl,profile:this.profile}},getMoreUrl:function(){var e=this.collection.moreUrl;return e&&"function"==typeof e?e(this.instanceUrl,this.profile.get("id")):e},isLimited:function(){var e=this.collection.limit;return e&&this.collection.length>e}});t.default=u},5878:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <p><a href="'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"moreUrl")||(null!=t?l(t,"moreUrl"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"moreUrl",hash:{},data:o,loc:{start:{line:3,column:16},end:{line:3,column:27}}}):a)+'" target="_blank" class="js-view-more-url">View more</a></p>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<ul class="js-related-data-items '+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"className")||(null!=t?u(t,"className"):t))?l:e.hooks.helperMissing)?l.call(i,{name:"className",hash:{},data:o,loc:{start:{line:1,column:33},end:{line:1,column:46}}}):l)+' u-pad-b-2"></ul>\n'+(null!=(a=u(n,"if").call(i,null!=t?u(t,"isLimited"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:4,column:7}}}))?a:"")},useData:!0})},5879:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(1)),o=l(n(6)),a=l(n(5880));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.ItemView.extend({template:a.default,ui:{profileSelect:".js-profile-select"},events:{"change @ui.profileSelect":"onProfileSelected"},initialize:function(e){var t=e.hideProfileTypes,n=e.instanceUrl,r=e.profileLinkTitle;Object.assign(this,{hideProfileTypes:t,instanceUrl:n,profileLinkTitle:r})},serializeData:function(){var e=this.model.toJSON(),t=r.default.groupBy(this.collection.map((function(e){return{value:e.get("id"),name:e.get("name"),type:e.get("attributes").type}})),"type");return t={hideProfileTypes:this.hideProfileTypes,selectedProfile:e,shouldShowOptions:this.collection.length>1,options:t,profileLinkURI:this.getProfileLinkUri(),profileLinkTitle:this.profileLinkTitle}},getProfileLinkUri:function(){return"function"==typeof this.model.getUri?this.model.getUri(this.instanceUrl):this.model.get("url")?this.model.get("url"):["https://app.hubspot.com","contacts",this.instanceUrl,this.model.get("attributes").type,this.model.get("id")].join("/")},onProfileSelected:function(){this.collection.setSelectedProfile(this.ui.profileSelect.val()),this.model=this.collection.getSelectedProfile(),this.render()}});t.default=i},5880:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o,a,l){var i,u=e.lambda,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="u-mrg-b-1">\n        <select class="js-profile-select c-input tx-13">\n'+(null!=(i=c(n,"each").call(null!=t?t:e.nullContext||{},null!=t?c(t,"options"):t,{name:"each",hash:{},fn:e.program(2,o,0,a,l),inverse:e.noop,data:o,loc:{start:{line:4,column:12},end:{line:12,column:21}}}))?i:"")+'        </select>\n        <div class="u-pad-t-2">\n            <a href="'+s(u(null!=t?c(t,"profileLinkURI"):t,t))+'" class="tx-no-decoration js-selected-profile-link t-tx-blue-600" target="_blank" title="'+s(u(null!=t?c(t,"profileLinkTitle"):t,t))+'">\n                View Profile\n            </a>\n        </div>\n    </div>\n'},2:function(e,t,r,o,a,l,i){var u,s,c=null!=t?t:e.nullContext||{},d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(u=d(r,"unless").call(c,null!=i[1]?d(i[1],"hideProfileTypes"):i[1],{name:"unless",hash:{},fn:e.program(3,a,0,l,i),inverse:e.noop,data:a,loc:{start:{line:5,column:16},end:{line:7,column:27}}}))?u:"")+"                    "+e.escapeExpression((s=n(243),s&&(s.__esModule?s.default:s)).call(c,t,null!=(u=null!=i[1]?d(i[1],"selectedProfile"):i[1])?d(u,"id"):u,{name:"options",hash:{},data:a,loc:{start:{line:8,column:20},end:{line:8,column:58}}}))+"\n"+(null!=(u=d(r,"unless").call(c,null!=i[1]?d(i[1],"hideProfileTypes"):i[1],{name:"unless",hash:{},fn:e.program(5,a,0,l,i),inverse:e.noop,data:a,loc:{start:{line:9,column:16},end:{line:11,column:27}}}))?u:"")},3:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <optgroup label="'+e.escapeExpression(e.lambda(o&&a(o,"key"),t))+'">\n'},5:function(e,t,n,r,o){return"                </optgroup>\n"},7:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lambda,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <h5 class="u-mrg-b-'+(null!=(a=s(n,"if").call(l,null!=t?s(t,"hideProfileTypes"):t,{name:"if",hash:{},fn:e.program(8,o,0),inverse:e.program(10,o,0),data:o,loc:{start:{line:21,column:23},end:{line:21,column:64}}}))?a:"")+'">\n        <a href="'+u(i(null!=t?s(t,"profileLinkURI"):t,t))+'" target="_blank" title="'+u(i(null!=t?s(t,"profileLinkTitle"):t,t))+'">\n            '+u(i(null!=(a=null!=t?s(t,"selectedProfile"):t)?s(a,"name"):a,t))+"\n        </a>\n    </h5>\n"+(null!=(a=s(n,"unless").call(l,null!=t?s(t,"hideProfileTypes"):t,{name:"unless",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:26,column:4},end:{line:28,column:15}}}))?a:"")},8:function(e,t,n,r,o){return"3"},10:function(e,t,n,r,o){return"1"},12:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="muted u-mrg-b-1">'+e.escapeExpression(e.lambda(null!=(a=null!=(a=null!=t?l(t,"selectedProfile"):t)?l(a,"attributes"):a)?l(a,"type"):a,t))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,a,l){var i,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(i=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"shouldShowOptions"):t,{name:"if",hash:{},fn:e.program(1,o,0,a,l),inverse:e.program(7,o,0,a,l),data:o,loc:{start:{line:1,column:0},end:{line:29,column:7}}}))?i:""},useData:!0,useDepths:!0})},5881:function(e,t,n){window;var r,o=(r=n(20))&&r.__esModule?r:{default:r};e.exports=o.default.Collection.extend({selectedProfile:null,setSelectedProfile:function(e){this.selectedProfile=this.findWhere({id:parseInt(e)}),this.trigger("selected:profile:changed")},getSelectedProfile:function(){return this.selectedProfile||this.at(0)}})},5882:function(e,t,n){window;var r=a(n(6)),o=a(n(5883));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=r.default.ItemView.extend({tagName:"li",template:o.default,serializeData:function(){return Object.assign(r.default.ItemView.prototype.serializeData.apply(this,arguments),{imagePath:hsGlobal.imagePath,path:hsGlobal.path})}})},5883:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.hooks.helperMissing,u=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="no-apps" class="tx-center u-mrg-t-10">\n    <img src="'+u("function"==typeof(a=null!=(a=s(n,"imagePath")||(null!=t?s(t,"imagePath"):t))?a:i)?a.call(l,{name:"imagePath",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:27}}}):a)+'conversations/apps-blank-slate.svg" width="34" height="34" />\n    <p class="t-tx-charcoal-200 u-mrg-t-3 u-mrg-b-2">Access additional customer data<br>from 40+ tools and services</p>\n    <a href="'+u("function"==typeof(a=null!=(a=s(n,"path")||(null!=t?s(t,"path"):t))?a:i)?a.call(l,{name:"path",hash:{},data:o,loc:{start:{line:4,column:13},end:{line:4,column:21}}}):a)+'apps/" class="c-button btn-no-border">Browse Apps</a>\n</div>\n'},useData:!0})},5884:function(e,t,n){window;var r=l(n(5885)),o=l(n(5573)),a=l(n(5905));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.extend({regions:{pluginLayout:".content"},errorMessage:"We had trouble accessing your InfusionSoft data, our team has been alerted and we will look into it. Please try again later.",callParentPluginLoaded:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}};if(!e||!e.data)return this.showSimpleMessage(this.errorMessage);var t=e.data,n=t.selectedProfileId,o=t.profiles,l=t.customerId,i=t.url,u=this.model.get("slug");this.pluginLayout.show(new a.default({customerId:l,instanceUrl:i,profiles:o,ProfileModelClass:r.default,selectedProfileId:n,hideProfileTypes:!0,profileLinkTitle:"Open in InfusionSoft",slug:u}))},pluginError:function(e){if(this.clearTimeout("killswitch"),e&&500===e.status)return this.showSimpleMessage(this.errorMessage);o.default.prototype.pluginError.apply(this,e)},showSimpleMessage:function(e){this.$el.find("section.content").html(e)}});e.exports=i},5885:function(e,t,n){window;var r=c(n(5587)),o=c(n(5886)),a=c(n(5889)),l=c(n(5892)),i=c(n(5895)),u=c(n(5900)),s=c(n(5653));function c(e){return e&&e.__esModule?e:{default:e}}var d=r.default.extend({profileFieldsCollectionOptions:{modelMap:{currency:s.default}},dataObjectsCollectionOptions:{modelMap:{addresses:o.default,appointments:a.default,opportunities:l.default,orders:i.default,tags:u.default},getFetchUrl:function(e){return"/api/v0/infusionsoft/related/".concat(e)}}});e.exports=d},5886:function(e,t,n){window;var r=a(n(20)),o=a(n(5887));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.Model.extend({ItemViewClass:o.default,limit:10,moreUrl:function(e,t){return"".concat(e,"?view=edit&ID=").concat(t)}});e.exports=l},5887:function(e,t,n){window;var r=l(n(5888)),o=l(n(5551)),a=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}e.exports=o.default.extend({template:r.default,serializeData:function(){var e=a.default.chain([this.model.get("region"),this.model.get("country_code")]).compact().value().join(", ");return Object.assign({},o.default.prototype.serializeData.apply(this,arguments),{regionCountry:e})}})},5888:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-500 u-d-block"><b>'+c(typeof(l=null!=(l=d(n,"field")||(null!=t?d(t,"field"):t))?l:u)===s?l.call(i,{name:"field",hash:{},data:o,loc:{start:{line:1,column:34},end:{line:1,column:43}}}):l)+'</span>\n<span class="tx-400 u-d-block t-tx-charcoal-300">'+(null!=(a=typeof(l=null!=(l=d(n,"line1")||(null!=t?d(t,"line1"):t))?l:u)===s?l.call(i,{name:"line1",hash:{},data:o,loc:{start:{line:2,column:49},end:{line:2,column:60}}}):l)?a:"")+'</span>\n<span class="tx-400 u-d-block t-tx-charcoal-300">'+c(typeof(l=null!=(l=d(n,"line2")||(null!=t?d(t,"line2"):t))?l:u)===s?l.call(i,{name:"line2",hash:{},data:o,loc:{start:{line:3,column:49},end:{line:3,column:58}}}):l)+'</span>\n<span class="tx-400 u-d-block t-tx-charcoal-300">'+c(typeof(l=null!=(l=d(n,"locality")||(null!=t?d(t,"locality"):t))?l:u)===s?l.call(i,{name:"locality",hash:{},data:o,loc:{start:{line:4,column:49},end:{line:4,column:61}}}):l)+" "+c(typeof(l=null!=(l=d(n,"postal_code")||(null!=t?d(t,"postal_code"):t))?l:u)===s?l.call(i,{name:"postal_code",hash:{},data:o,loc:{start:{line:4,column:62},end:{line:4,column:77}}}):l)+'</span>\n<span class="tx-400 u-d-block t-tx-charcoal-300">'+c(typeof(l=null!=(l=d(n,"regionCountry")||(null!=t?d(t,"regionCountry"):t))?l:u)===s?l.call(i,{name:"regionCountry",hash:{},data:o,loc:{start:{line:5,column:49},end:{line:5,column:66}}}):l)+"</span>\n"},useData:!0})},5889:function(e,t,n){window;var r=a(n(20)),o=a(n(5890));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.Model.extend({ItemViewClass:o.default,itemViewClassName:"c-timeline__item",parentViewClassName:"c-timeline",limit:10,moreUrl:function(e,t){return"".concat(e,"?view=edit&ID=").concat(t)}});e.exports=l},5890:function(e,t,n){window;var r=a(n(5891)),o=a(n(5551));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=o.default.extend({template:r.default})},5891:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h4 class="tx-500"><a href="'+s("function"==typeof(l=null!=(l=c(n,"url")||(null!=t?c(t,"url"):t))?l:u)?l.call(i,{name:"url",hash:{},data:o,loc:{start:{line:1,column:28},end:{line:1,column:35}}}):l)+'" target="_blank" class="tx-500 t-tx-blue-900">'+(null!=(a="function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:82},end:{line:1,column:92}}}):l)?a:"")+'</a></h4>\n<span class="tx-400 u-d-block t-tx-charcoal-300">'+s("function"==typeof(l=null!=(l=c(n,"date")||(null!=t?c(t,"date"):t))?l:u)?l.call(i,{name:"date",hash:{},data:o,loc:{start:{line:2,column:49},end:{line:2,column:57}}}):l)+"</span>\n"},useData:!0})},5892:function(e,t,n){window;var r=a(n(20)),o=a(n(5893));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.Model.extend({ItemViewClass:o.default,limit:10,moreUrl:function(e,t){return"".concat(e,"?view=edit&ID=").concat(t)}});e.exports=l},5893:function(e,t,n){window;var r=a(n(5894)),o=a(n(5551));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=o.default.extend({template:r.default})},5894:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" - "+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"amount")||(null!=t?l(t,"amount"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"amount",hash:{},data:o,loc:{start:{line:1,column:94},end:{line:1,column:104}}}):a)},3:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block t-tx-charcoal-300"><span class="badge">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"stageName")||(null!=t?l(t,"stageName"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"stageName",hash:{},data:o,loc:{start:{line:2,column:86},end:{line:2,column:99}}}):a)+"</span></span>"},5:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"==typeof(a=null!=(a=l(n,"probability")||(null!=t?l(t,"probability"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"probability",hash:{},data:o,loc:{start:{line:4,column:27},end:{line:4,column:42}}}):a)+"% Probability"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block"><a href="'+s("function"==typeof(l=null!=(l=c(n,"url")||(null!=t?c(t,"url"):t))?l:u)?l.call(i,{name:"url",hash:{},data:o,loc:{start:{line:1,column:40},end:{line:1,column:47}}}):l)+'" target="_blank">'+s("function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:65},end:{line:1,column:73}}}):l)+"</a>"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"amount"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:77},end:{line:1,column:111}}}))?a:"")+"</span>\n"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"stageName"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:2,column:120}}}))?a:"")+'\n<span class="tx-400 u-d-block t-tx-charcoal-300">\n    '+(null!=(a=c(n,"if").call(i,null!=t?c(t,"showProbability"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:4,column:62}}}))?a:"")+"\n</span>\n"},useData:!0})},5895:function(e,t,n){window;var r=l(n(20)),o=l(n(5896)),a=l(n(5898));function l(e){return e&&e.__esModule?e:{default:e}}var i=r.default.Model.extend({ItemViewClass:o.default,HeaderViewClass:a.default,itemViewClassName:"c-timeline__item",parentViewClassName:"c-timeline",limit:10,moreUrl:function(e,t){return"".concat(e,"?view=edit&ID=").concat(t)}});e.exports=i},5896:function(e,t,n){window;var r=a(n(5897)),o=a(n(5551));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=o.default.extend({template:r.default})},5897:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" - "+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"total")||(null!=t?l(t,"total"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"total",hash:{},data:o,loc:{start:{line:1,column:63},end:{line:1,column:72}}}):a)},3:function(e,t,n,r,o){return'<span class="tx-400 u-d-block t-tx-charcoal-300"><span class="badge">RECURRING</span></span>'},5:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="tx-400 u-d-block t-tx-charcoal-300"><span class="badge">'+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"status")||(null!=t?l(t,"status"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"status",hash:{},data:o,loc:{start:{line:3,column:83},end:{line:3,column:93}}}):a)+"</span></span>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+s("function"==typeof(l=null!=(l=c(n,"url")||(null!=t?c(t,"url"):t))?l:u)?l.call(i,{name:"url",hash:{},data:o,loc:{start:{line:1,column:9},end:{line:1,column:16}}}):l)+'" target="_blank">'+s("function"==typeof(l=null!=(l=c(n,"title")||(null!=t?c(t,"title"):t))?l:u)?l.call(i,{name:"title",hash:{},data:o,loc:{start:{line:1,column:34},end:{line:1,column:43}}}):l)+"</a>"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"total"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:47},end:{line:1,column:79}}}))?a:"")+"\n"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"recurring"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:2,column:116}}}))?a:"")+"\n"+(null!=(a=c(n,"if").call(i,null!=t?c(t,"status"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:0},end:{line:3,column:114}}}))?a:"")+'\n<span class="tx-400 u-d-block t-tx-charcoal-300">'+s("function"==typeof(l=null!=(l=c(n,"date")||(null!=t?c(t,"date"):t))?l:u)?l.call(i,{name:"date",hash:{},data:o,loc:{start:{line:4,column:49},end:{line:4,column:57}}}):l)+"</span>\n"},useData:!0})},5898:function(e,t,n){window;var r=a(n(6)),o=a(n(5899));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=r.default.ItemView.extend({template:o.default})},5899:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"    Lifetime Value "+e.escapeExpression("function"==typeof(a=null!=(a=l(n,"ltv")||(null!=t?l(t,"ltv"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"ltv",hash:{},data:o,loc:{start:{line:2,column:19},end:{line:2,column:26}}}):a)+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"if").call(null!=t?t:e.nullContext||{},null!=t?l(t,"ltv"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:3,column:7}}}))?a:""},useData:!0})},5900:function(e,t,n){window;var r=l(n(20)),o=l(n(5901)),a=l(n(5903));function l(e){return e&&e.__esModule?e:{default:e}}var i=r.default.Model.extend({HeaderViewClass:a.default,ItemViewClass:o.default,collectionComparator:function(e){var t=e.get("name");return e.has("categoryName")&&(t=e.get("categoryName")+t),t.toLowerCase().replace(/[^a-z0-9]/g,"")}});e.exports=i},5901:function(e,t,n){window;var r=l(n(5)),o=l(n(5902)),a=l(n(5551));function l(e){return e&&e.__esModule?e:{default:e}}e.exports=a.default.extend({template:o.default,ui:{removeTag:".js-remove-tag"},events:{"click @ui.removeTag":"removeTag"},removeTag:function(e){var t=this;e&&e.preventDefault();var n={tagId:this.model.get("id"),contactId:this.profile.id,customerId:this.options.customerId},o="".concat(hsGlobal.apiPath,"infusionsoft/remove-tag");r.default.Utils.Ajax.post({url:o,params:n}).done((function(){t.model.collection.remove(t.model),App.trigger("infusionsoft:tag-removed",n.tagId)}))}})},5902:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(a="function"==typeof(l=null!=(l=i(n,"categoryName")||(null!=t?i(t,"categoryName"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"categoryName",hash:{},data:o,loc:{start:{line:1,column:46},end:{line:1,column:64}}}):l)?a:"")+" - "},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="badge" id="">'+(null!=(a=c(n,"if").call(i,null!=t?c(t,"categoryName"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:26},end:{line:1,column:74}}}))?a:"")+(null!=(a="function"==typeof(l=null!=(l=c(n,"name")||(null!=t?c(t,"name"):t))?l:u)?l.call(i,{name:"name",hash:{},data:o,loc:{start:{line:1,column:74},end:{line:1,column:84}}}):l)?a:"")+' <a href="" id="'+s("function"==typeof(l=null!=(l=c(n,"id")||(null!=t?c(t,"id"):t))?l:u)?l.call(i,{name:"id",hash:{},data:o,loc:{start:{line:1,column:100},end:{line:1,column:106}}}):l)+'" class="js-remove-tag">x</a></span>\n<span class="tx-400 u-d-block t-tx-charcoal-300">Added '+s("function"==typeof(l=null!=(l=c(n,"date")||(null!=t?c(t,"date"):t))?l:u)?l.call(i,{name:"date",hash:{},data:o,loc:{start:{line:2,column:55},end:{line:2,column:63}}}):l)+"</span>\n"},useData:!0})},5903:function(e,t,n){window;var r=u(n(5)),o=u(n(1)),a=u(n(20)),l=u(n(6)),i=u(n(5904));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=l.default.ItemView.extend({template:i.default,ui:{tagAutoComplete:".js-additional-field-input",addTag:".js-add-tag"},events:{"click @ui.addTag":"addTag"},initialize:function(){this.tagOptions=new a.default.Collection(this.model.get("tags")),this.listenTo(this.tagOptions,"change:visible",this.render),this.listenTo(App,"infusionsoft:tag-removed",this.onTagRemoved),this.listenTo(App,"infusionsoft:tag-added",this.onTagAdded)},onRender:function(){var e=this,t=Object.assign({},{options:this.getTagOptions(),optgroups:this.model.get("tagGroups"),optgroupField:"class",labelField:"name",searchField:["name"],sortField:"name",delimiter:","});t.onChange=function(t){var n={tagId:t,contactId:e.options.profile.id,customerId:e.options.customerId},o="".concat(hsGlobal.apiPath,"infusionsoft/add-tag");r.default.Utils.Ajax.post({url:o,params:n}).done((function(e){App.trigger("infusionsoft:tag-added",e)}))},this.ui.tagAutoComplete.selectize(t)},onShow:function(){this.ui.tagAutoComplete.next(".selectize-control").hide()},addTag:function(e){e&&e.preventDefault(),this.ui.tagAutoComplete.next(".selectize-control").show()},onTagRemoved:function(e){this.toggleTagOption(e,!0);var t=this.getProfileTagsSection();t.items=o.default.without(t.items,o.default.findWhere(t.items,{id:e})),t.tags=this.tagOptions.toJSON()},onTagAdded:function(e){this.toggleTagOption(e.id,!1);var t=this.getProfileTagsSection();t.items.push(e),t.tags=this.tagOptions.toJSON()},toggleTagOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.tagOptions.findWhere({value:e}).set("visible",t)},getTagOptions:function(){return o.default.map(this.tagOptions.where({visible:!0}),(function(e){return e.toJSON()}))},getProfileTagsSection:function(){return o.default.findWhere(this.options.profile.get("relatedData"),{label:"Tags"})}})},5904:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<a href="" class="js-add-tag u-mrg-b-2 u-d-block">Add Tag to Contact</a>\n<select\n\n        class="input-large js-additional-field-input u-mrg-b-1 u-width-12"\n        name="addTag"\n        id="AddTag"\n        placeholder="Select tag to add"\n        style="display:none;"\n/>'},useData:!0})},5905:function(e,t,n){window;var r=o(n(5906));function o(e){return e&&e.__esModule?e:{default:e}}var a=o(n(5655)).default.extend({showProfile:function(){var e=new r.default({model:this.collection.getSelectedProfile(),instanceUrl:this.instanceUrl,customerId:this.customerId,slug:this.slug});this.profileRegion.show(e)}});e.exports=a},5906:function(e,t,n){window;var r=a(n(5656)),o=a(n(5907));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.extend({showRelatedData:function(){var e=new o.default({collection:this.model.relatedData,profile:this.model,customerId:this.customerId,instanceUrl:this.instanceUrl,slug:this.slug});this.relatedDataRegion.show(e)}});e.exports=l},5907:function(e,t,n){window;var r,o=(r=n(5657))&&r.__esModule?r:{default:r};var a=o.default.extend({initialize:function(){o.default.prototype.initialize.apply(this,arguments),this.listenTo(App,"infusionsoft:tag-added",this.tagAdded)},tagAdded:function(e){this.collection.where({label:"Tags"}).shift().relatedDataItems.add(e)}});e.exports=a},5908:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(5)),o=f(n(1)),a=f(n(6)),l=f(n(5909)),i=f(n(520)),u=f(n(5912)),s=f(n(5586)),c=f(n(953)),d=f(n(1569));function f(e){return e&&e.__esModule?e:{default:e}}var p=a.default.CompositeView.extend({template:u.default,className:"apps-history__history sidebar-app",itemView:l.default,itemViewContainer:".prevConvos",getEmptyView:function(){return""},itemViewOptions:function(){return{config:this.config,ticket:this.ticket,customer:this.model.toJSON()}},events:{"click @ui.viewAll":"viewAllConversations","click @ui.toggle":"toggleApp"},behaviors:{ConvoDrilldown:{behaviorClass:d.default,keyboard:c.default,getData:function(){return{customerId:this.view.model.get("id"),excludeTicketId:this.view.options.ticket.id}},url:"".concat(hsGlobal.path,"customer/prev-convos.json"),isWaitingSinceEnabled:hsGlobal.features.isWaitingSinceEnabled,hideCustomerCol:!0}},ui:{loading:".js-loading",emptyHistory:".js-emptyHistory",viewAll:".js-viewAll",toggle:".js-toggleApp"},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mailbox,n=e.ticket,r=e.config;Object.assign(this,{mailbox:t,ticket:n,config:r}),this.listenTo(this,"itemview:preview",this.preview),this.initializeOpenedState("prevConvos"),this.listenTo(this.collection,"sync",this.onCollectionSync)},onRender:function(){this.addOpenClass()},toggleApp:function(){this.$el.toggleClass("open")},preview:function(e){this.drilldown(e.model)},viewAllConversations:function(e){e.ctrlKey||e.metaKey||(e.preventDefault(),e.stopImmediatePropagation(),this.drilldown())},drilldown:function(e){var t={title:"Conversations with ".concat(this.model.getDisplayName())};e&&(t.previewModel=new i.default({id:e.get("id"),number:e.get("number")})),this.options.config.isMergeEnabled&&(t.previewOptions={mergeTicketID:this.ticket.id,mergeTicketThreadCount:this.ticket.threadCount}),this.triggerMethod("Drilldown",t)},onCollectionSync:function(){this.ui.loading.remove(),this.collection.length||this.ui.emptyHistory.show()},serializeData:function(){var e=this.model.toJSON();e.ticketCount--;var t=e.ticketCount>5;return e.ticketCount=r.default.Utils.Main.formatNumber(e.ticketCount),e.prevConvos&&o.default.each(e.prevConvos,(function(e){e.subject=r.default.Utils.Main.replaceCurlyBraces(e.subject)})),{customer:e,path:hsGlobal.path,openedState:this.isOpen?this.openClass:"",shouldShowViewAllLink:t}}});Object.assign(p.prototype,s.default);var m=p;t.default=m},5909:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(6)),o=l(n(5910)),a=l(n(5911));function l(e){return e&&e.__esModule?e:{default:e}}var i=r.default.ItemView.extend({tagName:"li",template:a.default,events:{"click a":"onClick"},onClick:function(e){e.metaKey||e.ctrlKey||(e.preventDefault(),e.stopImmediatePropagation(),this.trigger("preview"))},onRender:function(){this.model.get("isActive")&&this.$el.addClass("open")},serializeData:function(){var e=this.model.toJSON();return e.convoHref="".concat(hsGlobal.path,"conversation/").concat(e.id,"/").concat(e.number,"/"),e.typeClass=o.default.getTypeClass(e.type),e.subject=o.default.getSubject(e.subject),e}});t.default=i},5910:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(5))&&r.__esModule?r:{default:r};var a={getTypeClass:function(e){var t="";switch(e){case"email":t="email-sm";break;case"chat":t="chat-sm";break;case"phone":t="phone-sm"}return t},getSubject:function(e){return!e||o.default.Utils.String.isBlank(e)?"(no subject)":e}};t.default=a},5911:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,r,o,a){var l,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" - "+e.escapeExpression((l=n(151),l&&(l.__esModule?l.default:l)).call(null!=t?t:e.nullContext||{},null!=t?i(t,"modifiedAt"):t,{name:"formatDate",hash:{},data:a,loc:{start:{line:1,column:69},end:{line:1,column:94}}}))},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+i(l(null!=t?u(t,"convoHref"):t,t))+'" title="Conv. #'+i(l(null!=t?u(t,"number"):t,t))+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"modifiedAt"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:48},end:{line:1,column:101}}}))?a:"")+'" class="prevConvo">\n    <i class="icon icon-'+i(l(null!=t?u(t,"typeClass"):t,t))+'"></i>\n    <span>'+i(l(null!=t?u(t,"subject"):t,t))+"</span>\n</a>\n"},useData:!0})},5912:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a,l,i=e.escapeExpression,u=e.lambda,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <p class="view-history"><a class="js-viewAll t-tx-blue-600" href="'+i("function"==typeof(l=null!=(l=s(n,"path")||(null!=t?s(t,"path"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"path",hash:{},data:o,loc:{start:{line:9,column:74},end:{line:9,column:82}}}):l)+"customers/"+i(u(null!=(a=null!=t?s(t,"customer"):t)?s(a,"id"):a,t))+'/conversations">View all '+i(u(null!=(a=null!=t?s(t,"customer"):t)?s(a,"ticketCount"):a,t))+"</a></p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=null!=t?t:e.nullContext||{},u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="js-toggleApp '+e.escapeExpression("function"==typeof(l=null!=(l=u(n,"openedState")||(null!=t?u(t,"openedState"):t))?l:e.hooks.helperMissing)?l.call(i,{name:"openedState",hash:{},data:o,loc:{start:{line:1,column:25},end:{line:1,column:40}}}):l)+'">\n    <h1>Previous Conversations</h1>\n</div>\n<div class="content inner">\n    <ul class="prevConvos prev-convos-list u-pad-0 u-mrg-0"></ul>\n    <div class="js-loading u-mrg-b-2 u-mrg-t-1 t-tx-charcoal-200">Loading. Please wait...</div>\n    <div class="js-emptyHistory tx-center t-tx-charcoal-200" style="display: none;">No history for this customer.</div>\n'+(null!=(a=u(n,"if").call(i,null!=t?u(t,"shouldShowViewAllLink"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:4},end:{line:10,column:11}}}))?a:"")+"</div>\n"},useData:!0})},5913:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5914))&&r.__esModule?r:{default:r}).default;t.default=o},5914:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.normalizePhoneNumber=N;var o=k(n(5)),a=k(n(1)),l=k(n(23)),i=k(n(8)),u=k(n(11)),s=k(n(6)),c=k(n(0)),d=n(31),f=k(n(231)),p=k(n(5915)),m=k(n(5917)),h=k(n(5923)),v=k(n(5934)),y=k(n(5658)),b=k(n(5935)),g=k(n(5940)),O=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(5948)),w=n(5659),P=k(n(5949)),_=n(954),E=n(1570),C=k(n(1700)),j=n(955),x=n(959),S=k(n(1567));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function k(e){return e&&e.__esModule?e:{default:e}}function I(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){U(e,t,n[t])}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=(0,d.connect)((function(e){return{customer:e.mergeDialog.customer,discardProfile:e.mergeDialog.discardProfile,discardProperties:e.mergeDialog.discardProperties,keeperProfile:e.mergeDialog.keeperProfile,mergeModalErrorMsg:e.mergeDialog.mergeModalErrorMsg}}),(function(e){return A({},e.getStatelessExternalActions())}))((function(e){var t=e.cancelMergeModal,n=void 0===t?function(){}:t,r=e.closeMergeModal,o=void 0===r?function(){}:r,a=e.closeProfileDialog,l=void 0===a?function(){}:a,i=e.customer,u=void 0===i?{}:i,s=e.discardProfile,d=void 0===s?{}:s,f=e.discardProperties,p=void 0===f?[]:f,m=e.keeperProfile,h=void 0===m?{}:m,v=e.mergeModalErrorMsg,y=void 0===v?"":v,b=e.setErrorMessage,g=void 0===b?function(){}:b;return d.email?c.default.createElement(C.default,{addEmailWithoutMerge:function(){return function(e,t,n,r,o){(0,j.handleAddEmailWithoutMerging)({api:(0,x.getCustomerApiClient)(),closeMergeModal:e,customerId:r.id,email:n.email,errorHandler:o,previousEmails:t.emails})}(o,u,d,h,g)},cancelMergeModal:n,discardProfile:d,discardProperties:p,keeperProfile:h,mergeModalErrorMsg:y,mergeProfiles:function(){!function(e,t,n,r){(0,j.handleMergeProfiles)({api:(0,x.getCustomerApiClient)(),discardProfile:n,keeperProfile:r,isProfileDialogOpen:!0,isMailboxView:!0}),e(),t()}(o,l,d,h)}}):null})),R=s.default.Layout.extend({maxSites:3,maxSocialProfiles:4,template:p.default,components:function(){var e=this,t=this.model.toJSON(),n=t.background,r=t.emails,o=t.id,a=t.phones;return{".contact-details":c.default.createElement(b.default,{canCreateConversations:hsGlobal.memberPermissions.createConversations,emails:L(r,o,this.mailbox.id),phones:F(a)}),".js-profile-modal":{component:(0,P.default)({transformCustomer:this.transformCustomer.bind(this)}),externalActions:{deleteCustomerPhoto:this.deleteCustomerPhoto.bind(this),mergeCallback:this.handleMergeCustomer.bind(this),onDismiss:this.hideEditCustomerModal.bind(this),onEdit:this.visitCustomer,onUpdateCustomer:this.setShouldRender.bind(this),openMergeModal:function(t){return e.mergeDialog.set(t)}},initialState:{autoFocusEmail:this.canUpdate,canUpdate:this.canUpdate,customer:this.editableCustomer,defaultAvatarUrl:"".concat(appData.avatarBaseUrl).concat("01.png"),isCustomerPropertiesEnabled:hsGlobal.features.isCustomerPropertiesEnabled,phones:S.default.phonesSelector(appData),profileDialog:this.profileDialog}},".js-merge-modal":{component:D,externalActions:{cancelMergeModal:function(){e.mergeDialog.get("resolve")({isResolvedInMarionette:!0,isCancel:!0}),e.mergeDialog.set({discardProfile:{},discardProperties:[],keeperProfile:{},mergeModalErrorMsg:""})},closeMergeModal:function(){e.setShouldRender(),e.mergeDialog.get("resolve")({isResolvedInMarionette:!0}),e.mergeDialog.set({discardProfile:{},discardProperties:[],keeperProfile:{},mergeModalErrorMsg:""})},closeProfileDialog:function(){e.profileDialog.set({isOpen:!1})},mergeModalErrorMsg:this.mergeDialog.get("mergeModalErrorMsg"),setErrorMessage:this.setErrorMessage.bind(this)},initialState:{mergeDialog:this.mergeDialog}},"#notes":c.default.createElement(g.default,{notes:n||""})}},ui:{changeCustomer:".js-changeCustomer",chats:".js-chats",avatar:".js-avatar"},regions:{anonymousChatProfile:".js-anonymous-chat-profile",contactDetails:".contact-details"},events:{"click @ui.changeCustomer":"showChangeCustomerModal","click a.profile-edit":"showEditCustomerModal","click p.showMore a":"toggleContacts"},initialize:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.chatId,r=t.chatStore,o=t.mailbox,a=t.config,l=t.ticket;s.default.Layout.prototype.initialize.apply(this,arguments),Object.assign(this,{chatId:n,chatStore:r,mailbox:o,config:a,ticket:l}),this.profileDialog=new u.default.Model({customer:{id:this.model.get("id")},isOpen:!1}),this.mergeDialog=new u.default.Model({customer:this.getCustomerTemplateData(),discardProfile:{},discardProperties:[],keeperProfile:{},mergeModalErrorMsg:""}),this.customersApi=(0,_.createApiClient)(),this.listenTo(f.default,"change:customer",this.showChangeCustomerModal),this.listenTo(f.default,"edit:customer",(function(t){t.autoFocus;e.showEditCustomerModal()})),this.canUpdate=hsGlobal.memberPermissions.updateCustomers},doShowChangeCustomerModal:function(){var e=window.location.href,t=new RegExp("([??&])changeCustomer=true","i");e.match(t)&&(window.history.replaceState(null,null,e.replace(t,"")),setTimeout(a.default.bind((function(){this.showChangeCustomerModal()}),this),300))},showChangeCustomerModal:function(e){e&&e.preventDefault(),o.default.Utils.Main.cursorLoading(),o.default.Utils.Ajax.get({url:["convo",this.ticket.id,"change-customer-suggestions"],done:function(e){f.default.modalRegion.wrapAndShow(new h.default({customerCollection:new v.default(y.default.buildCustomersArray(e))}),{header:"Change Customer",modalClass:"modal-wide"}),o.default.Utils.Main.cursorDefault()}})},toggleContacts:function(){this.$("li.contact").show(),this.$("p.showMore").hide()},onShow:function(){var e=this.model;e.get("hasProfiles")&&e.get("hasOneProfile")&&this.$("ul.social li").addClass("solo"),this.doShowChangeCustomerModal(),this.config.isChat&&e.isAnonymous()?this.anonymousChatProfile.show(new m.default({chatId:this.chatId,store:this.chatStore})):this.anonymousChatProfile.close(),(0,i.default)(".no-fouc").removeClass("no-fouc"),this.ui.avatar.on("error",this.hideAvatar.bind(this))},getSocialProfilesAndSites:function(e){var t=this,n=e.profiles,r=e.sites,o=this.getSocialProfiles(n),a=this.getSites(r);return o.map((function(e){var n=t.getHandle(e);e.title="".concat(e.title," Profile ").concat(n)})),a.map((function(e){e.clazz="website",e.title=e.display})),[].concat(I(o),I(a)).slice(0,6)},getSocialProfiles:function(e){var t=[];return Object.keys(O).forEach((function(e){return t.push(O[e])})),e.filter((function(e){return t.indexOf(e.typeId)>-1})).splice(0,this.maxSocialProfiles)},getSites:function(e){return e.splice(0,this.maxSites)},getHandle:function(e){switch(e.typeId){case O.TYPE_TWITTER:return e.name;case O.TYPE_GOOGLE_PLUS:return"";default:var t=e.value.replace(/\/$/,"").match(/[^\/]+$/g);return t?t[0]:""}},hideAvatar:function(){this.ui.avatar.addClass("hide")},getCustomerTemplateData:function(){var e=this.model,t=e.toJSON();return t.fullName=e.getDisplayName(),t.isAnonymous=e.isAnonymous(),t.isUnidentifiedAfterChat=e.isUnidentifiedAfterChat(),t.hasOrgOrTitle=e.hasOrgOrTitle(),t.hasLocation=e.hasLocation(),t.background=e.getBkgInfoForDisplay(),t.socialProfilesAndSites=this.getSocialProfilesAndSites(t),t.shouldShowCardInfo=function(e){return e.company||e.jobTitle||e.location}(t),t.location&&(t.location=o.default.Utils.Main.replaceCurlyBraces(t.location)),(this.config.isChat&&t.isAnonymous||"chat"===this.ticket.type&&t.isUnidentifiedAfterChat)&&(t.fullName=w.ANONYMOUS_CUSTOMER_NAME),t},serializeData:function(){var e=!!this.model.get("hasPhoto")&&l.default.contains(this.model.get("photoUrl"),"demo-mailbox/customers");return{customer:this.getCustomerTemplateData(),mailbox:this.mailbox,path:hsGlobal.path,isChat:this.config.isChat,isChangeEnabled:this.config.isChangeEnabled,showAttribution:e,canUpdate:this.canUpdate,canChangeCustomer:this.canChangeCustomer()}},setShouldRender:function(){this.shouldRender=!0},unsetShouldRender:function(){this.shouldRender=!1},isShouldRender:function(){return this.shouldRender},setErrorMessage:function(e){this.mergeDialog.set({mergeModalErrorMsg:e})},transformCustomer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.id)return e;var t={customerProfile:{customer:e}},n=(0,E.customerSelector)(t);return n},handleMergeCustomer:function(e){this.profileDialog.set({isOpen:!1}),o.default.Controller.PubSub.publish("sidebar:updateCustomer",{force:!0,id:e}),o.default.Controller.PubSub.publish("sidebar:refreshCustomer")},hideEditCustomerModal:function(){this.profileDialog.set({isOpen:!1}),this.forceSidebarRefresh()},forceSidebarRefresh:function(){this.isShouldRender()&&(this.unsetShouldRender(),o.default.Controller.PubSub.publish("sidebar:updateCustomer",{force:!0,id:this.model.get("id")}))},deleteCustomerPhoto:function(e){var t=this;this.customersApi.deleteCustomerProfilePhoto(e).then((function(e){var n=e.data;t.setShouldRender(),t.model.set({photoUrl:n.photoUrl}),t.profileDialog.set({customer:A({},t.profileDialog.get("customer"),{photoUrl:n.photoUrl})})})).catch((function(e){o.default.Utils.Main.error("Something went wrong")}))},showEditCustomerModal:function(e){var t=this;if(e){if(e.ctrlKey||e.metaKey)return;e.preventDefault()}this.isFetchingProfile||(o.default.Utils.Main.cursorLoading(),this.isFetchingProfile=!0,this.customersApi.getCustomerProfile({id:this.model.get("id")}).then((function(e){var n=e.data,r=(n=void 0===n?{}:n).customer,a=void 0===r?{}:r;o.default.Utils.Main.cursorDefault();var l=f.default.request("get-disabled-entry-ids")||[];t.isFetchingProfile=!1,t.profileDialog.set({isOpen:!0,customer:A({},a,{emails:(a.emails||[]).map((function(e){return l.includes(e.id)&&(e.disabled=!0),e}))})})})).catch((function(e){o.default.Utils.Main.cursorDefault(),t.isFetchingProfile=!1,o.default.Utils.Main.error("Unable to load the customer"),console.error(e)})))},visitCustomer:function(e,t){var n=t.id;e.preventDefault();var r="/customers/".concat(n);e.ctrlKey||e.metaKey?window.open(r,"_blank"):window.location=r},canChangeCustomer:function(){return hsGlobal.memberPermissions.editConversationDetails&&!this.config.isChat}});function N(e){return"string"==typeof e?e.replace(/[^0-9+]/g,""):e}function L(e,t,n){return e.map((function(e){return e.value=o.default.Utils.Main.replaceCurlyBraces(e.value),e.title="Email Customer",e.url="/mailbox/".concat(n,"/customer/").concat(t,"/").concat(e.id,"/"),e}))}function F(e){return e.map((function(e){return A({},e,{tel:N(e.display)})}))}var B=(0,d.ReactMounter)(R);t.default=B},5915:function(e,t,n){var r=n(4);function o(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" no-avatar"},3:function(e,t,n,r,o){return" no-social"},5:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <a href="'+l(a(null!=t?i(t,"value"):t,t))+'" target="_blank" title="'+l(a(null!=t?i(t,"title"):t,t))+'"><i class="icon-'+l(a(null!=t?i(t,"clazz"):t,t))+'"></i></a>\n'},7:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="avatar c-avatar no-fouc">\n'+(null!=(i=c(r,"if").call(u,null!=(i=null!=t?c(t,"customer"):t)?c(i,"id"):i,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l,loc:{start:{line:12,column:12},end:{line:14,column:19}}}))?i:"")+'                <img\n                    src="'+s(o(n(5916)).call(u,null!=t?c(t,"customer"):t,64,{name:"getPhotoUrl",hash:{},data:l,loc:{start:{line:16,column:25},end:{line:16,column:52}}}))+'"\n                    alt="'+s(e.lambda(null!=(i=null!=t?c(t,"customer"):t)?c(i,"fname"):i,t))+'"\n                    '+(null!=(i=c(r,"if").call(u,null!=t?c(t,"showAttribution"):t,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l,loc:{start:{line:18,column:20},end:{line:18,column:91}}}))?i:"")+'\n                    class="js-avatar c-avatar__image"\n                >\n'+(null!=(i=c(r,"if").call(u,null!=(i=null!=t?c(t,"customer"):t)?c(i,"id"):i,{name:"if",hash:{},fn:e.program(15,l,0),inverse:e.noop,data:l,loc:{start:{line:21,column:12},end:{line:23,column:19}}}))?i:"")+"        </div>\n"},8:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <a title="'+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"canUpdate"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:13,column:22},end:{line:13,column:62}}}))?a:"")+' Profile" href="'+i(l(null!=t?u(t,"path"):t,t))+"customers/"+i(l(null!=(a=null!=t?u(t,"customer"):t)?u(a,"id"):a,t))+'" class="profile-edit">\n'},9:function(e,t,n,r,o){return"Edit"},11:function(e,t,n,r,o){return"View"},13:function(e,t,n,r,o){return'data-attribution="Robots by Robohash.org"'},15:function(e,t,n,r,o){return"            </a>\n"},17:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="dropdown">\n                <a href="javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown" title="Options"><b class="menu-icon"></b></a>\n                <ul class="dropdown-menu" role="menu">\n                    <li role="presentation">\n                        <a href="'+i(l(null!=t?s(t,"path"):t,t))+"customers/"+i(l(null!=(a=null!=t?s(t,"customer"):t)?s(a,"id"):a,t))+'" class="profile-edit" tabindex="-1" role="menuitem">\n                            '+(null!=(a=s(n,"if").call(u,null!=t?s(t,"canUpdate"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:34,column:28},end:{line:34,column:68}}}))?a:"")+" Profile\n                        </a>\n                    </li>\n"+(null!=(a=s(n,"if").call(u,null!=t?s(t,"canChangeCustomer"):t,{name:"if",hash:{},fn:e.program(18,o,0),inverse:e.noop,data:o,loc:{start:{line:37,column:20},end:{line:39,column:27}}}))?a:"")+"                </ul>\n            </div>\n"},18:function(e,t,n,r,o){return'                        <li role="presentation"><a href="#" class="js-changeCustomer" tabindex="-1" role="menuitem">Change Customer</a></li>\n'},20:function(e,t,n,r,o){var a,l=e.lambda,i=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <a title="'+(null!=(a=u(n,"if").call(null!=t?t:e.nullContext||{},null!=t?u(t,"canUpdate"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:45,column:30},end:{line:45,column:70}}}))?a:"")+' Profile" href="'+i(l(null!=t?u(t,"path"):t,t))+"customers/"+i(l(null!=(a=null!=t?u(t,"customer"):t)?u(a,"id"):a,t))+'" class="profile-edit">\n'},22:function(e,t,n,r,o){return"                    </a>\n"},24:function(e,t,n,r,o){return'                <div class="c-profile-section js-anonymous-chat-profile"></div>\n'},26:function(e,t,n,r,o){var a=e.lambda,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="c-profile-section">\n                    <div class="js-chats c-profile__chats">\n                        <div class="c-profile__chats-icon">\n                            <i class="icon-'+l(a(null!=t?i(t,"clazz"):t,t))+'"></i><span class="profile-social" title="'+l(a(null!=t?i(t,"title"):t,t))+'"> '+l(a(null!=t?i(t,"value"):t,t))+"</span>\n                        </div>\n                    </div>\n                </div>\n"},28:function(e,t,n,r,o){var a,l=null!=t?t:e.nullContext||{},i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="c-profile-section">\n                <div class="c-profile-signature">\n'+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"customer"):t)?i(a,"company"):a,{name:"if",hash:{},fn:e.program(29,o,0),inverse:e.noop,data:o,loc:{start:{line:74,column:20},end:{line:76,column:27}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"customer"):t)?i(a,"jobTitle"):a,{name:"if",hash:{},fn:e.program(31,o,0),inverse:e.noop,data:o,loc:{start:{line:77,column:20},end:{line:79,column:27}}}))?a:"")+(null!=(a=i(n,"if").call(l,null!=(a=null!=t?i(t,"customer"):t)?i(a,"location"):a,{name:"if",hash:{},fn:e.program(33,o,0),inverse:e.noop,data:o,loc:{start:{line:80,column:20},end:{line:82,column:27}}}))?a:"")+"                </div>\n            </div>\n"},29:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <div class="c-profile-signature__item">'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"customer"):t)?l(a,"company"):a,t))+"</div>\n"},31:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <div class="c-profile-signature__item">'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"customer"):t)?l(a,"jobTitle"):a,t))+"</div>\n"},33:function(e,t,n,r,o){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                        <div class="c-profile-signature__item">'+e.escapeExpression(e.lambda(null!=(a=null!=t?l(t,"customer"):t)?l(a,"location"):a,t))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,r,a,l){var i,u=null!=t?t:e.nullContext||{},s=e.lambda,c=e.hooks.blockHelperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profile-customer'+(null!=(i=d(r,"unless").call(u,null!=(i=null!=t?d(t,"customer"):t)?d(i,"hasPhoto"):i,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:28},end:{line:1,column:78}}}))?i:"")+(null!=(i=d(r,"unless").call(u,null!=(i=null!=t?d(t,"customer"):t)?d(i,"hasProfiles"):i,{name:"unless",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:78},end:{line:1,column:131}}}))?i:"")+'">\n    <div class="header">\n\n        <div class="social">\n'+(null!=(i=c.call(t,s(null!=(i=null!=t?d(t,"customer"):t)?d(i,"socialProfilesAndSites"):i,t),{name:"customer.socialProfilesAndSites",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l,loc:{start:{line:5,column:12},end:{line:7,column:48}}}))?i:"")+"        </div>\n\n"+(null!=(i=d(r,"if").call(u,null!=(i=null!=t?d(t,"customer"):t)?d(i,"hasPhoto"):i,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l,loc:{start:{line:10,column:8},end:{line:25,column:15}}}))?i:"")+'\n        <div class="c-profile__card">\n'+(null!=(i=d(r,"if").call(u,null!=t?d(t,"isChangeEnabled"):t,{name:"if",hash:{},fn:e.program(17,l,0),inverse:e.noop,data:l,loc:{start:{line:28,column:12},end:{line:42,column:19}}}))?i:"")+'            <div class="c-profile-section">\n'+(null!=(i=d(r,"if").call(u,null!=(i=null!=t?d(t,"customer"):t)?d(i,"id"):i,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l,loc:{start:{line:44,column:16},end:{line:46,column:23}}}))?i:"")+'                    <div class="c-profile__name">'+e.escapeExpression(s(null!=(i=null!=t?d(t,"customer"):t)?d(i,"fullName"):i,t))+"</div>\n"+(null!=(i=d(r,"if").call(u,null!=(i=null!=t?d(t,"customer"):t)?d(i,"id"):i,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l,loc:{start:{line:48,column:16},end:{line:50,column:23}}}))?i:"")+"            </div>\n\n"+(null!=(i=o(n(10)).call(u,null!=t?d(t,"isChat"):t,"&&",null!=(i=null!=t?d(t,"customer"):t)?d(i,"isAnonymous"):i,{name:"ifCond",hash:{},fn:e.program(24,l,0),inverse:e.noop,data:l,loc:{start:{line:53,column:12},end:{line:55,column:23}}}))?i:"")+'\n            <div  class="c-profile-section">\n                <div class="contact-details"></div>\n            </div>\n\n'+(null!=(i=c.call(t,s(null!=(i=null!=t?d(t,"customer"):t)?d(i,"chats"):i,t),{name:"customer.chats",hash:{},fn:e.program(26,l,0),inverse:e.noop,data:l,loc:{start:{line:61,column:12},end:{line:69,column:31}}}))?i:"")+"\n"+(null!=(i=d(r,"if").call(u,null!=(i=null!=t?d(t,"customer"):t)?d(i,"shouldShowCardInfo"):i,{name:"if",hash:{},fn:e.program(28,l,0),inverse:e.noop,data:l,loc:{start:{line:71,column:12},end:{line:85,column:19}}}))?i:"")+'            <div id="notes"></div>\n        </div>\n    </div>\n</div>\n\n<div class="clear"></div>\n\n<div class="js-profile-modal"></div>\n<div class="js-merge-modal"></div>\n'},useData:!0})},5916:function(e,t,n){var r;window;function o(e,t){var n=t||0,r=e.photoUrl;return n>0&&r&&r.indexOf("gravatar.com")>=0&&(r="".concat(r,"?s=").concat(n)),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,((r=n(18))&&r.__esModule?r:{default:r}).default.registerHelper("getPhotoUrl",o);var a=o;t.default=a},5917:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(0)),o=n(31),a=u(n(5918)),l=n(72),i=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.StatefulReactView)().extend({onSave:function(e){var t=hsGlobal,n=t.chatApiUrl,r=t.chatToken;return(0,l.chatApiClient)(n,r).patch("/v1/chats/".concat(this.options.chatId,"/customer"),{email:e})},template:function(){return r.default.createElement(a.default,{flashError:function(){var e;return(e=i.default.Utils.Main).error.apply(e,arguments)},onSave:this.onSave.bind(this)})}});t.default=s},5918:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5919))&&r.__esModule?r:{default:r}).default;t.default=o},5919:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AnonymousChatProfile=void 0;var o=c(n(25)),a=c(n(22)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=c(n(2)),u=n(5920);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(s,e);var t,n,r,i=m(s);function s(){var e;d(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(v(e=i.call.apply(i,[this].concat(n))),"state",{isEmailValid:!0,isSaving:!1,value:""}),b(v(e),"handleChange",(function(t){e.setState({isEmailValid:!0,value:t})})),b(v(e),"handleSubmit",(function(t){t.preventDefault();var n=e.props,r=n.flashError,o=n.onSave,a=e.state.value;e.setState({isEmailValid:!0,isSaving:!0}),o(a).catch((function(t){var n={isSaving:!1};422===t.response.status?n.isEmailValid=!1:r("Unable to update the customer email"),e.setState(n)}))})),e}return t=s,(n=[{key:"render",value:function(){var e=this.state,t=e.isEmailValid,n=e.isSaving,r=e.value,i=n,s=n||!r,c=t?null:"error",d=t?"":"Please enter a valid email address";return l.default.createElement("div",{className:"c-AnonymousChatProfile"},l.default.createElement(o.default,{faint:!0},"Add an email address to learn more about this visitor"),l.default.createElement(u.FormUI,{onSubmit:this.handleSubmit},l.default.createElement(u.InputUI,{autoFocus:!0,placeholder:"email@address.com",type:"email",disabled:i,onChange:this.handleChange,value:r,state:c,errorMessage:d,action:l.default.createElement(a.default,{size:"sm",theme:"blue","data-bypass":!0,disabled:s,loading:n,submit:!0},"Add")})))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(l.PureComponent);t.AnonymousChatProfile=g,b(g,"propTypes",{flashError:i.default.func,onSave:i.default.func}),b(g,"defaultProps",{flashError:function(){},onSave:function(){return Promise().resolve()}});var O=g;t.default=O},5920:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.InputUI=t.FormUI=void 0;var r,o,a=i(n(34)),l=i(n(5565));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=(0,a.default)("form")(r||(r=u(["\n  margin-top: 10px;\n"])));t.FormUI=s;var c=(0,a.default)(l.default)(o||(o=u(["\n  input {\n    min-width: 0;\n  }\n"])));t.InputUI=c},5921:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.unpauseKeyboardShortcuts=t.pauseKeyboardShortcuts=void 0;var r=n(89);t.pauseKeyboardShortcuts=function(){return{type:r.KEYBOARD_SHORTCUTS_PAUSE}};t.unpauseKeyboardShortcuts=function(){return{type:r.KEYBOARD_SHORTCUTS_UNPAUSE}}},5922:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(66)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=s(n(2)),i=["blueInputRef","pauseKeyboardShortcuts","unpauseKeyboardShortcuts"];function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(u,e);var t,n,r,l=m(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),b(v(t=l.call(this,e)),"handleBlur",(function(){var e=t.props,n=e.onBlur;(0,e.unpauseKeyboardShortcuts)(),n&&n()})),b(v(t),"handleFocus",(function(){var e=t.props,n=e.onFocus;(0,e.pauseKeyboardShortcuts)(),n&&n()})),b(v(t),"setInputRef",(function(e){t.inputRef=e})),t.inputRef=null,t.node=null,t.componentRef=a.default.createRef(),t}return t=u,(n=[{key:"componentDidMount",value:function(){this.setNode()}},{key:"componentWillUnmount",value:function(){this.node=null}},{key:"setNode",value:function(){this.inputRef&&(this.node=this.inputRef),this.componentRef&&this.componentRef.current&&this.props.blueInputRef(this.componentRef.current)}},{key:"render",value:function(){var e=this.props,t=(e.blueInputRef,e.pauseKeyboardShortcuts,e.unpauseKeyboardShortcuts,d(e,i));return a.default.createElement(o.default,c({},t,{onBlur:this.handleBlur,onFocus:this.handleFocus,innerRef:this.setInputRef,ref:this.componentRef}))}}])&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(a.Component);g.propTypes={blueInputRef:l.default.func,onBlur:l.default.func,onFocus:l.default.func,pauseKeyboardShortcuts:l.default.func.isRequired,unpauseKeyboardShortcuts:l.default.func.isRequired},g.defaultProps={blueInputRef:function(){},onBlur:function(){},onFocus:function(){},pauseKeyboardShortcuts:function(){},unpauseKeyboardShortcuts:function(){}};var O=g;t.default=O},5923:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(5)),o=f(n(8)),a=f(n(6)),l=f(n(231)),i=f(n(5924)),u=f(n(5925)),s=f(n(5930)),c=f(n(5932)),d=f(n(5658));function f(e){return e&&e.__esModule?e:{default:e}}var p=a.default.Layout.extend({template:i.default,regions:{modalContent:"#js-modalContent"},ui:{spinner:".spinner"},events:{"keyup .customerSearchField":"customerSearch"},initialize:function(e){this.customerCollection=e.customerCollection},customerSearch:function(e){var t=this.$(".customerSearchField").val();t&&(clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(o.default.proxy((function(){this.search("".concat(hsGlobal.path,"search/customers.json?query=").concat(t))}),this),300))},onShow:function(){var e;clearTimeout(this.focusTimeout),this.focusTimeout=setTimeout(o.default.proxy((function(){this.$("#q").focus()}),this),500),e=this.customerCollection.length>0?this.createSuggestedCustomersView():this.createEmptySuggestedCustomersView(),this.modalContent.show(e)},onClose:function(){clearTimeout(this.focusTimeout),clearTimeout(this.searchTimeout),r.default.Utils.Main.abort(this.promise)},search:function(e){this.ui.spinner.show(),this.promise=o.default.get(e,{dataType:"json"}).done(o.default.proxy((function(e){var t=e.customers.results.slice(0,10);this.customerCollection.set(d.default.buildCustomersArray(t)),this.customerCollection.comparator=m,this.customerCollection.sort(),this.ui.spinner.hide();var n=l.default.reqres.request("sidebar:getCustomer");if(this.customerCollection.remove(n),0===this.customerCollection.length){var r=this.createNewCustomerView("No customers found. Would you like to create one?",!0);this.modalContent.show(r)}else{var o=this.createSuggestedCustomersView();this.modalContent.show(o)}}),this))},createSuggestedCustomersView:function(){var e=new u.default({collection:this.customerCollection});return this.listenTo(e,"itemview:select:customer",(function(e,t){if(0===t.get("emails").length){var n=new c.default({model:t,displayMessage:"Please enter an email address for this customer."});this.listenTo(n,"change:customer",this.changeCustomer),this.modalContent.show(n)}else r.default.Utils.Main.confirm("Change the customer to ".concat(t.getDisplayName(),"?"),o.default.proxy((function(){this.changeCustomer(t)}),this))})),this.listenTo(e,"new:customer",(function(){var e=this.createNewCustomerView("Create a new customer");this.modalContent.show(e)})),e},changeCustomer:function(e){r.default.Utils.Ajax.post({url:["conversation",l.default.ticket.get("id"),"customer",e.get("id")],done:o.default.proxy((function(e){r.default.Controller.PubSub.publish("sidebar:updateCustomer",{customer:e.customer}),r.default.Controller.PubSub.publish("ticket:customerChanged",{customer:e.customer}),this.close()}),this)})},createNewCustomerView:function(e,t){var n=new c.default({displayMessage:e,skipFocus:t});return this.listenTo(n,"change:customer",this.changeCustomer),n},createEmptySuggestedCustomersView:function(){var e=new s.default;return this.listenTo(e,"new:customer",(function(){var e=this.createNewCustomerView("Create a new customer");this.modalContent.show(e)})),e}});function m(e,t){var n=r.default.Utils.Main,o=parseInt(e.get("convoCount"),10),a=parseInt(t.get("convoCount"),10);return o==a?n.sortStrAsc(e.getDisplayName(),t.getDisplayName()):n.sortNumDesc(o,a)}t.default=p},5924:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div id="custSearch">\n\t<input type="text" id="q" class="customerSearchField" placeholder="Search for a customer by name or email..." autocomplete="off">\n\t<span class="spinner" style="display: none;"></span>\n</div>\x3c!--/custResults--\x3e\n\n<div id="js-modalContent">\n\t\n</div>'},useData:!0})},5925:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(6)),a=i(n(5926)),l=i(n(5927));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.default.CompositeView.extend({template:a.default,itemView:l.default,itemViewContainer:"#custResults",triggers:{"click #createNewCustomer":"new:customer"},initialize:function(){},buildItemView:function(e,t,n){var o=e.get("photoUrl")?"card customer change":"card customer change no-img";return new t(r.default.extend({model:e,className:o},n))}});t.default=u},5926:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div id="custResults">\n\t<h3>Suggestions</h3>\n</div>\x3c!--/custResults--\x3e\n\n<a href="#" id="createNewCustomer">Create a new customer</a>'},useData:!0})},5927:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(n(5)),o=l(n(6)),a=l(n(5928));function l(e){return e&&e.__esModule?e:{default:e}}var i=o.default.ItemView.extend({template:a.default,tagName:"section",className:"card customer change",events:{"click .suggestedCustomer":"selectCustomer"},selectCustomer:function(e){e.preventDefault(),this.trigger("select:customer",this.model)},serializeData:function(){var e=this.model,t=e.toJSON();return t.fullName=e.getDisplayName(),t.hasOrgOrTitle=e.hasOrgOrTitle(),t.hasLocation=e.hasLocation(),t.background=e.getBkgInfoForDisplay(),t.location&&(t.location=r.default.Utils.Main.replaceCurlyBraces(t.location)),t}});t.default=i},5928:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\t\t<img src="'+e.escapeExpression(e.lambda(null!=t?a(t,"photoUrl"):t,t))+'" alt="Customer image" width="50" height="50" class="c-avatar--image">\n'},compiler:[8,">= 4.3.0"],main:function(e,t,r,o,a){var l,i,u=null!=t?t:e.nullContext||{},s=e.lambda,c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="#" title="Change customer" class="card-link suggestedCustomer">\n\t<div class="c-avatar">\n'+(null!=(l=d(r,"if").call(u,null!=t?d(t,"photoUrl"):t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:1},end:{line:5,column:8}}}))?l:"")+"\t</div>\n\t<h4>"+c(s(null!=t?d(t,"fullName"):t,t))+"</h4>\n\t"+c((i=n(5929),i&&(i.__esModule?i.default:i)).call(u,t,{name:"listEmails",hash:{},data:a,loc:{start:{line:8,column:1},end:{line:8,column:20}}}))+'\n\t<span class="convos"><i class="icon-chat"></i>'+c(s(null!=t?d(t,"convoCount"):t,t))+"</span>\n</a>"},useData:!0})},5929:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(18))&&r.__esModule?r:{default:r};function a(e){var t=e.emails,n=t.length,r="";if(n>2)return r="<p>".concat(t[0].address,"</p>"),r+="<p>".concat(t[1].address," + ").concat(n," more</p>"),new o.default.SafeString(r);for(var a=0;a<n;a++)r+="<p>".concat(t[a].address,"</p>");return new o.default.SafeString(r)}o.default.registerHelper("listEmails",a);var l=a;t.default=l},5930:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(6)),o=a(n(5931));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.ItemView.extend({template:o.default,triggers:{"click #createNewCustomer":"new:customer"},initialize:function(){}});t.default=l},5931:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div id="custResults">\n</div>\x3c!--/custResults--\x3e\n\n<a href="#" id="createNewCustomer">Create a new customer</a>'},useData:!0})},5932:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(5)),o=s(n(8)),a=s(n(6)),l=s(n(5933)),i=s(n(1568)),u=s(n(61));function s(e){return e&&e.__esModule?e:{default:e}}var c=a.default.ItemView.extend({template:l.default,options:{displayMessage:"Create a new customer"},events:{"click #addCustomer":"submitForm"},ui:{btn:"#addCustomer"},initialize:function(e){this.model||(this.model=new i.default),this.viewValidator=new u.default(this)},onShow:function(){!this.options.skipFocus&&this.$("#fname").focus()},serializeData:function(){return{customer:this.model.toJSON(),displayMessage:this.options.displayMessage}},validateModel:function(){return this.model.set({fname:this.$("#fname").val(),lname:this.$("#lname").val(),email:this.$("#email").val()}),this.model.validate(),this.model.isValid()},submitForm:function(e){e.preventDefault();if(!this.validateModel())return!1;this.ui.btn.button("loading"),this.model.save(null,{url:"".concat(hsGlobal.path,"api/v0/customers"),success:o.default.proxy(this.saveSuccessCb,this),error:o.default.proxy(this.saveErrorCb,this)}).always(o.default.proxy((function(){this.ui.btn.button("reset")}),this))},saveSuccessCb:function(e,t,n){this.trigger("change:customer",e)},saveErrorCb:function(e,t,n){if(t.responseText){var a=o.default.parseJSON(t.responseText);a&&a.errors&&a.errors.length&&r.default.Utils.Main.error(a.errors.join("<br>"))}this.ui.btn.button("reset")}});t.default=c},5933:function(e,t,n){var r=n(4);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var a,l,i=e.escapeExpression,u=e.lambda,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="custResults">\n\t<h3>'+i("function"==typeof(l=null!=(l=s(n,"displayMessage")||(null!=t?s(t,"displayMessage"):t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"displayMessage",hash:{},data:o,loc:{start:{line:2,column:5},end:{line:2,column:23}}}):l)+'</h3>\n\n\t<form class="form-inline">\n\t\t<div class="control-group">\n\t\t\t<input type="text" id="fname" class="input-medium" value="'+i(u(null!=(a=null!=t?s(t,"customer"):t)?s(a,"fname"):a,t))+'" placeholder="First Name">\n\t\t\t<span class="help-block" data-error="fname"></span>\n\t\t</div>\n\t\t\n\t\t<div class="control-group">\n\t\t\t<input type="text" id="lname" class="input-medium" value="'+i(u(null!=(a=null!=t?s(t,"customer"):t)?s(a,"lname"):a,t))+'" placeholder="Last Name">\n\t\t</div>\n\t\t\n\t\t<div class="control-group">\n\t\t\t<input type="email" id="email" class="input-medium" value="'+i(u(null!=(a=null!=t?s(t,"customer"):t)?s(a,"email"):a,t))+'" placeholder="Email Address">\n\t\t\t<span class="help-block" data-error="email"></span>\n\t\t</div>\n\t\t\n\t\t<button type="submit" id="addCustomer" class="btn btn-success" data-loading-text="Saving">Save</button>\n\t</form>\n</div>'},useData:!0})},5934:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(20)),o=a(n(1568));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.Collection.extend({model:o.default});t.default=l},5935:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5936))&&r.__esModule?r:{default:r}).default;t.default=o},5936:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_CONTACT_DETAILS_COUNT=void 0;var o=d(n(213)),a=d(n(0)),l=d(n(2)),i=d(n(12)),u=n(5937),s=d(n(5938)),c=d(n(129));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.DEFAULT_CONTACT_DETAILS_COUNT=3;var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(d,e);var t,n,r,l=y(d);function d(){var e;m(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(g(e=l.call.apply(l,[this].concat(n))),"state",{isListExpanded:!1}),w(g(e),"ref",a.default.createRef()),w(g(e),"showAdditionalDetails",(function(){e.setState({isListExpanded:!0})})),w(g(e),"handleKeyDown",(function(t){t.keyCode===c.default.ENTER&&e.setState({isListExpanded:!0},(function(){return e.ref.current.focus()}))})),w(g(e),"getNumberOfHiddenDetails",(function(){var t=e.props,n=t.emails,r=t.phones,o=n.length+r.length-3;return o>=1?o:0})),w(g(e),"getEmailContactDetail",(function(t){var n=t.emailAddress,r=t.href,o=t.ref,l=e.props.canCreateConversations,i=e.getTruncatedEmailAddress(n);return l?a.default.createElement("a",{className:"detail email",ref:o,href:r,title:"Email ".concat(n),"data-bypass":"true"},i):a.default.createElement("div",{className:"detail email"},i)})),w(g(e),"getTruncatedEmailAddress",(function(e){return a.default.createElement(o.default,{splitter:"@"},e)})),e}return t=d,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.emails,r=t.phones,o=this.state.isListExpanded,l=this.getNumberOfHiddenDetails(),c=[].concat(f(n),f(r)).map((function(t,n){var r=null,l=(0,i.default)("c-profile__details","js-emailsAndPhones",{hide:n>=3&&!o});if(3===n&&(r=e.ref),"email"===t.type){var s=t.url,c=t.value;return a.default.createElement(u.ContactDetailUI,{key:n,className:l},e.getEmailContactDetail({emailAddress:c,href:s,ref:r}),a.default.createElement("button",{type:"button",id:"copy-".concat(n),"data-clipboard-text":c,"data-copy-message":"Email address copied to clipboard",className:"js-copyEmail hide",tabIndex:"0"},"Copy"))}var d=t.tel,f=t.display,p=t.title;return a.default.createElement(u.ContactDetailUI,{key:n,className:l},a.default.createElement("a",{className:"detail phone",ref:r,href:"tel:".concat(d),title:"Call ".concat(d)},f),p&&a.default.createElement("span",null,a.default.createElement("span",{className:"u-pad-h-2"},""),p))}));return a.default.createElement(a.default.Fragment,null,c,!!l&&a.default.createElement(s.default,{hide:this.state.isListExpanded,onClick:this.showAdditionalDetails,onKeyDown:this.handleKeyDown,numDetails:l}))}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.default.Component);w(P,"propTypes",{canCreateConversations:l.default.bool,emails:l.default.arrayOf(l.default.object),phones:l.default.arrayOf(l.default.object)}),w(P,"defaultProps",{emails:[],phones:[]});var _=P;t.default=_},5937:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.ContactDetailUI=void 0;var r,o,a=(r=n(34))&&r.__esModule?r:{default:r},l=n(9);var i,u,s=(0,a.default)("div")(o||(i=["\n  position: relative;\n\n  .js-copyEmail {\n    border: none;\n    background: white;\n    position: absolute;\n    right: 0;\n    top: -1px;\n    color: ",";\n    display: none;\n    padding: 4px;\n    margin-left: 4px;\n    cursor: pointer;\n    line-height: 1em;\n    font-size: 1em;\n    &:not(.hide) {\n      display: inline-block;\n      &:after {\n        background: linear-gradient(90deg, rgba(255, 255, 255, 0), white 70%);\n        content: '';\n        position: absolute;\n        right: 39px;\n        top: 0;\n        bottom: 0;\n        width: 20px;\n        opacity: 1;\n      }\n    }\n\n    &:hover {\n      color: ",";\n    }\n\n    &:focus {\n      color: ",";\n      outline: none;\n    }\n\n    &.highlight {\n      color: ",";\n      background: ",";\n      border-radius: 4px;\n      &:focus {\n        outline: none;\n      }\n    }\n\n    &.copied {\n      transition: background, 1s;\n    }\n  }\n\n  &.c-profile__details:nth-of-type(1) {\n    a {\n      color: ",";\n    }\n\n    > div {\n      color: ",";\n    }\n\n    a,\n    > div {\n      font-size: 1em;\n      font-weight: 500;\n      line-height: 20px;\n      width: 93%;\n    }\n  }\n  &.c-profile__details {\n    line-height: 0.8;\n    .email {\n      display: inline-block;\n      width: 100%;\n    }\n    color: ",";\n    a,\n    > div {\n      color: ",";\n      font-size: 1em;\n      line-height: 19px;\n      margin-bottom: 0px;\n      word-wrap: break-word;\n    }\n  }\n  .c-profile__more a {\n    color: ",";\n    font-size: 13px;\n    line-height: 19px;\n\n    i.caret {\n      border-color: ",";\n      right: -5px;\n    }\n  }\n"],u||(u=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(u)}}))),(0,l.getColor)("grey.800"),(0,l.getColor)("charcoal.500"),(0,l.getColor)("charcoal.500"),(0,l.getColor)("green.700"),(0,l.getColor)("green.200"),(0,l.getColor)("link.base"),(0,l.getColor)("charcoal.800"),(0,l.getColor)("charcoal.200"),(0,l.getColor)("charcoal.200"),(0,l.getColor)("charcoal.200"),(0,l.getColor)("charcoal.200"));t.ContactDetailUI=s},5938:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(22)),a=s(n(0)),l=s(n(2)),i=s(n(12)),u=n(5939);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v,y,b,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(s,e);var t,n,r,l=p(s);function s(){return c(this,s),l.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.hide,n=e.onClick,r=e.numDetails,l=e.onKeyDown,s=(0,i.default)("js-showMore c-profile__more",{hide:t});return a.default.createElement(u.DetailsExpanderUI,{className:s,onClick:n,onKeyDown:l},a.default.createElement(o.default,{linked:!0,inlined:!0,suffixIcon:"caret-down",className:"show-more"},a.default.createElement("span",null,"".concat(r," more"))))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(a.default.Component);t.default=g,v=g,y="propTypes",b={hide:l.default.bool,onClick:l.default.func,onKeyDown:l.default.func,numDetails:l.default.number},y in v?Object.defineProperty(v,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):v[y]=b},5939:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.DetailsExpanderUI=void 0;var r,o,a=(r=n(34))&&r.__esModule?r:{default:r},l=n(9);var i,u,s=(0,a.default)("div")(o||(i=["\n  &.c-profile__more button {\n    color: ",";\n    font-size: 13px;\n    line-height: 19px;\n    .c-Icon.is-noInteract {\n      width: 16px;\n      height: 16px;\n      color: ",";\n    }\n  }\n"],u||(u=i.slice(0)),o=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(u)}}))),(0,l.getColor)("charcoal.200"),(0,l.getColor)("charcoal.200"));t.DetailsExpanderUI=s},5940:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5941))&&r.__esModule?r:{default:r}).default;t.default=o},5941:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var o=s(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=s(n(5942)),i=n(5947);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){var t=e.notes,n=void 0===t?"":t,r=c((0,a.useState)(!1),2),o=r[0],u=r[1],s=c((0,a.useState)(!1),2),d=s[0],f=s[1];if(!n)return null;return a.default.createElement(i.ProfileNotesUI,{className:"c-ProfileNotes"},a.default.createElement("hr",{"data-testid":"line-rule"}),a.default.createElement("div",{className:"default-display",id:"notes"},a.default.createElement(l.default,{isExpanded:o,notes:n,areNotesTabFocused:d,onClick:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return 0===n.detail?this.handleEnterToggle(e,t):"expand-notes"===e?u(!0):"collapse-notes"===e?u(!1):void 0},onEnterToggle:function(e,t){return"expand-notes"===e?u(!0,(function(){document.getElementById("collapse-button").focus()})):"collapse-notes"===e?u(!1,(function(){t.focus()})):void 0},onTab:function(e,t){"Tab"===e.key&&"notes"===document.activeElement.id&&f(t)}})))}f.propTypes={notes:o.default.string}},5942:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5943))&&r.__esModule?r:{default:r}).default;t.default=o},5943:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(22)),o=u(n(0)),a=u(n(2)),l=u(n(5944)),i=n(5946);function u(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n,r,o){if("Enter"===e.key&&"notes"===document.activeElement.id){if(e.preventDefault(),r&&r<=60)return;t(n,o)}},c=function(e){var t=e.areNotesTabFocused,n=e.isExpanded,a=e.notes,u=e.onClick,c=e.onEnterToggle,d=e.onTab,f=null,p=a.length>60?0:"",m=a.length,h=m>60&&!n?"Expand Notes":"",v={onEnterToggle:c,onTab:d};return o.default.createElement(i.SidebarNotesUI,{className:"c-SidebarNotes"},o.default.createElement("p",{className:"notes-label"},"Notes"),o.default.createElement("div",{role:0===p?"button":"",id:"notes",onKeyDown:function(e){return function(e,t,n,r){var o=t.onEnterToggle,a=t.onTab;"Enter"===e.key&&"notes"===document.activeElement.id?s(e,o,"expand-notes",n,r):"Tab"===e.key&&"notes"===document.activeElement.id&&a(e,!1)}(e,v,m,f)},onKeyUp:function(e){return d(e,!0)},ref:function(e){f=e},tabIndex:p,title:h},o.default.createElement(i.OverflowUI,null,o.default.createElement(l.default,{charLength:m,isExpanded:n,isTabFocused:t,maxChars:60,notes:a,onClick:u})),n&&o.default.createElement(r.default,{theme:"grey",size:"sm",linked:!0,id:"collapse-button",title:"Collapse Notes",type:"button",onClick:function(e){return u("collapse-notes",f,e)}},"Less")))};c.propTypes={areNotesTabFocused:a.default.bool,isExpanded:a.default.bool,notes:a.default.string,onClick:a.default.func},c.defaultProps={areNotesTabFocused:!1,isExpanded:!1,notes:"",onClick:function(){}};var d=c;t.default=d},5944:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5945))&&r.__esModule?r:{default:r}).default;t.default=o},5945:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(213)),o=i(n(0)),a=i(n(2)),l=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.charLength,n=e.isExpanded,a=e.isTabFocused,i=e.maxChars,u=e.notes,s=e.onClick,c=u.length<=i;return n?o.default.createElement("p",null,u):o.default.createElement(r.default,{className:(0,l.default)({"short-text":c,"tab-focused":a&&!c}),type:"end",limit:i,onClick:function(){return function(e,t,n,r){n&&n<=r||e(t)}(s,"expand-notes",t,i)}},u)};u.propTypes={charLength:a.default.number,isExpanded:a.default.bool,isTabFocused:a.default.bool,maxChars:a.default.number,notes:a.default.string,onClick:a.default.func};var s=u;t.default=s},5946:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarNotesUI=t.OverflowUI=void 0;var r,o,a,l=(r=n(34))&&r.__esModule?r:{default:r},i=n(9);function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var s=(0,l.default)("div")(o||(o=u(["\n  max-height: 45vh;\n  overflow: auto;\n  /* Setting this to 1 instead of 0 fixes an issue in Chrome where a\n  a scrollbar will appear on the element. */\n  padding-bottom: 1px;\n  padding-right: 13px;\n"])));t.OverflowUI=s;var c=(0,l.default)("div")(a||(a=u(["\n  .notes-label {\n    color: ",";\n    font-size: 12px;\n  }\n\n  #notes {\n    .c-Truncate {\n      cursor: pointer;\n      &.short-text {\n        cursor: text;\n      }\n      &.tab-focused {\n        text-decoration: underline;\n      }\n    }\n    p {\n      line-height: 1.22;\n      margin-bottom: 5px;\n    }\n    color: ",";\n    margin: 2px 0 12px 0;\n    white-space: pre-line;\n    button.is-md {\n      margin: 0px;\n      height: 15px;\n    }\n  }\n"])),(0,i.getColor)("charcoal.800"),(0,i.getColor)("charcoal.200"));t.SidebarNotesUI=c},5947:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileNotesUI=void 0;var r,o,a=(r=n(34))&&r.__esModule?r:{default:r},l=n(9),i=n(990);var u,s,c=(0,a.default)("div")(o||(u=["\n  p {\n    margin-bottom: 0;\n  }\n\n  hr {\n    border-top-color: ",";\n  }\n\n  "," {\n    /* Space should be 10px but accomodate for 1px of padding under the\n       adjacent #notes element. */\n    margin-top: 9px;\n\n    &&& {\n      --buttonColor: ",";\n    }\n  }\n\n  .default-display {\n    height: auto;\n  }\n\n  .js-toggle-custom-property-view {\n    color: ",";\n  }\n"],s||(s=u.slice(0)),o=Object.freeze(Object.defineProperties(u,{raw:{value:Object.freeze(s)}}))),(0,l.getColor)("grey.400"),i.ButtonUI,(0,l.getColor)("charcoal.200"),(0,l.getColor)("charcoal.200"));t.ProfileNotesUI=c},5948:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_TWITTER=t.TYPE_LINKED_IN=t.TYPE_GOOGLE_PLUS=t.TYPE_FACEBOOK=void 0;t.TYPE_TWITTER=1;t.TYPE_FACEBOOK=2;t.TYPE_LINKED_IN=3;t.TYPE_GOOGLE_PLUS=6},5949:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(31),o=n(5660);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){l(e,t,n[t])}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.transformCustomer,n=function(e){var n=e.autoFocusEmail,r=e.canUpdate,o=e.defaultAvatarUrl,a=e.isCustomerPropertiesEnabled,l=e.phones,i=e.profileDialog,u=i.customer,s=i.isOpen;return{autoFocusEmail:n,canUpdate:r,customer:t(u),defaultAvatarUrl:o,isCustomerPropertiesEnabled:a,isOpen:s,phones:l}},l=function(e){return a({},e.getStatelessExternalActions())};return(0,r.connect)(n,l)(o.ProfileDialog)}},5950:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperUI=t.ModalUI=t.ModalHeaderUI=t.ModalBodyUI=t.LoadingUI=void 0;var r,o,a,l,i,u=y(n(991)),s=y(n(34)),c=n(9),d=n(111),f=n(1754),p=n(374),m=n(279),h=n(745),v=n(1571);function y(e){return e&&e.__esModule?e:{default:e}}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=(0,u.default)({id:"Modal",zIndex:900})(f.ModalComponent),O=(0,s.default)(g)(r||(r=b(["\n  align-items: baseline;\n  padding: 50px 0 30px 0;\n\n  ",", "," {\n    width: 650px;\n    max-width: 650px;\n  }\n\n  "," {\n    border-top: 6px solid ",";\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    overflow-y: auto;\n  }\n\n  "," {\n    background-color: ",";\n  }\n"])),p.InnerWrapperUI,p.CardUI,p.CardUI,(0,c.getColor)("blue.300"),h.OverlayUI,(0,d.rgba)((0,c.getColor)("blue.800"),.8));t.ModalUI=O;var w=(0,s.default)(v.LoadingUI)(o||(o=b(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  z-index: 20000;\n"])));t.LoadingUI=w;var P=(0,s.default)(g.Body)(a||(a=b(["\n  overflow: hidden;\n  padding: 0;\n  position: relative;\n  z-index: 1;\n\n  .c-ModalBody__scrollableContent {\n    padding: 50px;\n  }\n\n  .c-Calendar {\n    width: 275px;\n    margin-bottom: 20px;\n  }\n\n  .WeekdaysRow > div {\n    width: 36px;\n  }\n\n  ."," {\n    margin: 9px 0 0 0;\n  }\n"])),m.EDITABLEFIELD_CLASSNAMES.addButton);t.ModalBodyUI=P;var _=(0,s.default)(g.Header)(l||(l=b(["\n  position: relative;\n  z-index: 2;\n  &.is-size-lg {\n    padding: 36px 50px 0 39px;\n  }\n\n  &.is-theme-default {\n    background-color: ",";\n  }\n  &.is-placement-top {\n    border-bottom: none;\n  }\n"])),(0,c.getColor)("grey.200"));t.ModalHeaderUI=_;var E=(0,s.default)("div")(i||(i=b(["\n  display: inline-block;\n  position: relative;\n"])));t.WrapperUI=E},5951:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5952))&&r.__esModule?r:{default:r}).default;t.default=o},5952:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=j;var o=b(n(2)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=b(n(5)),i=b(n(231)),u=b(n(5953)),s=b(n(5956)),c=b(n(5957)),d=b(n(5959)),f=b(n(1567)),p=n(5660),m=n(954),h=n(5662),v=n(5574);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){P(e,t,n[t])}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t,n=e.customer,r=void 0===n?{}:n,o=e.doPropertiesExist,y=e.properties,b=void 0===y?[]:y,P=e.propertiesModel,E=void 0===P?[]:P,C=_((0,a.useState)(!1),2),j=C[0],x=C[1],S=_((0,a.useState)(r),2),M=S[0],k=S[1],I=_((0,a.useState)(!1),2),T=I[0],A=I[1],U=_((0,a.useState)(!1),2),D=U[0],R=U[1],N=_(h.PersistPropState.getInitialState(b),2),L=N[0],F=N[1],B=_((0,a.useState)(F),2),V=B[0],z=B[1],W=_((0,a.useState)(L),2),H=W[0],q=W[1],G=_((0,a.useState)(""),2),Y=G[0],$=G[1],K=hsGlobal.features.isCustomerPropertiesEnabled,J=hsGlobal.memberPermissions.updateCustomers,Q=appData.member,X=Q.isAdmin,Z=Q.isOwner,ee=J&&null===b&&(X||Z),te="".concat(J?"Edit":"View"," Properties"),ne=function(){l.default.Utils.Main.cursorLoading(),(0,m.createApiClient)().getCustomerProfile({id:r.id}).then((function(e){var t=e.data,n=(t=void 0===t?{}:t).customer,r=void 0===n?{}:n;l.default.Utils.Main.cursorDefault();var o=i.default.request("get-disabled-entry-ids")||[];k(w({},r,{emails:(r.emails||[]).map((function(e){return o.includes(e.id)&&(e.disabled=!0),e}))})),A(!0)})).catch((function(e){l.default.Utils.Main.cursorDefault(),l.default.Utils.Main.error("Unable to load the customer"),console.error(e)}))},re=function(){R(!0)};if(!K)return[];if(ee)t=a.default.createElement(d.default,{firstName:r.fname});else{if(!o)return null;var oe=H.filter((function(e){var t=e.id;return!V.includes(t)}));t=oe.length?a.default.createElement(a.default.Fragment,null," ",a.default.createElement(c.default,{properties:oe,onTriggerEdit:function(e){$(e),ne()}})):a.default.createElement(v.EmptyPropertiesUI,{onClick:re},"All properties are hidden")}var ae={autoFocusEmail:!0,canUpdate:J,defaultAvatarUrl:"".concat(appData.avatarBaseUrl).concat("01.png"),isCustomerPropertiesEnabled:K,phones:f.default.phonesSelector(appData),profileDialog:{customer:r,isOpen:!0},isOpen:T,onUpdateCustomer:function(e){var t,n=e.slug,r=e.value,o=e.label;if("properties"===e.property){if(r){var a=!H.find((function(e){return e.slug===n})),l=o||r;if(a){var i=E.find((function(e){return e.slug===n}));i.value=l,i.text=l,t=[].concat(O(H),[i]).sort((function(e,t){var n=e.name;return t.name<n?1:-1}))}else t=H.map((function(e){return e.slug===n?w({},e,{text:l,value:l}):e}))}else t=H.filter((function(e){return e.slug!==n}));q(t)}else x(!0)},onDismiss:function(){j&&(x(!1),l.default.Controller.PubSub.publish("sidebar:updateCustomer",{force:!0,id:r.id})),A(!1),$("")},highlightedProp:Y},le={isOpen:D,onClose:function(){R(!1)},onChange:function(e,t){var n=_(h.PersistPropState.saveState(e,t),2),r=n[0],o=n[1];q(r),z(o)},optionsMarked:V,properties:b},ie={items:[{value:"editProperties",label:te,className:"properties-droplist-edit"},{value:"propertiesVisibility",label:"Show/Hide Properties",className:"properties-droplist-visibility"}],onSelect:function(e){switch(e.value){case"editProperties":return void ne();case"propertiesVisibility":return void re();default:return}},a11yLabel:"Property Options"};return a.default.createElement(u.default,{slug:"customerProperties",title:"Properties",droplistProps:!ee&&ie},a.default.createElement(p.ProfileDialog,w({},ae,{customer:M})),a.default.createElement(s.default,g({},le,{options:H})),t)}j.propTypes={properties:o.default.array,customer:o.default.object,doPropertiesExist:o.default.bool,propertiesModel:o.default.array}},5953:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(5954))&&r.__esModule?r:{default:r}).default;t.default=o},5954:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var o=d(n(12)),a=d(n(2)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),i=d(n(5650)),u=n(5661),s=d(n(5955));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e){var t=e.children,n=e.slug,r=e.title,a=e.droplistProps,c=void 0!==a&&a,d=f((0,l.useState)(!1),2),p=d[0],m=d[1],h=(0,l.useRef)(new i.default(void 0,n));(0,l.useEffect)((function(){m(h.current.isOpen())}),[]);var v=(0,o.default)("sidebar-app",p&&"open"),y=function(){return l.default.createElement("h1",null,r)},b=p&&c;return l.default.createElement("div",{className:v,"data-testid":"SidebarApp"},l.default.createElement(u.TitleWrapperUI,null,l.default.createElement(u.ButtonUI,{onClick:function(){m(!p),h.current.updateOpenedState(p?"closed":"open")}},l.default.createElement(y,null)),b&&l.default.createElement(s.default,c)),l.default.createElement(u.ContentUI,{className:"content inner",isOpen:p},t))}m.propTypes={children:a.default.oneOfType([a.default.node,a.default.arrayOf(a.default.node)]).isRequired,slug:a.default.string.isRequired,title:a.default.node,droplistProps:a.default.oneOfType([a.default.object,a.default.bool])}},5955:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var o=c(n(138)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),l=c(n(2)),i=n(5661),u=["onListItemSelectEvent","items","a11yLabel","isOpen"];function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e){e.onListItemSelectEvent;var t=e.items,n=void 0===t?[]:t,r=e.a11yLabel,l=(e.isOpen,f(e,u));return a.default.createElement(a.default.Fragment,null,!!n.length&&a.default.createElement(o.default,d({items:n,clearOnSelect:!0,focusTogglerOnMenuClose:!1,menuWidth:"180px",toggler:a.default.createElement(i.DropdownButtonUI,{"data-testid":"Properties.DropList.Toggler","data-cy":"Properties.DropList.Toggler",a11yLabel:r,size:"lg",seamless:!0})},l)))}p.propTypes={onListItemSelectEvent:l.default.func,items:l.default.array,a11yLabel:l.default.string,isOpen:l.default.bool}},5956:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=u(n(62)),o=u(n(0)),a=n(2),l=n(370),i=n(5574);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.isOpen,n=e.onClose,a=e.options,u=void 0===a?[]:a,s=e.onChange,c=(e.properties,e.optionsMarked);return o.default.createElement(r.default,{isOpen:t,onClose:n,title:"Show/Hide Properties",version:2,"data-cy":"Properties.Visibility.Modal"},o.default.createElement(r.default.Body,{"data-cy":"Properties.Visibility.ModalBody",version:2},o.default.createElement(i.PropertiesVisibilityMessageUI,null,"Customize the order and visibility of Properties in the sidebar. Changes only apply to you."),o.default.createElement(l.ActionTable,{options:u,singleAction:function(){return console.log("single action!")},iconSet:{mainIcon:{name:"icon",color:"red",hover:"red"},secondaryIcon:{name:"icon",color:"grey",hover:"red"}},optionsMarked:c,onChange:s})))}s.propTypes={isOpen:a.PropTypes.bool.isRequired,onClose:a.PropTypes.func.isRequired,options:a.PropTypes.array,onChange:a.PropTypes.func.isRequired,properties:a.PropTypes.array.isRequired,optionsMarked:a.PropTypes.arrayOf(a.PropTypes.string)}},5957:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),a=c(n(2)),l=c(n(623)),i=c(n(5958)),u=n(5662),s=n(5574);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(u){i=!0,o=u}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t=p((0,o.useState)(!0),2),n=t[0],r=t[1],a=e.name,c=e.type,d=e.slug,f=e.onTriggerEdit,m=d.replace(/ |&/g,"");new l.default("#copy-property-".concat(m));var h=(0,u.getPropertyText)(e),v=function(){return r(!1)},y=function(){return r(!0)};return o.default.createElement(s.ListItemUI,{className:"c-sb-list-item__label active","data-testid":"PropertiesSidebarApp.ListItem",key:m,onMouseEnter:v,onMouseLeave:y,onFocusCapture:v,onBlurCapture:y,onClick:f},o.default.createElement("span",{id:"property-label-".concat(m)},a),o.default.createElement("span",{role:"button",className:"c-sb-list-item__text property-value-container",tabIndex:"0","aria-labelledby":"property-label-".concat(m)},o.default.createElement("span",{className:"property-value active"},c===u.TYPES.URL?o.default.createElement("a",{href:(0,u.getPropertyValue)(e),rel:"noopener noreferrer",target:"_blank"},h):o.default.createElement(o.default.Fragment,null,h)),o.default.createElement(i.default,{slug:m,text:h,copyVisible:n,name:a})))}function v(e){var t=e.name,n=e.slug,r=e.onTriggerEdit,a=n.replace(/ |&/g,"");return o.default.createElement(s.ListItemUI,{className:"c-sb-list-item__label","data-testid":"PropertiesSidebarApp.ListItem",key:a,onClick:r},o.default.createElement("span",{id:"property-label-".concat(a)},t),o.default.createElement("span",{role:"button",className:"c-sb-list-item__text property-value-container",tabIndex:"0","aria-labelledby":"property-label-".concat(a)},o.default.createElement("span",{className:"property-value"},"")))}function y(e){var t=e.properties,n=void 0===t?[]:t,r=e.onTriggerEdit,a=void 0===r?function(){}:r,l=function(e){return function(){return a(e)}};return o.default.createElement(o.default.Fragment,null,n.length?o.default.createElement("ul",{className:"c-sb-list c-sb-list--two-line","data-cy":"PropertiesSidebarApp.List","data-testid":"PropertiesSidebarApp.List"},n.map((function(e){return e.value?o.default.createElement(h,f({},e,{key:e.slug,onTriggerEdit:l(e.slug)})):o.default.createElement(v,f({},e,{key:e.slug,onTriggerEdit:l(e.slug)}))}))):"")}h.propTypes={lastUpdated:a.default.string,name:a.default.string.isRequired,slug:a.default.string.isRequired,source:a.default.shape({name:a.default.string}),text:a.default.string.isRequired,type:a.default.oneOf(Object.values(u.TYPES)).isRequired,value:a.default.oneOfType([a.default.bool,a.default.number,a.default.string]).isRequired,onTriggerEdit:a.default.func.isRequired},v.propTypes={name:a.default.string.isRequired,slug:a.default.string.isRequired,onTriggerEdit:a.default.func.isRequired},y.propTypes={properties:a.default.array,onTriggerEdit:a.default.func}},5958:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=l(n(0)),o=l(n(2)),a=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.slug,n=e.text,o=e.copyVisible,l=e.name,i="".concat(l," property copied to clipboard");return r.default.createElement("span",{className:"copy-property-container"},r.default.createElement("button",{type:"button",id:"copy-property-".concat(t),"data-clipboard-text":n,className:"js-copyProperty ".concat(o?"":"opaque"),"aria-label":"Copy property value",onClick:function(e){return e.stopPropagation(),a.default.Utils.Main.success(i)}}))}i.propTypes={slug:o.default.string.isRequired,text:o.default.string.isRequired,copyVisible:o.default.bool.isRequired,name:o.default.string.isRequired}},5959:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=l(n(0)),o=l(n(2)),a=n(5574);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){e.firstName;return r.default.createElement(a.UpsellUI,{href:"/settings/properties",className:"upsell"},r.default.createElement(a.UpsellHighlightUI,null,"Get started")," to store and quickly access useful customer info")}i.propTypes={firstName:o.default.string}},61:function(e,t,n){(function(e,r){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=l(n(5));n(81);var a=l(n(18));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(t,n,o,a){this.view=t,this.model=a||this.view.model,this.flashIfNoInline=!0===o,e.extend(this,r.Events),r.Validation.bind(t,{valid:e.bind(this.valid,this),invalid:e.bind(this.invalid,this),model:this.model}),this.model&&this.model.labels&&r.Validation.configure({labelFormatter:"label"}),this.listenTo(t,"close",this.onViewClose),n=n||"play",this.setErrorCallback(n)};function u(e){var t={};try{t=JSON.parse(e)}catch(n){console.error(n)}return t}i.prototype={invalid:function(e,t,n){var r=e.$("[data-error="+t+"]");if(r.length>0){r.html(n);var a=r.closest(".c-form-group");a.length?a.addClass("is-error"):(a=r.closest(".control-group")).addClass("error")}else this.flashIfNoInline&&o.default.Utils.Main.error(t+": "+n);var l=e.viewValidator;l&&(l.trigger("invalid",e,t,n),l.trigger("invalid:"+t,e,t,n))},valid:function(e,t){var n=e.$("[data-error="+t+"]");n.html("");var r=n.closest(".c-form-group");r.length||(r=n.closest(".control-group")),0===r.find("[data-error]:not(:empty)").length&&(r.hasClass("c-form-group")?r.removeClass("is-error"):r.removeClass("error"));var o=e.viewValidator;o&&(o.trigger("valid",e,t),o.trigger("valid:"+t,e,t))},clearValidation:function(){this.view.$("[data-error]").html("").closest(".control-group").removeClass("error")},onViewClose:function(){r.Validation.unbind(this.view,{model:this.model}),this.stopListening()},setErrorCallback:function(e){var t="play"===e.toLowerCase()?this.playFrameworkErrorCallback:this.sumoErrorCallback;this.listenTo(this.model,"error",t)},playFrameworkErrorCallback:function(t,n){if(n&&n.responseText){var r=u(n.responseText);for(var o in r){var l=e.isArray(r[o])?r[o].join("\n"):r[o];this.invalid(this.view,o,a.default.Utils.escapeExpression(l))}}},sumoErrorCallback:function(t,n){if(n&&n.responseText){var r=u(n.responseText);if(r.errors&&r.fields)if(r.errors.length===r.fields.length)for(var o=0;o<r.fields.length;o++)this.invalid(this.view,r.fields[o],r.errors[o]);else if(e.isObject(r.fields))for(var a in r.fields)this.invalid(this.view,a,r.fields[a])}}};var s=i;t.default=s}).call(this,n(1),n(11))},624:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(void 0===e)return"";if("string"==typeof e&&r.default.Constants.Status.hasOwnProperty(e.toUpperCase()))return e.toLowerCase();switch(e=parseInt(e,10)){case r.default.Constants.Status.PENDING:return"pending";case r.default.Constants.Status.CLOSED:case r.default.Constants.Status.SPAM:return"closed";default:return"active"}}o(n(18)).default.registerHelper("getStatusClass",a);var l=a;t.default=l},734:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={defaultAvatarUrlSelector:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultAvatarUrl,n=void 0===t?null:t;return n}};t.default=n},735:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.HeadingUI=t.EditableFieldUI=t.EditableFieldCompositeUI=t.DetailsUI=t.CustomerInfoUI=t.AvatarUI=t.AvatarItemUI=void 0;var o,a,l,i,u,s,c,d=g(n(28)),f=g(n(71)),p=g(n(174)),m=g(n(34)),h=n(9),v=n(349),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(295));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function O(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w=(0,m.default)(d.default)(o||(o=O(["\n  margin: 0;\n  ",";\n"])),(0,v.setFontSize)(13));t.CustomerInfoUI=w;var P=(0,m.default)(f.default)(a||(a=O(["\n  color: ",";\n  overflow-wrap: break-word;\n\n  &.is-md {\n    font-size: 20px;\n  }\n"])),(0,h.getColor)("charcoal.800"));t.HeadingUI=P;var _=(0,m.default)(d.default.Item)(l||(l=O(["\n  width: 64px;\n  ","\n\n  .c-Avatar__crop {\n    color: ","!important;\n  }\n"])),(function(e){return e.noHeight?"":"height: 64px;"}),(0,h.getColor)("grey.300"));t.AvatarItemUI=_;var E=(0,m.default)(p.default)(i||(i=O(["\n  &.is-deleting {\n    cursor: default;\n  }\n"])));t.AvatarUI=E;var C=(0,m.default)(d.default.Block)(u||(u=O(["\n  padding-top: 7px;\n\n  .ComposedMask {\n    overflow: hidden;\n  }\n"])));t.DetailsUI=C;var j=(0,m.default)(y.default)(s||(s=O(["\n  .FieldInput__input {\n    background-color: transparent !important;\n    font-weight: 500;\n  }\n"])));t.EditableFieldUI=j;var x=(0,m.default)(y.EditableFieldComposite)(c||(c=O(["\n  &.is-disabled {\n    width: 335px;\n\n    .ComposedMask:hover {\n      border-bottom: none;\n    }\n  }\n\n  &.is-hidden {\n    display: none;\n  }\n\n  font-weight: 500;\n"])));t.EditableFieldCompositeUI=x},739:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.TabContentUI=t.HeaderUI=t.CustomerProfileUI=void 0,t.makePaddingStyles=v;var r,o,a,l=d(n(34)),i=n(252),u=n(386),s=n(9),c=d(n(122));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var p=(0,l.default)("div")(r||(r=f(["\n  display: block;\n"])));t.CustomerProfileUI=p;var m=(0,l.default)("div")(o||(o=f(["\n  background-color: ",";\n  border-radius: 4px 4px 0 0;\n  position: relative;\n  z-index: 4;\n\n  ","\n"])),(0,s.getColor)("grey.200"),v({bottom:0,top:35}));t.HeaderUI=m;var h=(0,l.default)("div")(a||(a=f(["\n  ","\n"])),v({top:45}));function v(e){return"\n    ".concat((0,i.breakpoint)(u.pageBreakpointsConfig.breakpoint.widescreen,"\n        padding: ".concat(u.pageCardConfig.padding.widescreen,";\n        ").concat(y(e),"\n      ")),";\n\n    ").concat((0,i.breakpoint)(u.pageBreakpointsConfig.breakpoint.superWidescreen,"\n        padding: ".concat(u.pageCardConfig.padding.superWidescreen,";\n        ").concat(y(e),"\n      ")),";\n\n    ").concat((0,i.breakpoint)(u.pageBreakpointsConfig.breakpoint.fullscreen,"\n        padding: ".concat(u.pageCardConfig.padding.fullscreen,";\n        ").concat(y(e),"\n      ")),";\n\n    padding: ").concat(u.pageCardConfig.padding.default,";\n    ").concat(y(e),"\n  ")}function y(e){return(0,c.default)(e,(function(e,t){return"\n      padding-".concat(e,": ").concat(t,"px;\n  ")}))}t.TabContentUI=h},746:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.SORT_ORDER_DESCENDING=t.SORT_ORDER_ASCENDING=t.SORT_ORDER=t.SORT_FIELD_TICKET_COUNT=t.SORT_FIELD_NAME=t.SORT_FIELD_LAST_SEEN_AT=t.SORT_FIELD=t.QUERY=t.PROFILE_TAB_EDIT=t.PROFILE_TAB_CONVOS=t.DEFAULT_SORT_ORDER=t.DEFAULT_SORT_FIELD=t.DEFAULT_QUERY=t.DEFAULT_PAGE=t.DEFAULT_MAILBOX_IDS=void 0;t.SORT_FIELD="sortField";t.SORT_FIELD_LAST_SEEN_AT="lastSeenAt";t.SORT_FIELD_NAME="name";t.SORT_FIELD_TICKET_COUNT="ticketCount";t.SORT_ORDER="sortOrder";t.SORT_ORDER_ASCENDING="asc";t.SORT_ORDER_DESCENDING="desc";t.QUERY="query";t.DEFAULT_PAGE=1;t.DEFAULT_QUERY="";t.DEFAULT_MAILBOX_IDS="";t.DEFAULT_SORT_FIELD="lastSeenAt";t.DEFAULT_SORT_ORDER="desc";t.PROFILE_TAB_EDIT="editProfile";t.PROFILE_TAB_CONVOS="conversations"},747:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.formatDate=t.TIME_FORMAT=t.THIS_YEAR_FORMAT=t.PREV_YEAR_FORMAT=void 0;var r,o=(r=n(17))&&r.__esModule?r:{default:r};var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sentenceCase,r=void 0===n||n,o=e.fromNow().replace(/minutes?/,"min").replace(/^an?/,"1");return r?o.charAt(0).toUpperCase()+o.slice(1):o},l=function(e,t){return(0,o.default)().subtract(e,t)};t.TIME_FORMAT="h:mma";t.THIS_YEAR_FORMAT="MMM D";t.PREV_YEAR_FORMAT="MMM D, YYYY";t.formatDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.date,r=t.sentenceCase,i=void 0===r||r,u=(0,o.default)(new Date(e)),s=n||(0,o.default)();if(e)return u.isSameOrAfter(l(1,"minute"))?i?"Just now":"just now":u.isSameOrAfter(l(1,"hour"))?a(u,{sentenceCase:i}):u.isSameOrAfter(l(12,"hours"))?u.format("h:mma"):u.isSameOrAfter(l(7,"days"))?a(u,{sentenceCase:i}):u.isSame(s,"year")?u.format("MMM D"):u.format("MMM D, YYYY")}},754:function(e,t,n){(function(e,r,o){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=s(n(5)),l=s(n(520)),i=s(n(474)),u=s(n(337));function s(e){return e&&e.__esModule?e:{default:e}}var c=e.Behavior.extend({constructor:function(t){r.extend(this,o.Events),r.extend(this,r.omit(t,"behaviorClass")),e.Behavior.prototype.constructor.apply(this,arguments)},initialize:function(e){this.listenTo(this.view,"itemview:next",this.next),this.listenTo(this.view,"itemview:prev",this.prev),this.listenTo(this.view,"itemview:preview",(function(e){this.preview(e.model)})),this.listenTo(this.view,"close",this.onClose),this.listenTo(this.view,"close",this.stopListening)},preview:function(e){this.view.previewing=!0,this.previewModel=new l.default({id:e.get("id"),number:e.get("number")}),this.previewModel.listModel=e,this.abortAjax(),a.default.Utils.Main.cursorLoading(),this.previewPromise=this.previewModel.fetch({success:$.proxy(this.showPreview,this),global:!1}).always(a.default.Utils.Main.cursorDefault).fail($.proxy((function(e,t){"abort"!=t&&(this.view.previewing=!1,a.default.Utils.Main.error("Unable to load conversation preview",{timeout:3e3}))}),this))},showPreview:function(){var e=this.previewModel;this.previewView=new i.default({model:e,title:"Conversation #"+e.get("number"),showBack:!1,hasNext:this.hasNext(e.listModel),hasPrev:this.hasPrev(e.listModel)}),this.listenTo(this.previewView,"close",(function(){this.view.previewing=!1,this.unbindKeyboard(),this.view.trigger("stop-preview-convo",this.previewModel.listModel)})),this.listenTo(this.previewView,"next",this.next),this.listenTo(this.previewView,"prev",this.prev),App.modalRegion.show(this.previewView,"modal-xwide"),this.bindKeyboard(),this.view.previewing=!0,this.view.trigger("preview-convo",this.previewModel.listModel),this.previewPromise=void 0},onShowPreview:function(e){this.previewModel=e,this.showPreview()},onClose:function(){this.previewView&&this.previewView.close(),this.abortAjax(),this.unbindKeyboard()},abortAjax:function(){this.previewPromise&&(this.previewPromise.abort(),this.previewPromise=void 0),this.pagePromise&&(this.pagePromise.abort(),this.pagePromise=void 0)},bindKeyboard:function(){this.unbindKeyboard();var e=(0,u.default)();e&&(this.listenTo(e,"prev",this.prev),this.listenTo(e,"next",this.next))},unbindKeyboard:function(){var e=(0,u.default)();e&&(this.stopListening(e,"prev"),this.stopListening(e,"next"))},hasPrev:function(e){return this.view.collection.indexOf(e)>0||this.getCurrentPage()>1},hasNext:function(e){return this.view.collection.indexOf(e)<this.view.collection.length-1||this.getCurrentPage()<this.getPageCount()},getCurrentPage:function(){return this.view.collection.currentPage},getPageCount:function(){return this.view.collection.totalPages},getModelIndex:function(e){var t=this.view.collection.get(e);return this.view.collection.indexOf(t)},next:function(){if(this.previewModel){var e=this.previewModel.listModel||this.view.collection.get(this.previewModel.get("id"));if(this.hasNext(e)){var t=this.getModelIndex(e),n=this.view.collection.at(t+1);this.pagePromise||(n?this.preview(n):(this.view.previewing=!0,this.nextPage()))}}},nextPageCallback:function(){if(this.abortAjax(),this.view.collection.length>0){var e=this.view.collection.at(0);e?this.preview(e):a.default.Utils.Main.cursorDefault()}else a.default.Utils.Main.cursorDefault()},nextPage:function(){return this.abortAjax(),a.default.Utils.Main.cursorLoading(),this.pagePromise=this.view.collection.nextPage({success:$.proxy(this.nextPageCallback,this),skipCursor:!0}),this.pagePromise},prev:function(){if(this.previewModel){var e=this.previewModel.listModel||this.view.collection.get(this.previewModel.get("id"));if(this.hasPrev(e)){var t=this.getModelIndex(e),n=this.view.collection.at(t-1);this.pagePromise||(n?this.preview(n):(this.view.previewing=!0,this.prevPage()))}}},prevPage:function(){return this.abortAjax(),a.default.Utils.Main.cursorLoading(),this.pagePromise=this.view.collection.prevPage({success:$.proxy(this.prevPageCallback,this),skipCursor:!0}),this.pagePromise},prevPageCallback:function(){if(this.abortAjax(),this.view.collection.length>0){var e=this.view.collection.at(this.view.collection.length-1);e?(this.preview(e),a.default.Utils.Main.cursorLoading()):a.default.Utils.Main.cursorDefault()}else a.default.Utils.Main.cursorDefault()}});t.default=c}).call(this,n(6),n(1),n(11))},84:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var o=t;return(e>1||0==e)&&(r.default.isString(n)?o=n:o.length&&"s"!==o.substring(o.length-1)&&(o+="s")),o}o(n(18)).default.registerHelper("pluralize",a);var l=a;t.default=l},86:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTES=t.PARAMS=t.NAV=t.CUSTOM_PROPERTIES=t.CUSTOMER_PROPERTIES_API=t.CUSTOMER_PROFILE_PHOTO_DELETE_API=t.CUSTOMER_PROFILE_API_DELETE=t.CUSTOMER_PROFILE_API_CONVERSATIONS_ACCESS=t.CUSTOMER_PROFILE_API_CONVERSATIONS=t.CUSTOMER_PROFILE_API=t.CUSTOMER_PROFILE=t.CUSTOMER_MERGE_API=t.CUSTOMER_CONFLICTS_API=t.CUSTOMER_API=t.CUSTOMERS_API=t.CUSTOMERS=t.CONVERSATIONS=void 0;var o=P(n(1593));t.CONVERSATIONS=o;var a=P(n(1594));t.CUSTOMER_API=a;var l=P(n(1595));t.CUSTOMER_CONFLICTS_API=l;var i=P(n(1596));t.CUSTOMER_MERGE_API=i;var u=P(n(1597));t.CUSTOMER_PROFILE_API=u;var s=P(n(1598));t.CUSTOMER_PROFILE_API_CONVERSATIONS=s;var c=P(n(1599));t.CUSTOMER_PROFILE_API_CONVERSATIONS_ACCESS=c;var d=P(n(1600));t.CUSTOMER_PROFILE_API_DELETE=d;var f=P(n(1601));t.CUSTOMER_PROFILE=f;var p=P(n(1602));t.CUSTOMER_PROFILE_PHOTO_DELETE_API=p;var m=P(n(1603));t.CUSTOMERS_API=m;var h=P(n(1604));t.CUSTOMERS=h;var v=P(n(1605));t.CUSTOMER_PROPERTIES_API=v;var y=P(n(1606));t.CUSTOM_PROPERTIES=y;var b=P(n(1607));t.NAV=b;var g=P(n(746));t.PARAMS=g;var O=P(n(1608));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}return o.default=e,n&&n.set(e,o),o}t.ROUTES=O},954:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(1588),o=n(1627),a=n(1629),l=n(1631),i=n(1633),u=n(1635),s=["id"],c=["id"],d=["id"];function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}t.createApiClient=function(){(0,r.getApiCustomerClient)();var e=(0,o.getApiCustomerConflictsClient)(),t=(0,a.getApiCustomerMergeClient)(),n=(0,i.getApiSearchClient)(),p=(0,l.getApiProfileClient)(),m=(0,u.getApiPropertiesClient)();return{addCustomerEmailWithoutMerging:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.customerId,r=e.data;return p.post("/".concat(n,"/emails/add-without-merging"),r,t)},checkCustomerEmailInUse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.email,r=e.id;return p.get("/".concat(r,"/emails/in-use"),{params:{email:n}},t)},deleteCustomerProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id;return p.delete("/".concat(n),t)},createCustomerProfileEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.customerId,o=e.property,a=e.data,l=n.addWithoutMerging?"/".concat(r,"/emails/add-without-merging"):"/".concat(r,"/").concat(o);return p.post(l,a,t)},deleteCustomerProfileEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.customerId,r=e.property,o=e.data;return p.delete("/".concat(n,"/").concat(r,"/").concat(o.id),t)},deleteCustomerProfilePhoto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id;return p.delete("/".concat(n,"/photo"),t)},getCustomers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.post("",e,t)},getCustomerProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id,r=f(e,s);return p.get("/".concat(n),r,t)},getCustomerProfileConflicts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.discardId,r=t.keeperId;return e.get("/customers/conflicts?keeperId=".concat(r,"&discardId=").concat(n))},getCustomerProfileConversations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id,r=f(e,c);return p.get("/".concat(n,"/conversations"),{params:r},t)},getCustomerProfileConversationsAccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id,r=f(e,d);return p.get("/".concat(n,"/conversations/access"),{params:r},t)},mergeCustomers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.discardId,o=e.keeperId;return t.post("/customers/merge",{discardId:r,keeperId:o},n)},patchCustomerProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.customerId,r=e.data,o=void 0===r?[]:r,a=o.map((function(e){var t=e.property,n=e.value;return{op:"replace",path:"/".concat(t),value:n}}));return p.patch("/".concat(n),a,t)},patchCustomerProperty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.customerId,r=e.data,o=void 0===r?[]:r,a=o.map((function(e){var t=e.slug,n=e.value;return{op:n?"replace":"remove",path:"/".concat(t),value:n}}));return m.patch("/".concat(n,"/properties"),a,t)},putCustomerProfileEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.customerId,r=e.property,o=e.data;return p.put("/".concat(n,"/").concat(r,"/").concat(o.id),o,t)}}}},955:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.validateEmailInUseOnDifferentProfile=t.handleMergeProfiles=t.handleCreateOrUpdateEntry=t.handleAddEmailWithoutMerging=t.getProperty=t.getPatchKey=t.getPatchEntryKey=t.doesEmailExist=void 0;var r,o=(r=n(5))&&r.__esModule?r:{default:r};function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){return"string"==typeof e?e.toLowerCase():e};t.getProperty=function(e){var t=String(e).lastIndexOf("_");return t>0?String(e).slice(0,t):e};t.getPatchKey=function(e){var t=e.customerId,n=e.property;return"".concat(t,"_patch_").concat(n)};t.getPatchEntryKey=function(e){var t=e.commit,n=(t=void 0===t?{}:t).item,r=void 0===n?{}:n,o=e.customerId,a=e.property;return"".concat(o,"_patch-entry_").concat(a,"_").concat(r.id)};t.doesEmailExist=function(e){var t=e.commit,n=(t=void 0===t?{}:t).item,r=void 0===n?{}:n,o=e.name,a=e.property,l=e.values;return"emails"===a&&(void 0===l?[]:l).filter((function(e){return e.id!==o})).map((function(e){var t=e.value;return u(t)})).includes(u(r.value))};var s=function(e){var t={address:"Address",background:"Notes",firstName:"First Name",jobTitle:"Job Title",lastName:"Last Name",organization:"Company"};return e.map((function(e){var n,r,o,a,l,i,u,s,c,d,f,p=e.field,m=e.name,h=e.propertyType,v=e.type,y=e.discard.value;return"profileField"===v?"address"===p?[t[p],(n=y,r=n.lines,o=void 0===r?[""]:r,a=n.city,l=void 0===a?"":a,i=n.state,u=void 0===i?"":i,s=n.country,c=void 0===s?"":s,d=n.postalCode,f=void 0===d?"":d,[o.join(" "),l,u,f,c].filter((function(e){return!!e})).join(", "))]:[t[p],y]:"bool"===h?[m,y?"Yes":"No"]:[m,y]}))};t.handleCreateOrUpdateEntry=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=e.id;t({updatedProps:n?{_id:n}:{}})};t.handleAddEmailWithoutMerging=function(e){var t=e.api,n=e.closeMergeModal,r=e.customerId,o=e.email,a=e.errorHandler,l=void 0===a?function(){}:a,u=e.previousEmails,s=e.updateEmails,c={value:o,location:"work"};return t.addCustomerEmailWithoutMerging({customerId:r,data:c}).then((function(e){var t=e.data.id,o=u.map((function(e){return!e._id||isNaN(e._id)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,{_id:t,location:"work"}):e}));s?(s({id:r,emails:o}),n()):n()})).catch((function(){l("A technical error prevented this profile from being saved without merging.")}))};t.handleMergeProfiles=function(e){var t,n=e.api,r=e.discardProfile,a=e.keeperProfile,l=e.isProfileDialogOpen,i=void 0!==l&&l,u=e.isMailboxView,s=void 0!==u&&u,c=r.id,d=r.fullName,f=a.id,p=a.name;return n.mergeCustomers({discardId:c,keeperId:f}).then((function(){t=d&&p?"Successfully merged ".concat(d," into ").concat(p):"Successfully merged profiles",s||(i?window.location="/customers/".concat(f):window.location.reload())})).then((function(){return o.default.Utils.Main.success(t)})).catch((function(){return o.default.Utils.Main.error("Unable to merge profiles")}))};t.validateEmailInUseOnDifferentProfile=function(e){var t=e.api,n=e.customer,r=e.item,o=e.openMergeModal,l=e.resolve,i=void 0===l?null:l,u=e.saveCallback,c=e.updateEmails,d=e.values,f=n.id,p=n.customerName,m=n.emails;return t.checkCustomerEmailInUse({id:f,email:r.value}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.data,l=n.email,u=n.fullName,h=n.id;t.getConflicts({discardId:h,keeperId:f}).then((function(e){c&&c({id:f,emails:d});for(var t=a(m),n=0,v=d.length;n<v;n++)for(var y=0,b=t.length;y<b;y++)d[n].value===t[y].value&&(t.splice(y,1),b=t.length);o({discardProfile:{id:h,email:l,fullName:u},discardProperties:s(e.data),emails:d,keeperProfile:{id:f,name:p},duplicateEmail:r.value,removedEmail:1===t.length?t[0]:null,resolve:i})}))})).catch((function(e){if(e.response&&404==e.response.status)return u();console.log(e)}))}},956:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Header=t.CustomerBio=void 0;var o=w(n(213)),a=w(n(27)),l=w(n(28)),i=w(n(138)),u=w(n(22)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var i=a?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(o,l,i):o[l]=e[l]}o.default=e,n&&n.set(e,o);return o}(n(0)),c=n(69),d=w(n(2)),f=n(166),p=n(333),m=n(363),h=w(n(969)),v=n(971),y=n(735),b=w(n(1653)),g=w(n(1656));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function w(e){return e&&e.__esModule?e:{default:e}}function P(){return(P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){var t=e.bio;return s.default.createElement(l.default,{gap:"xl"},s.default.createElement(y.AvatarItemUI,{noHeight:!0}),s.default.createElement(v.DescriptionBlockUI,null,s.default.createElement(v.DescriptionUI,{"data-cy":"Customers.CustomerBio",size:14},t)),s.default.createElement(l.default.Block,null))};t.CustomerBio=I;var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(d,e);var t,n,r,c=j(d);function d(){var e;_(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(S(e=c.call.apply(c,[this].concat(n))),"state",{isDeleteAvatarDialogOpen:!1,isDeleting:!1}),k(S(e),"executeDeletingAvatar",(function(){e.props.deleteCustomerPhoto({id:e.props.customer.id}),e.safeSetState({isDeleteAvatarDialogOpen:!1,isDeleting:!0})})),k(S(e),"handleDeleteAvatar",(function(t){t.preventDefault(),t.stopPropagation(),e.safeSetState({isDeleteAvatarDialogOpen:!0,isDeleting:!1})})),k(S(e),"handleActionOnClick",(function(t){var n=e.props,r=n.getActionUrl,o=n.actionOnClick;!r&&o&&(t.preventDefault(),t.stopPropagation(),o(t))})),k(S(e),"handleActionOnSelect",(function(t){var n=e.props,r=n.actionOnClick,o=n.getActionUrl,a=n.openUrl;r(void 0,{mailboxId:t.id}),a(void 0,o({mailboxId:t.id}))})),k(S(e),"safeSetState",(function(t){e._isMounted&&e.setState(t)})),k(S(e),"renderingWebsite",(function(e){var t=e.charLimit,n=e.item;return s.default.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",title:n},s.default.createElement(o.default,{limit:t,type:"middle"},n.replace(/^https?:\/\//,"")))})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.customer.id!==this.props.customer.id&&this.safeSetState({isDeleting:!1})}},{key:"renderSocialGrid",value:function(){var e=this.props.customer;return e.socialProfiles&&e.socialProfiles.length>0?s.default.createElement(v.SocialGridUI,{"data-testid":"SocialGrid",just:"right",gap:"lg"},s.default.createElement(l.default.Item,null,e.socialProfiles.map((function(e){return s.default.createElement(v.SocialButtonUI,{"data-testid":"SocialButton-".concat(e.type),"data-cy":"Customers.SocialButton",key:e._id,icon:"social-".concat(e.type),onClick:function(t){return t.preventDefault&&window.open(e.url,"_blank")}})})))):null}},{key:"renderCustomerInfo",value:function(){var e=this.props,t=e.canUpdate,n=e.customer,r=e.defaultAvatarUrl,o=e.offEdit,a=e.onEdit,l=e.patchCustomerProfile,i=!1;if(r){var u=r.split("/");u.pop(),i=n&&n.photoUrl&&n.photoUrl.indexOf(u.join("/"))>-1}var c={customerId:n.id,firstName:n.firstName,lastName:n.lastName,image:n.photoUrl,isAvatarDeletable:!i,location:n.location,lastSeen:n.lastSeenAt,offEdit:o,onEdit:a,patchCustomerProfile:l,time:n.time};return s.default.createElement(h.default,P({canUpdate:t,"data-cy":"Customers.CustomerInfo",hideLastSeen:!0},c,{isAvatarActive:this.state.isDeleteAvatarDialogOpen,isDeletingAvatar:this.state.isDeleting,onDeleteAvatarClick:this.handleDeleteAvatar,fallbackImage:r}))}},{key:"renderCustomerBio",value:function(){var e=(this.props.customer.metaData||[]).filter((function(e){return 1===e.type}));if(!e.length)return null;var t=e[0].value;return s.default.createElement(I,{bio:t})}},{key:"renderWebsiteList",value:function(){var e=this,t=this.props,n=t.customer;if(!t.showWebsiteList||!n.websites||!n.websites.length)return null;var r=n.websites.length>1?25:55;return s.default.createElement(v.FlexyWideUI,{gap:"xl"},s.default.createElement(y.AvatarItemUI,{noHeight:!0}),s.default.createElement(v.FilteredListBlockUI,null,s.default.createElement(v.FilteredListUI,{limit:2,items:n.websites.map((function(e){return e.value})),renderItem:function(t){return e.renderingWebsite({charLimit:r,item:t})},inline:!0,"data-testid":"CustomerWebsites","data-cy":"Customers.CustomerWebsites"})),s.default.createElement(l.default.Block,null))}},{key:"renderCallToAction",value:function(){var e=this.props,t=e.actionLabel,n=e.actionOnClick,r=e.actionSize,o=e.canUpdate,l=e.customer,c=e.getActionUrl,d=e.mailboxes;if(!o||!t||!n&&!c)return null;if(!d.length||1===d.length){var f="function"==typeof c?c({customerId:l.id}):void 0,p={};return f&&(p.href=f),s.default.createElement(v.CtaUI,null,s.default.createElement(u.default,P({size:r,theme:"grey",outlined:!0,onClick:this.handleActionOnClick,"data-cy":"Customers.CallToAction","data-testid":"Customers.CallToAction"},p),t))}var m=[{items:d.map((function(e){return{id:e.id,label:e.name}})),label:"From:",value:"from",type:"group"}];return s.default.createElement(v.CtaUI,null,s.default.createElement(i.default,{autoSetComboboxAt:15,items:m,onSelect:this.handleActionOnSelect,tippyOptions:{offset:[0,10],placement:"bottom-end"},toggler:s.default.createElement(v.DropListButtonUI,{size:r,theme:"grey",outlined:!0,text:s.default.createElement("div",{className:"DropListButton__content"},s.default.createElement("span",null,t),s.default.createElement(a.default,{name:"chevron-down",size:24})," ")})}))}},{key:"render",value:function(){var e=this;return s.default.createElement(v.HeaderUI,{"data-cy":"Customers.Header"},s.default.createElement(l.default,{gap:"xl",align:"top"},s.default.createElement(l.default.Block,null,this.renderCustomerInfo()),this.renderCallToAction()),this.renderCustomerBio(),this.renderWebsiteList(),this.renderSocialGrid(),s.default.createElement(b.default,{"data-cy":"Customers.Header.DeletePhotoConfirmDialog",isOpen:this.state.isDeleteAvatarDialogOpen,onDismiss:function(){return e.safeSetState({isDeleteAvatarDialogOpen:!1})},onConfirm:this.executeDeletingAvatar}))}}])&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),d}(s.PureComponent);t.Header=T,k(T,"propTypes",{canUpdate:d.default.bool,customer:d.default.object.isRequired,actionLabel:d.default.string,actionSize:d.default.string,actionOnClick:d.default.func,getActionUrl:d.default.func,hideLastSeen:d.default.bool,offEdit:d.default.func,onEdit:d.default.func,openUrl:d.default.func,patchCustomerProfile:d.default.func,showWebsiteList:d.default.bool,defaultAvatarUrl:d.default.string,mailboxes:d.default.array}),k(T,"defaultProps",{actionSize:"sm",canUpdate:!0,customer:{},actionOnClick:f.noop,offEdit:f.noop,onEdit:f.noop,openUrl:f.noop,patchCustomerProfile:f.noop,defaultAvatarUrl:"",mailboxes:[]}),k(T,"Skeleton",g.default);var A={deleteCustomerPhoto:m.customerProfilePhotoDeleteApi.deleteCustomerProfilePhoto},U=(0,c.connect)((function(e){return{defaultAvatarUrl:p.defaultAvatarUrl.defaultAvatarUrlSelector(e),mailboxes:e.mailboxes}}),A)(T);t.default=U},957:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createDeepEqualSelector=void 0;var r,o=n(117),a=(r=n(1756))&&r.__esModule?r:{default:r};var l=(0,o.createSelectorCreator)(o.defaultMemoize,a.default);t.createDeepEqualSelector=l},958:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.makeCustomerName=void 0;t.makeCustomerName=function(e){var t=e.firstName,n=e.lastName;return t&&!n?t:n&&!t?n:t&&n?"".concat(t," ").concat(n):""}},959:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.patchCustomerProperty=t.patchCustomerEntry=t.patchCustomer=t.getErrorMessage=t.getCustomerApiClient=t.deleteCustomerEntry=void 0;var r=n(478),o=n(954);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){i(e,t,n[t])}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){switch(t){case r.OPERATION.CREATE:return e.createCustomerProfileEntry;case r.OPERATION.DELETE:return e.deleteCustomerProfileEntry;case r.OPERATION.UPDATE:return e.putCustomerProfileEntry;default:return null}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e).reduce((function(t,n){return["default","id","validated"].includes(n)?t:l({},t,i({},n,e[n]))}),{});switch(n._id&&(n.id=n._id,delete n._id),t){case"emails":n.location="work";break;case"phones":n.location=n.option,delete n.option}return n},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.customerId,l=n.name,i=n.property,u=n.commit;u.operation!==r.OPERATION.DELETE||u.item._id||(u.item._id=t[l]);var c={customerId:a,property:i,data:s(u.item,i)};return e.deleteCustomerProfileEntry(c,o)}};t.deleteCustomerEntry=c;var d=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.customerId,o=t.property,a=t.value;return e.patchCustomerProfile({customerId:r,data:[{property:o,value:a}]},n)}};t.patchCustomer=d;var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.customerId,l=n.name,i=n.property,c=n.commit,d=n.query;c.operation===r.OPERATION.CREATE&&t[l]?(c.operation=r.OPERATION.UPDATE,c.item._id=t[l]):c.operation===r.OPERATION.CREATE&&c.item._id?c.operation=r.OPERATION.UPDATE:c.operation!==r.OPERATION.UPDATE||c.item._id||(c.operation=r.OPERATION.CREATE);var f=u(e,c.operation);if("function"!=typeof f)throw new Error("Oops. Something went wrong.");var p={customerId:a,property:i,data:s(c.item,i)};return f(p,o,d).then((function(e){return c.operation===r.OPERATION.CREATE&&e.data&&e.data.id&&(t[l]=e.data.id),e}))}};t.patchCustomerEntry=f;var p=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.customerId,o=t.slug,a=t.value;return e.patchCustomerProperty({customerId:r,data:[{slug:o,value:a}]},n)}};t.patchCustomerProperty=p;var m=function(e){var t="Oops. Something went wrong";if(e.response&&e.response.data&&e.response.status<=500){if("string"==typeof e.response.data)t=e.response.data;else if("object"===a(e.response.data)){var n=e.response.data.data,r=(n=void 0===n?{}:n).errors,o=void 0===r?{}:r;t=Object.keys(o).reduce((function(e,t,n){if(0===n){var r=o[t];return Array.isArray(r)?r[0]:r}return e}),t)}}else!e.response&&e.message&&(t=e.message);return t};t.getErrorMessage=m;t.getCustomerApiClient=function(){var e=(0,o.createApiClient)(),t={};return{getErrorMessage:m,addCustomerEmailWithoutMerging:e.addCustomerEmailWithoutMerging,checkCustomerEmailInUse:e.checkCustomerEmailInUse,deleteEntry:c(e,t),getConflicts:e.getCustomerProfileConflicts,mergeCustomers:e.mergeCustomers,patch:d(e),patchProperty:p(e),patchEntry:f(e,t)}}},960:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(72),o=n(86);t.createApiClient=function(){return(0,r.hsApiClient)(o.CUSTOMER_API.BASE_URL)}},961:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(72),o=n(86);t.createApiClient=function(){return(0,r.hsApiClient)(o.CUSTOMER_CONFLICTS_API.BASE_URL)}},962:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(72),o=n(86);t.createApiClient=function(){return(0,r.hsApiClient)(o.CUSTOMER_MERGE_API.BASE_URL)}},963:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(72),o=n(86);t.createApiClient=function(){return(0,r.hsApiClient)(o.CUSTOMER_PROFILE_API.BASE_URL)}},964:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0});var r=n(1618);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},965:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.makeMailboxes=t.default=t.Schema=t.ExtendedSchema=void 0;var r=n(296),o=n(1620),a=(0,r.createSpec)({});t.ExtendedSchema=a;var l=(0,r.compose)(o.Schema,a);t.Schema=l;var i=l.seed(2).generate();t.default=i;t.makeMailboxes=function(e){for(var t=[],n=0;n<e;n++)t.push(l.seed(n+1).generate());return t}},966:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(72),o=n(86);t.createApiClient=function(){return(0,r.hsApiClient)(o.CUSTOMER_PROPERTIES_API.BASE_URL)}},967:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createApiClient=void 0;var r=n(72),o=n(86);t.createApiClient=function(){return(0,r.hsApiClient)(o.CUSTOMERS_API.BASE_URL)}},968:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.customerProfile=void 0;var r=n(86),o={closeMergeModal:function(){return{type:r.CUSTOMER_PROFILE.CLOSE_MERGE_MODAL}},loading:function(e){return{type:r.CUSTOMER_PROFILE.LOADING,payload:{isLoading:!!e}}},loaded:function(e){return{type:r.CUSTOMER_PROFILE.LOADED,payload:{data:e}}},openMergeModal:function(e){return{type:r.CUSTOMER_PROFILE.OPEN_MERGE_MODAL,payload:e}},updateConversations:function(e,t){return{type:r.CUSTOMER_PROFILE.UPDATE_CONVERSATIONS,payload:{customerId:e,conversations:t}}},updateEmails:function(e){return{type:r.CUSTOMER_PROFILE.UPDATE_EMAILS,payload:e}}};t.customerProfile=o},969:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"CustomerInfoSkeleton",{enumerable:!0,get:function(){return o.CustomerInfoSkeleton}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=l?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}o.default=e,n&&n.set(e,o);return o}(n(1645));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var l=o.default;t.default=l},970:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1646))&&r.__esModule?r:{default:r}).default;t.default=o},971:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.SocialGridUI=t.SocialButtonUI=t.HeaderUI=t.FlexyWideUI=t.FilteredListUI=t.FilteredListBlockUI=t.DropListButtonUI=t.DescriptionUI=t.DescriptionBlockUI=t.CtaUI=t.CTAButtonUI=void 0;var r=d(n(992)),o=d(n(25)),a=d(n(28)),l=d(n(22)),i=d(n(7)),u=n(9),s=n(175),c=d(n(1651));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,i.default)(a.default.Item).withConfig({displayName:"Headercss__CtaUI",componentId:"sc-5sn4yd-0"})(["padding-top:12px;"]);t.CtaUI=f;var p=(0,i.default)(s.SimpleButton).withConfig({displayName:"Headercss__DropListButtonUI",componentId:"sc-5sn4yd-1"})(["&.c-Button.is-theme-grey{padding-right:10px;}.DropListButton__content{display:flex;align-items:center;justify-content:space-between;flex-wrap:nowrap;}.c-Icon{top:2px;}"]);t.DropListButtonUI=p;var m=(0,i.default)(l.default).withConfig({displayName:"Headercss__CTAButtonUI",componentId:"sc-5sn4yd-2"})(["margin-left:auto;margin-top:12px;"]);t.CTAButtonUI=m;var h=(0,i.default)("div").withConfig({displayName:"Headercss__HeaderUI",componentId:"sc-5sn4yd-3"})(["background-color:",";padding-bottom:36px;position:relative;width:100%;"],(0,u.getColor)("grey.200"));t.HeaderUI=h;var v=(0,i.default)(c.default).withConfig({displayName:"Headercss__SocialButtonUI",componentId:"sc-5sn4yd-4"})(["margin-left:6px !important;"]);t.SocialButtonUI=v;var y=(0,i.default)(a.default).withConfig({displayName:"Headercss__SocialGridUI",componentId:"sc-5sn4yd-5"})(["position:absolute;bottom:-14px;right:0;"]);t.SocialGridUI=y;var b=(0,i.default)(o.default).withConfig({displayName:"Headercss__DescriptionUI",componentId:"sc-5sn4yd-6"})(["color:",";font-style:italic;"],(0,u.getColor)("charcoal.200"));t.DescriptionUI=b;var g=(0,i.default)(a.default.Item).withConfig({displayName:"Headercss__DescriptionBlockUI",componentId:"sc-5sn4yd-7"})(["margin-top:8px;width:70%;font-size:14px;"]);t.DescriptionBlockUI=g;var O=(0,i.default)(a.default.Item).withConfig({displayName:"Headercss__FilteredListBlockUI",componentId:"sc-5sn4yd-8"})(["margin-top:16px;width:calc(100% + 20px);li:last-child{margin-right:0 !important;}"]);t.FilteredListBlockUI=O;var w=(0,i.default)(r.default).withConfig({displayName:"Headercss__FilteredListUI",componentId:"sc-5sn4yd-9"})(["font-size:14px;"]);t.FilteredListUI=w;var P=(0,i.default)(a.default).withConfig({displayName:"Headercss__FlexyWideUI",componentId:"sc-5sn4yd-10"})(["width:calc(100% + 20px);"]);t.FlexyWideUI=P},972:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"EditProfileTabSkeleton",{enumerable:!0,get:function(){return o.EditProfileTabSkeleton}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=l?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}o.default=e,n&&n.set(e,o);return o}(n(1659));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var l=o.default;t.default=l},973:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1673))&&r.__esModule?r:{default:r}).default;t.default=o},974:function(e,t){window;Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoView=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{block:"center"};e.current.scrollIntoView(t)}},975:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1674))&&r.__esModule?r:{default:r}).default;t.default=o},976:function(e,t,n){window;Object.defineProperty(t,"__esModule",{value:!0}),t.createInputName=function(e){return e.split(" ").join("_")},t.createInputPlaceholder=function(e){switch(e){case r.CUSTOM_PROPERTIES.TYPE_BOOL:return"Choose a value";case r.CUSTOM_PROPERTIES.TYPE_DATE:return"Choose a date";case r.CUSTOM_PROPERTIES.TYPE_DROPDOWN:return"Choose an option";case r.CUSTOM_PROPERTIES.TYPE_NUMBER:return"Add a number";case r.CUSTOM_PROPERTIES.TYPE_URL:return"Add a URL";case r.CUSTOM_PROPERTIES.TYPE_TEXT:return"Add text";default:return"Add a value"}};var r=n(86)},984:function(e,t,n){window;function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeaderSkeleton",{enumerable:!0,get:function(){return o.HeaderSkeleton}}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=l?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}o.default=e,n&&n.set(e,o);return o}(n(956));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var l=o.default;t.default=l},985:function(e,t,n){var r;window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=((r=n(1657))&&r.__esModule?r:{default:r}).default;t.default=o},987:function(e,t,n){(function(e){window;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(630)),o=a(n(1717));function a(e){return e&&e.__esModule?e:{default:e}}var l=r.default.extend({model:o.default,_prepareModel:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(n,e.pick(this,"isWaitingSinceEnabled")),r.default.prototype._prepareModel.call(this,t,n)}});t.default=l}).call(this,n(1))}}]);
//# sourceMappingURL=mailbox-chat~mailbox-folder~mailbox-newconvo~mailbox-ticket-dadffd4f58849d41afe1.js.map